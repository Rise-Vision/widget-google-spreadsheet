function handleClientJSLoad(){isClientJS=!0;var e=document.createEvent("Events");e.initEvent("gapi.loaded",!0,!0),window.dispatchEvent(e)}angular.module("pascalprecht.translate",["ng"]).run(["$translate",function(e){var t=e.storageKey(),n=e.storage(),a=function(){var a=e.preferredLanguage();angular.isString(a)?e.use(a):n.put(t,e.use())};n?n.get(t)?e.use(n.get(t))["catch"](a):a():angular.isString(e.preferredLanguage())&&e.use(e.preferredLanguage())}]),angular.module("pascalprecht.translate").provider("$translate",["$STORAGE_KEY",function(e){var t,n,a,i,o,r,s,l,c,u,d,p,f,m,g,h={},v=[],b=e,y=[],$=!1,w="translate-cloak",k=!1,x=".",C="2.5.2",T=function(){var e,t,n=window.navigator,a=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(n.languages))for(e=0;e<n.languages.length;e++)if(t=n.languages[e],t&&t.length)return t;for(e=0;e<a.length;e++)if(t=n[a[e]],t&&t.length)return t;return null};T.displayName="angular-translate/service: getFirstBrowserLanguage";var D=function(){return(T()||"").split("-").join("_")};D.displayName="angular-translate/service: getLocale";var S=function(e,t){for(var n=0,a=e.length;a>n;n++)if(e[n]===t)return n;return-1},E=function(){return this.replace(/^\s+|\s+$/g,"")},O=function(e){for(var t=[],a=angular.lowercase(e),i=0,o=v.length;o>i;i++)t.push(angular.lowercase(v[i]));if(S(t,a)>-1)return e;if(n){var r;for(var s in n){var l=!1,c=Object.prototype.hasOwnProperty.call(n,s)&&angular.lowercase(s)===angular.lowercase(e);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===e.slice(0,s.length-1)),(c||l)&&(r=n[s],S(t,angular.lowercase(r))>-1))return r}}var u=e.split("_");return u.length>1&&S(t,angular.lowercase(u[0]))>-1?u[0]:e},M=function(e,t){if(!e&&!t)return h;if(e&&!t){if(angular.isString(e))return h[e]}else angular.isObject(h[e])||(h[e]={}),angular.extend(h[e],A(t));return this};this.translations=M,this.cloakClassName=function(e){return e?(w=e,this):w};var A=function(e,t,n,a){var i,o,r,s;t||(t=[]),n||(n={});for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&(s=e[i],angular.isObject(s)?A(s,t.concat(i),n,i):(o=t.length?""+t.join(x)+x+i:i,t.length&&i===a&&(r=""+t.join(x),n[r]="@:"+o),n[o]=s));return n};this.addInterpolation=function(e){return y.push(e),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(e){return u=e,this},this.useSanitizeValueStrategy=function(e){return $=e,this},this.preferredLanguage=function(e){return P(e),this};var P=function(e){return e&&(t=e),t};this.translationNotFoundIndicator=function(e){return this.translationNotFoundIndicatorLeft(e),this.translationNotFoundIndicatorRight(e),this},this.translationNotFoundIndicatorLeft=function(e){return e?(f=e,this):f},this.translationNotFoundIndicatorRight=function(e){return e?(m=e,this):m},this.fallbackLanguage=function(e){return I(e),this};var I=function(e){return e?(angular.isString(e)?(i=!0,a=[e]):angular.isArray(e)&&(i=!1,a=e),angular.isString(t)&&S(a,t)<0&&a.push(t),this):i?a[0]:a};this.use=function(e){if(e){if(!h[e]&&!d)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+e+"'");return o=e,this}return o};var L=function(e){return e?(b=e,void 0):l?l+b:b};this.storageKey=L,this.useUrlLoader=function(e,t){return this.useLoader("$translateUrlLoader",angular.extend({url:e},t))},this.useStaticFilesLoader=function(e){return this.useLoader("$translateStaticFilesLoader",e)},this.useLoader=function(e,t){return d=e,p=t||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(e){return s=e,this},this.storagePrefix=function(e){return e?(l=e,this):e},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(e){return c=e,this},this.usePostCompiling=function(e){return k=!!e,this},this.determinePreferredLanguage=function(e){var n=e&&angular.isFunction(e)?e():D();return t=v.length?O(n):n,this},this.registerAvailableLanguageKeys=function(e,t){return e?(v=e,t&&(n=t),this):v},this.useLoaderCache=function(e){return e===!1?g=void 0:e===!0?g=!0:"undefined"==typeof e?g="$translationCache":e&&(g=e),this},this.$get=["$log","$injector","$rootScope","$q",function(e,n,l,v){var x,T,D,F=n.get(u||"$translateDefaultInterpolation"),N=!1,U={},V={},H=function(e,n,i){if(angular.isArray(e)){var r=function(e){for(var t={},a=[],o=function(e){var a=v.defer(),o=function(n){t[e]=n,a.resolve([e,n])};return H(e,n,i).then(o,o),a.promise},r=0,s=e.length;s>r;r++)a.push(o(e[r]));return v.all(a).then(function(){return t})};return r(e)}var l=v.defer();e&&(e=E.apply(e));var c=function(){var e=t?V[t]:V[o];if(T=0,s&&!e){var n=x.get(b);if(e=V[n],a&&a.length){var i=S(a,n);T=0===i?1:0,S(a,t)<0&&a.push(t)}}return e}();return c?c.then(function(){J(e,n,i).then(l.resolve,l.reject)},l.reject):J(e,n,i).then(l.resolve,l.reject),l.promise},_=function(e){return f&&(e=[f,e].join(" ")),m&&(e=[e,m].join(" ")),e},R=function(e){o=e,l.$emit("$translateChangeSuccess",{language:e}),s&&x.put(H.storageKey(),o),F.setLocale(o),angular.forEach(U,function(e,t){U[t].setLocale(o)}),l.$emit("$translateChangeEnd",{language:e})},j=function(e){if(!e)throw"No language key specified for loading.";var t=v.defer();l.$emit("$translateLoadingStart",{language:e}),N=!0;var a=g;"string"==typeof a&&(a=n.get(a));var i=angular.extend({},p,{key:e,$http:angular.extend({},{cache:a},p.$http)});return n.get(d)(i).then(function(n){var a={};l.$emit("$translateLoadingSuccess",{language:e}),angular.isArray(n)?angular.forEach(n,function(e){angular.extend(a,A(e))}):angular.extend(a,A(n)),N=!1,t.resolve({key:e,table:a}),l.$emit("$translateLoadingEnd",{language:e})},function(e){l.$emit("$translateLoadingError",{language:e}),t.reject(e),l.$emit("$translateLoadingEnd",{language:e})}),t.promise};if(s&&(x=n.get(s),!x.get||!x.put))throw new Error("Couldn't use storage '"+s+"', missing get() or put() method!");angular.isFunction(F.useSanitizeValueStrategy)&&F.useSanitizeValueStrategy($),y.length&&angular.forEach(y,function(e){var a=n.get(e);a.setLocale(t||o),angular.isFunction(a.useSanitizeValueStrategy)&&a.useSanitizeValueStrategy($),U[a.getInterpolationIdentifier()]=a});var z=function(e){var t=v.defer();return Object.prototype.hasOwnProperty.call(h,e)?t.resolve(h[e]):V[e]?V[e].then(function(e){M(e.key,e.table),t.resolve(e.table)},t.reject):t.reject(),t.promise},q=function(e,t,n,a){var i=v.defer();return z(e).then(function(r){Object.prototype.hasOwnProperty.call(r,t)?(a.setLocale(e),i.resolve(a.interpolate(r[t],n)),a.setLocale(o)):i.reject()},i.reject),i.promise},B=function(e,t,n,a){var i,r=h[e];return r&&Object.prototype.hasOwnProperty.call(r,t)&&(a.setLocale(e),i=a.interpolate(r[t],n),a.setLocale(o)),i},W=function(e){if(c){var t=n.get(c)(e,o);return void 0!==t?t:e}return e},G=function(e,t,n,i){var o=v.defer();if(e<a.length){var r=a[e];q(r,t,n,i).then(o.resolve,function(){G(e+1,t,n,i).then(o.resolve)})}else o.resolve(W(t));return o.promise},Y=function(e,t,n,i){var o;if(e<a.length){var r=a[e];o=B(r,t,n,i),o||(o=Y(e+1,t,n,i))}return o},K=function(e,t,n){return G(D>0?D:T,e,t,n)},Q=function(e,t,n){return Y(D>0?D:T,e,t,n)},J=function(e,t,n){var i=v.defer(),r=o?h[o]:h,s=n?U[n]:F;if(r&&Object.prototype.hasOwnProperty.call(r,e)){var l=r[e];"@:"===l.substr(0,2)?H(l.substr(2),t,n).then(i.resolve,i.reject):i.resolve(s.interpolate(l,t))}else{var u;c&&!N&&(u=W(e)),o&&a&&a.length?K(e,t,s).then(function(e){i.resolve(e)},function(e){i.reject(_(e))}):c&&!N&&u?i.resolve(u):i.reject(_(e))}return i.promise},X=function(e,t,n){var i,r=o?h[o]:h,s=n?U[n]:F;if(r&&Object.prototype.hasOwnProperty.call(r,e)){var l=r[e];i="@:"===l.substr(0,2)?X(l.substr(2),t,n):s.interpolate(l,t)}else{var u;c&&!N&&(u=W(e)),o&&a&&a.length?(T=0,i=Q(e,t,s)):i=c&&!N&&u?u:_(e)}return i};if(H.preferredLanguage=function(e){return e&&P(e),t},H.cloakClassName=function(){return w},H.fallbackLanguage=function(e){if(void 0!==e&&null!==e){if(I(e),d&&a&&a.length)for(var t=0,n=a.length;n>t;t++)V[a[t]]||(V[a[t]]=j(a[t]));H.use(H.use())}return i?a[0]:a},H.useFallbackLanguage=function(e){if(void 0!==e&&null!==e)if(e){var t=S(a,e);t>-1&&(D=t)}else D=0},H.proposedLanguage=function(){return r},H.storage=function(){return x},H.use=function(e){if(!e)return o;var t=v.defer();l.$emit("$translateChangeStart",{language:e});var n=O(e);return n&&(e=n),h[e]||!d||V[e]?(t.resolve(e),R(e)):(r=e,V[e]=j(e).then(function(n){return M(n.key,n.table),t.resolve(n.key),R(n.key),r===e&&(r=void 0),n},function(e){r===e&&(r=void 0),l.$emit("$translateChangeError",{language:e}),t.reject(e),l.$emit("$translateChangeEnd",{language:e})})),t.promise},H.storageKey=function(){return L()},H.isPostCompilingEnabled=function(){return k},H.refresh=function(e){function t(){i.resolve(),l.$emit("$translateRefreshEnd",{language:e})}function n(){i.reject(),l.$emit("$translateRefreshEnd",{language:e})}if(!d)throw new Error("Couldn't refresh translation table, no loader registered!");var i=v.defer();if(l.$emit("$translateRefreshStart",{language:e}),e)h[e]?j(e).then(function(n){M(n.key,n.table),e===o&&R(o),t()},n):n();else{var r=[],s={};if(a&&a.length)for(var c=0,u=a.length;u>c;c++)r.push(j(a[c])),s[a[c]]=!0;o&&!s[o]&&r.push(j(o)),v.all(r).then(function(e){angular.forEach(e,function(e){h[e.key]&&delete h[e.key],M(e.key,e.table)}),o&&R(o),t()})}return i.promise},H.instant=function(e,n,i){if(null===e||angular.isUndefined(e))return e;if(angular.isArray(e)){for(var r={},s=0,l=e.length;l>s;s++)r[e[s]]=H.instant(e[s],n,i);return r}if(angular.isString(e)&&e.length<1)return e;e&&(e=E.apply(e));var u,d=[];t&&d.push(t),o&&d.push(o),a&&a.length&&(d=d.concat(a));for(var p=0,f=d.length;f>p;p++){var m=d[p];if(h[m]&&"undefined"!=typeof h[m][e]&&(u=X(e,n,i)),"undefined"!=typeof u)break}return u||""===u||(u=F.interpolate(e,n),c&&!N&&(u=W(e))),u},H.versionInfo=function(){return C},H.loaderCache=function(){return g},d&&(angular.equals(h,{})&&H.use(H.use()),a&&a.length))for(var Z=function(e){return M(e.key,e.table),l.$emit("$translateChangeEnd",{language:e.key}),e},et=0,tt=a.length;tt>et;et++)V[a[et]]=j(a[et]).then(Z);return H}]}]),angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",["$interpolate",function(e){var t,n={},a="default",i=null,o={escaped:function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=angular.element("<div></div>").text(e[n]).html());return t}},r=function(e){var t;return t=angular.isFunction(o[i])?o[i](e):e};return n.setLocale=function(e){t=e},n.getInterpolationIdentifier=function(){return a},n.useSanitizeValueStrategy=function(e){return i=e,this},n.interpolate=function(t,n){return i&&(n=r(n)),e(t)(n||{})},n}]),angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",["$translate","$q","$interpolate","$compile","$parse","$rootScope",function(e,t,n,a,i,o){return{restrict:"AE",scope:!0,compile:function(t,r){var s=r.translateValues?r.translateValues:void 0,l=r.translateInterpolation?r.translateInterpolation:void 0,c=t[0].outerHTML.match(/translate-value-+/i),u="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",d="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(t,p,f){t.interpolateParams={},t.preText="",t.postText="";var m={},g=function(e){if(angular.equals(e,"")||!angular.isDefined(e)){var a=p.text().match(u);angular.isArray(a)?(t.preText=a[1],t.postText=a[3],m.translate=n(a[2])(t.$parent),watcherMatches=p.text().match(d),angular.isArray(watcherMatches)&&watcherMatches[2]&&watcherMatches[2].length&&t.$watch(watcherMatches[2],function(e){m.translate=e,$()})):m.translate=p.text().replace(/^\s+|\s+$/g,"")}else m.translate=e;$()},h=function(e){f.$observe(e,function(t){m[e]=t,$()})};f.$observe("translate",function(e){g(e)});for(var v in f)f.hasOwnProperty(v)&&"translateAttr"===v.substr(0,13)&&h(v);if(f.$observe("translateDefault",function(e){t.defaultText=e}),s&&f.$observe("translateValues",function(e){e&&t.$parent.$watch(function(){angular.extend(t.interpolateParams,i(e)(t.$parent))})}),c){var b=function(e){f.$observe(e,function(n){var a=angular.lowercase(e.substr(14,1))+e.substr(15);t.interpolateParams[a]=n})};for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&"translateValue"===y.substr(0,14)&&"translateValues"!==y&&b(y)}var $=function(){for(var e in m)m.hasOwnProperty(e)&&m[e]&&w(e,m[e],t,t.interpolateParams)},w=function(t,n,a,i){e(n,i,l).then(function(e){k(e,a,!0,t)},function(e){k(e,a,!1,t)})},k=function(t,n,i,o){if("translate"===o){i||"undefined"==typeof n.defaultText||(t=n.defaultText),p.html(n.preText+t+n.postText);var s=e.isPostCompilingEnabled(),l="undefined"!=typeof r.translateCompile,c=l&&"false"!==r.translateCompile;(s&&!l||c)&&a(p.contents())(n)}else{i||"undefined"==typeof n.defaultText||(t=n.defaultText);var u=f.$attr[o].substr(15);p.attr(u,t)}};t.$watch("interpolateParams",$,!0);var x=o.$on("$translateChangeSuccess",$);p.text().length&&g(""),$(),t.$on("$destroy",x)}}}}]),angular.module("pascalprecht.translate").directive("translateCloak",["$rootScope","$translate",function(e,t){return{compile:function(n){var a=function(){n.addClass(t.cloakClassName())},i=function(){n.removeClass(t.cloakClassName())},o=e.$on("$translateChangeEnd",function(){i(),o(),o=null});return a(),function(e,n,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(e){t(e).then(i,a)})}}}}]),angular.module("pascalprecht.translate").filter("translate",["$parse","$translate",function(e,t){var n=function(n,a,i){return angular.isObject(a)||(a=e(a)(this)),t.instant(n,a,i)};return n.$stateful=!0,n}]),function(){"use strict";angular.module("angularLoad",[]).service("angularLoad",["$document","$q","$timeout",function(e,t,n){function a(e){var a={};return function(i){if("undefined"==typeof a[i]){var o=t.defer(),r=e(i);r.onload=r.onreadystatechange=function(e){r.readyState&&"complete"!==r.readyState&&"loaded"!==r.readyState||n(function(){o.resolve(e)})},r.onerror=function(e){n(function(){o.reject(e)})},a[i]=o.promise}return a[i]}}var i=e[0];this.loadScript=a(function(e){var t=i.createElement("script");return t.src=e,i.body.appendChild(t),t}),this.loadCSS=a(function(e){var t=i.createElement("link");return t.rel="stylesheet",t.type="text/css",t.href=e,i.head.appendChild(t),t})}])}(),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){return function(n){if(!n||!angular.isString(n.prefix)||!angular.isString(n.suffix))throw new Error("Couldn't load static files, no prefix or suffix specified!");var a=e.defer();return t(angular.extend({url:[n.prefix,n.key,n.suffix].join(""),method:"GET",params:""},n.$http)).success(function(e){a.resolve(e)}).error(function(){a.reject(n.key)}),a.promise}}]),angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",["$q","$http",function(e,t){function n(e,a){t(angular.extend({url:[e.prefix,e.key.toLowerCase(),e.suffix].join(""),method:"GET",params:""},e.$http)).success(function(e){a.resolve(e)}).error(function(){if(e.key.indexOf("_")>=0){var t=e.key.substr(0,e.key.lastIndexOf("_")),i=angular.extend({},e,{key:t});n(i,a)}else a.resolve("{}")})}return function(t){if(!t||!angular.isString(t.prefix)||!angular.isString(t.suffix))throw new Error('Couldn"t load static files, no prefix or suffix specified!');var a=e.defer();return n(t,a),a.promise}}]),angular.module("risevision.common.i18n",["pascalprecht.translate","risevision.common.i18n.config"]).config(["$translateProvider","LOCALES_PREFIX","LOCALES_SUFIX",function(e,t,n){e.useStaticFilesLoader({prefix:t,suffix:n}),e.determinePreferredLanguage().fallbackLanguage("en")}]),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.affix"),o="object"==typeof t&&t;i||a.data("bs.affix",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,a){this.options=e.extend({},n.DEFAULTS,a),this.$target=e(this.options.target).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(t),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.2.0",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("affix");var e=this.$target.scrollTop(),t=this.$element.offset();return this.pinnedOffset=t.top-e},n.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var t=e(document).height(),a=this.$target.scrollTop(),i=this.$element.offset(),o=this.options.offset,r=o.top,s=o.bottom;"object"!=typeof o&&(s=r=o),"function"==typeof r&&(r=o.top(this.$element)),"function"==typeof s&&(s=o.bottom(this.$element));var l=null!=this.unpin&&a+this.unpin<=i.top?!1:null!=s&&i.top+this.$element.height()>=t-s?"bottom":null!=r&&r>=a?"top":!1;if(this.affixed!==l){null!=this.unpin&&this.$element.css("top","");var c="affix"+(l?"-"+l:""),u=e.Event(c+".bs.affix");this.$element.trigger(u),u.isDefaultPrevented()||(this.affixed=l,this.unpin="bottom"==l?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass(c).trigger(e.Event(c.replace("affix","affixed"))),"bottom"==l&&this.$element.offset({top:t-this.$element.height()-s}))}}};var a=e.fn.affix;e.fn.affix=t,e.fn.affix.Constructor=n,e.fn.affix.noConflict=function(){return e.fn.affix=a,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var n=e(this),a=n.data();a.offset=a.offset||{},a.offsetBottom&&(a.offset.bottom=a.offsetBottom),a.offsetTop&&(a.offset.top=a.offsetTop),t.call(n,a)})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var n=e(this),i=n.data("bs.alert");i||n.data("bs.alert",i=new a(this)),"string"==typeof t&&i[t].call(n)})}var n='[data-dismiss="alert"]',a=function(t){e(t).on("click",n,this.close)};a.VERSION="3.2.0",a.prototype.close=function(t){function n(){o.detach().trigger("closed.bs.alert").remove()}var a=e(this),i=a.attr("data-target");i||(i=a.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,""));var o=e(i);t&&t.preventDefault(),o.length||(o=a.hasClass("alert")?a:a.parent()),o.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(o.removeClass("in"),e.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",n).emulateTransitionEnd(150):n())};var i=e.fn.alert;e.fn.alert=t,e.fn.alert.Constructor=a,e.fn.alert.noConflict=function(){return e.fn.alert=i,this},e(document).on("click.bs.alert.data-api",n,a.prototype.close)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.button"),o="object"==typeof t&&t;i||a.data("bs.button",i=new n(this,o)),"toggle"==t?i.toggle():t&&i.setState(t)})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.isLoading=!1};n.VERSION="3.2.0",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(t){var n="disabled",a=this.$element,i=a.is("input")?"val":"html",o=a.data();t+="Text",null==o.resetText&&a.data("resetText",a[i]()),a[i](null==o[t]?this.options[t]:o[t]),setTimeout(e.proxy(function(){"loadingText"==t?(this.isLoading=!0,a.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,a.removeClass(n).removeAttr(n))},this),0)},n.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var a=e.fn.button;e.fn.button=t,e.fn.button.Constructor=n,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var a=e(n.target);a.hasClass("btn")||(a=a.closest(".btn")),t.call(a,"toggle"),n.preventDefault()})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.carousel"),o=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t),r="string"==typeof t?t:o.slide;i||a.data("bs.carousel",i=new n(this,o)),"number"==typeof t?i.to(t):r?i[r]():o.interval&&i.pause().cycle()})}var n=function(t,n){this.$element=e(t).on("keydown.bs.carousel",e.proxy(this.keydown,this)),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter.bs.carousel",e.proxy(this.pause,this)).on("mouseleave.bs.carousel",e.proxy(this.cycle,this))};n.VERSION="3.2.0",n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},n.prototype.keydown=function(e){switch(e.which){case 37:this.prev();break;case 39:this.next();break;default:return}e.preventDefault()},n.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(e){return this.$items=e.parent().children(".item"),this.$items.index(e||this.$active)},n.prototype.to=function(t){var n=this,a=this.getItemIndex(this.$active=this.$element.find(".item.active"));return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):a==t?this.pause().cycle():this.slide(t>a?"next":"prev",e(this.$items[t]))},n.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){return this.sliding?void 0:this.slide("next")},n.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},n.prototype.slide=function(t,n){var a=this.$element.find(".item.active"),i=n||a[t](),o=this.interval,r="next"==t?"left":"right",s="next"==t?"first":"last",l=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[s]()}if(i.hasClass("active"))return this.sliding=!1;var c=i[0],u=e.Event("slide.bs.carousel",{relatedTarget:c,direction:r});if(this.$element.trigger(u),!u.isDefaultPrevented()){if(this.sliding=!0,o&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=e(this.$indicators.children()[this.getItemIndex(i)]);d&&d.addClass("active")}var p=e.Event("slid.bs.carousel",{relatedTarget:c,direction:r});return e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,a.addClass(r),i.addClass(r),a.one("bsTransitionEnd",function(){i.removeClass([t,r].join(" ")).addClass("active"),a.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(p)},0)}).emulateTransitionEnd(1e3*a.css("transition-duration").slice(0,-1))):(a.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger(p)),o&&this.cycle(),this}};var a=e.fn.carousel;e.fn.carousel=t,e.fn.carousel.Constructor=n,e.fn.carousel.noConflict=function(){return e.fn.carousel=a,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(n){var a,i=e(this),o=e(i.attr("data-target")||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""));if(o.hasClass("carousel")){var r=e.extend({},o.data(),i.data()),s=i.attr("data-slide-to");s&&(r.interval=!1),t.call(o,r),s&&o.data("bs.carousel").to(s),n.preventDefault()}}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var n=e(this);t.call(n,n.data())})})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.collapse"),o=e.extend({},n.DEFAULTS,a.data(),"object"==typeof t&&t);!i&&o.toggle&&"show"==t&&(t=!t),i||a.data("bs.collapse",i=new n(this,o)),"string"==typeof t&&i[t]()})}var n=function(t,a){this.$element=e(t),this.options=e.extend({},n.DEFAULTS,a),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};n.VERSION="3.2.0",n.DEFAULTS={toggle:!0},n.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},n.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n=e.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var a=this.$parent&&this.$parent.find("> .panel > .in");if(a&&a.length){var i=a.data("bs.collapse");if(i&&i.transitioning)return;t.call(a,"hide"),i||a.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var r=function(){this.$element.removeClass("collapsing").addClass("collapse in")[o](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return r.call(this);var s=e.camelCase(["scroll",o].join("-"));this.$element.one("bsTransitionEnd",e.proxy(r,this)).emulateTransitionEnd(350)[o](this.$element[0][s])}}},n.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var a=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?(this.$element[n](0).one("bsTransitionEnd",e.proxy(a,this)).emulateTransitionEnd(350),void 0):a.call(this)}}},n.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var a=e.fn.collapse;e.fn.collapse=t,e.fn.collapse.Constructor=n,e.fn.collapse.noConflict=function(){return e.fn.collapse=a,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(n){var a,i=e(this),o=i.attr("data-target")||n.preventDefault()||(a=i.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,""),r=e(o),s=r.data("bs.collapse"),l=s?"toggle":i.data(),c=i.attr("data-parent"),u=c&&e(c);s&&s.transitioning||(u&&u.find('[data-toggle="collapse"][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[r.hasClass("in")?"addClass":"removeClass"]("collapsed")),t.call(r,l)})}(jQuery),+function(e){"use strict";function t(t){t&&3===t.which||(e(i).remove(),e(o).each(function(){var a=n(e(this)),i={relatedTarget:this};a.hasClass("open")&&(a.trigger(t=e.Event("hide.bs.dropdown",i)),t.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown",i))}))}function n(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var a=n&&e(n);return a&&a.length?a:t.parent()}function a(t){return this.each(function(){var n=e(this),a=n.data("bs.dropdown");a||n.data("bs.dropdown",a=new r(this)),"string"==typeof t&&a[t].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.VERSION="3.2.0",r.prototype.toggle=function(a){var i=e(this);if(!i.is(".disabled, :disabled")){var o=n(i),r=o.hasClass("open");if(t(),!r){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t);var s={relatedTarget:this};if(o.trigger(a=e.Event("show.bs.dropdown",s)),a.isDefaultPrevented())return;i.trigger("focus"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var a=e(this);if(t.preventDefault(),t.stopPropagation(),!a.is(".disabled, :disabled")){var i=n(a),r=i.hasClass("open");if(!r||r&&27==t.keyCode)return 27==t.which&&i.find(o).trigger("focus"),a.trigger("click");var s=" li:not(.divider):visible a",l=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(l.length){var c=l.index(l.filter(":focus"));38==t.keyCode&&c>0&&c--,40==t.keyCode&&c<l.length-1&&c++,~c||(c=0),l.eq(c).trigger("focus")}}}};var s=e.fn.dropdown;e.fn.dropdown=a,e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=s,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,r.prototype.toggle).on("keydown.bs.dropdown.data-api",o+', [role="menu"], [role="listbox"]',r.prototype.keydown)}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.tab");i||a.data("bs.tab",i=new n(this)),"string"==typeof t&&i[t]()})}var n=function(t){this.element=e(t)};n.VERSION="3.2.0",n.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),a=t.data("target");if(a||(a=t.attr("href"),a=a&&a.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a")[0],o=e.Event("show.bs.tab",{relatedTarget:i});if(t.trigger(o),!o.isDefaultPrevented()){var r=e(a);this.activate(t.closest("li"),n),this.activate(r,r.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})}}},n.prototype.activate=function(t,n,a){function i(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),a&&a()}var o=n.find("> .active"),r=a&&e.support.transition&&o.hasClass("fade");r?o.one("bsTransitionEnd",i).emulateTransitionEnd(150):i(),o.removeClass("in")};var a=e.fn.tab;e.fn.tab=t,e.fn.tab.Constructor=n,e.fn.tab.noConflict=function(){return e.fn.tab=a,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(n){n.preventDefault(),t.call(e(this),"show")})}(jQuery),+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,a=this;e(this).one("bsTransitionEnd",function(){n=!0});var i=function(){n||e(a).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){return e(t.target).is(this)?t.handleObj.handler.apply(this,arguments):void 0}})})}(jQuery),+function(e){"use strict";function t(n,a){var i=e.proxy(this.process,this);this.$body=e("body"),this.$scrollElement=e(n).is("body")?e(window):e(n),this.options=e.extend({},t.DEFAULTS,a),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",i),this.refresh(),this.process()}function n(n){return this.each(function(){var a=e(this),i=a.data("bs.scrollspy"),o="object"==typeof n&&n;i||a.data("bs.scrollspy",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.2.0",t.DEFAULTS={offset:10},t.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},t.prototype.refresh=function(){var t="offset",n=0;e.isWindow(this.$scrollElement[0])||(t="position",n=this.$scrollElement.scrollTop()),this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight();var a=this;this.$body.find(this.selector).map(function(){var a=e(this),i=a.data("target")||a.attr("href"),o=/^#./.test(i)&&e(i);
return o&&o.length&&o.is(":visible")&&[[o[t]().top+n,i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){a.offsets.push(this[0]),a.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),a=this.options.offset+n-this.$scrollElement.height(),i=this.offsets,o=this.targets,r=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),t>=a)return r!=(e=o[o.length-1])&&this.activate(e);if(r&&t<=i[0])return r!=(e=o[0])&&this.activate(e);for(e=i.length;e--;)r!=o[e]&&t>=i[e]&&(!i[e+1]||t<=i[e+1])&&this.activate(o[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',a=e(n).parents("li").addClass("active");a.parent(".dropdown-menu").length&&(a=a.closest("li.dropdown").addClass("active")),a.trigger("activate.bs.scrollspy")};var a=e.fn.scrollspy;e.fn.scrollspy=n,e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=a,this},e(window).on("load.bs.scrollspy.data-api",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);n.call(t,t.data())})})}(jQuery),+function(e){"use strict";function t(t,a){return this.each(function(){var i=e(this),o=i.data("bs.modal"),r=e.extend({},n.DEFAULTS,i.data(),"object"==typeof t&&t);o||i.data("bs.modal",o=new n(this,r)),"string"==typeof t?o[t](a):r.show&&o.show(a)})}var n=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};n.VERSION="3.2.0",n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},n.prototype.show=function(t){var n=this,a=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(a),this.isShown||a.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.$body.addClass("modal-open"),this.setScrollbar(),this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var a=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(n.$body),n.$element.show().scrollTop(0),a&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});a?n.$element.find(".modal-dialog").one("bsTransitionEnd",function(){n.$element.trigger("focus").trigger(i)}).emulateTransitionEnd(300):n.$element.trigger("focus").trigger(i)}))},n.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.$body.removeClass("modal-open"),this.resetScrollbar(),this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},n.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},n.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$element.trigger("hidden.bs.modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(t){var n=this,a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&a;if(this.$backdrop=e('<div class="modal-backdrop '+a+'" />').appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one("bsTransitionEnd",t).emulateTransitionEnd(150):t()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),t&&t()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(150):o()}else t&&t()},n.prototype.checkScrollbar=function(){document.body.clientWidth>=window.innerWidth||(this.scrollbarWidth=this.scrollbarWidth||this.measureScrollbar())},n.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.scrollbarWidth&&this.$body.css("padding-right",e+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},n.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var a=e.fn.modal;e.fn.modal=t,e.fn.modal.Constructor=n,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var a=e(this),i=a.attr("href"),o=e(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),r=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),a.data());a.is("a")&&n.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){a.is(":visible")&&a.trigger("focus")})}),t.call(o,r,this)})}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.tooltip"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||a.data("bs.tooltip",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};n.VERSION="3.2.0",n.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},n.prototype.init=function(t,n,a){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(a),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport);for(var i=this.options.trigger.split(" "),o=i.length;o--;){var r=i[o];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},n.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,a){n[e]!=a&&(t[e]=a)}),t},n.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},n.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},n.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);var n=e.contains(document.documentElement,this.$element[0]);if(t.isDefaultPrevented()||!n)return;var a=this,i=this.tip(),o=this.getUID(this.type);this.setContent(),i.attr("id",o),this.$element.attr("aria-describedby",o),this.options.animation&&i.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,l=s.test(r);l&&(r=r.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(r).data("bs."+this.type,this),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var c=this.getPosition(),u=i[0].offsetWidth,d=i[0].offsetHeight;if(l){var p=r,f=this.$element.parent(),m=this.getPosition(f);r="bottom"==r&&c.top+c.height+d-m.scroll>m.height?"top":"top"==r&&c.top-m.scroll-d<0?"bottom":"right"==r&&c.right+u>m.width?"left":"left"==r&&c.left-u<m.left?"right":r,i.removeClass(p).addClass(r)}var g=this.getCalculatedOffset(r,c,u,d);this.applyPlacement(g,r);var h=function(){a.$element.trigger("shown.bs."+a.type),a.hoverState=null};e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",h).emulateTransitionEnd(150):h()}},n.prototype.applyPlacement=function(t,n){var a=this.tip(),i=a[0].offsetWidth,o=a[0].offsetHeight,r=parseInt(a.css("margin-top"),10),s=parseInt(a.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(s)&&(s=0),t.top=t.top+r,t.left=t.left+s,e.offset.setOffset(a[0],e.extend({using:function(e){a.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),a.addClass("in");var l=a[0].offsetWidth,c=a[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var u=this.getViewportAdjustedDelta(n,t,l,c);u.left?t.left+=u.left:t.top+=u.top;var d=u.left?2*u.left-i+l:2*u.top-o+c,p=u.left?"left":"top",f=u.left?"offsetWidth":"offsetHeight";a.offset(t),this.replaceArrow(d,a[0][f],p)},n.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},n.prototype.hide=function(){function t(){"in"!=n.hoverState&&a.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,a=this.tip(),i=e.Event("hide.bs."+this.type);return this.$element.removeAttr("aria-describedby"),this.$element.trigger(i),i.isDefaultPrevented()?void 0:(a.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?a.one("bsTransitionEnd",t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},n.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},n.prototype.hasContent=function(){return this.getTitle()},n.prototype.getPosition=function(t){t=t||this.$element;var n=t[0],a="BODY"==n.tagName;return e.extend({},"function"==typeof n.getBoundingClientRect?n.getBoundingClientRect():null,{scroll:a?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop(),width:a?e(window).width():t.outerWidth(),height:a?e(window).height():t.outerHeight()},a?{top:0,left:0}:t.offset())},n.prototype.getCalculatedOffset=function(e,t,n,a){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-a,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-a/2,left:t.left-n}:{top:t.top+t.height/2-a/2,left:t.left+t.width}},n.prototype.getViewportAdjustedDelta=function(e,t,n,a){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-r.scroll,l=t.top+o-r.scroll+a;s<r.top?i.top=r.top-s:l>r.top+r.height&&(i.top=r.top+r.height-l)}else{var c=t.left-o,u=t.left+o+n;c<r.left?i.left=r.left-c:u>r.width&&(i.left=r.left+r.width-u)}return i},n.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},n.prototype.getUID=function(e){do e+=~~(1e6*Math.random());while(document.getElementById(e));return e},n.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},n.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},n.prototype.enable=function(){this.enabled=!0},n.prototype.disable=function(){this.enabled=!1},n.prototype.toggleEnabled=function(){this.enabled=!this.enabled},n.prototype.toggle=function(t){var n=this;t&&(n=e(t.currentTarget).data("bs."+this.type),n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},n.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=e.fn.tooltip;e.fn.tooltip=t,e.fn.tooltip.Constructor=n,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=a,this}}(jQuery),+function(e){"use strict";function t(t){return this.each(function(){var a=e(this),i=a.data("bs.popover"),o="object"==typeof t&&t;(i||"destroy"!=t)&&(i||a.data("bs.popover",i=new n(this,o)),"string"==typeof t&&i[t]())})}var n=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");n.VERSION="3.2.0",n.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),n.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),n.prototype.constructor=n,n.prototype.getDefaults=function(){return n.DEFAULTS},n.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").empty()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},n.prototype.hasContent=function(){return this.getTitle()||this.getContent()},n.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},n.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},n.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var a=e.fn.popover;e.fn.popover=t,e.fn.popover.Constructor=n,e.fn.popover.noConflict=function(){return e.fn.popover=a,this}}(jQuery),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.transition","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-popup.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/tooltip/tooltip-template-popup.html","template/popover/popover-html.html","template/popover/popover-template.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.collapse",[]).directive("collapse",["$animate",function(e){return{link:function(t,n,a){function i(){n.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e.addClass(n,"in",{to:{height:n[0].scrollHeight+"px"}}).then(o)}function o(){n.removeClass("collapsing"),n.css({height:"auto"})}function r(){return n.hasClass("collapse")||n.hasClass("in")?(n.css({height:n[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e.removeClass(n,"in",{to:{height:"0"}}).then(s),void 0):s()}function s(){n.css({height:"0"}),n.removeClass("collapsing"),n.addClass("collapse")}t.$watch(a.collapse,function(e){e?r():i()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(e,t,n){this.groups=[],this.closeOthers=function(a){var i=angular.isDefined(t.closeOthers)?e.$eval(t.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(e){e!==a&&(e.isOpen=!1)})},this.addGroup=function(e){var t=this;this.groups.push(e),e.$on("$destroy",function(){t.removeGroup(e)})},this.removeGroup=function(e){var t=this.groups.indexOf(e);-1!==t&&this.groups.splice(t,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",controllerAs:"accordion",transclude:!0,replace:!1,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion.html"}}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/accordion/accordion-group.html"},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(e){this.heading=e}},link:function(e,t,n,a){a.addGroup(e),e.openClass=n.openClass||"panel-open",e.panelClass=n.panelClass,e.$watch("isOpen",function(n){t.toggleClass(e.openClass,n),n&&a.closeOthers(e)}),e.toggleOpen=function(t){e.isDisabled||t&&32!==t.which||(e.isOpen=!e.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(e,t,n,a,i){a.setHeading(i(e,angular.noop))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(e,t,n,a){e.$watch(function(){return a[n.accordionTransclude]},function(e){e&&(t.find("span").html(""),t.find("span").append(e))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(e,t){e.closeable=!!t.close,this.close=e.close}]).directive("alert",function(){return{controller:"AlertController",controllerAs:"alert",templateUrl:function(e,t){return t.templateUrl||"template/alert/alert.html"},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(e){return{require:"alert",link:function(t,n,a,i){e(function(){i.close()},parseInt(a.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).value("$bindHtmlUnsafeSuppressDeprecated",!1).directive("bindHtmlUnsafe",["$log","$bindHtmlUnsafeSuppressDeprecated",function(e,t){return function(n,a,i){t||e.warn("bindHtmlUnsafe is now deprecated. Use ngBindHtml instead"),a.addClass("ng-binding").data("$binding",i.bindHtmlUnsafe),n.$watch(i.bindHtmlUnsafe,function(e){a.html(e||"")})}}]),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(e){this.activeClass=e.activeClass||"active",this.toggleEvent=e.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",controllerAs:"buttons",link:function(e,t,n,a){var i=a[0],o=a[1];t.find("input").css({display:"none"}),o.$render=function(){t.toggleClass(i.activeClass,angular.equals(o.$modelValue,e.$eval(n.btnRadio)))},t.bind(i.toggleEvent,function(){if(!n.disabled){var a=t.hasClass(i.activeClass);(!a||angular.isDefined(n.uncheckable))&&e.$apply(function(){o.$setViewValue(a?null:e.$eval(n.btnRadio)),o.$render()})}})}}}).directive("btnCheckbox",["$document",function(e){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",controllerAs:"button",link:function(t,n,a,i){function o(){return s(a.btnCheckboxTrue,!0)}function r(){return s(a.btnCheckboxFalse,!1)}function s(e,n){var a=t.$eval(e);return angular.isDefined(a)?a:n}var l=i[0],c=i[1];n.find("input").css({display:"none"}),c.$render=function(){n.toggleClass(l.activeClass,angular.equals(c.$modelValue,o()))},n.bind(l.toggleEvent,function(){a.disabled||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})}),n.on("keypress",function(i){a.disabled||32!==i.which||e[0].activeElement!==n[0]||t.$apply(function(){c.$setViewValue(n.hasClass(l.activeClass)?r():o()),c.$render()})})}}}]),angular.module("ui.bootstrap.carousel",[]).controller("CarouselController",["$scope","$element","$interval","$animate",function(e,t,n,a){function i(t,n,i){v||(angular.extend(t,{direction:i,active:!0}),angular.extend(d.currentSlide||{},{direction:i,active:!1}),a.enabled()&&!e.noTransition&&!e.$currentTransition&&t.$element&&d.slides.length>1&&(t.$element.data(g,t.direction),d.currentSlide&&d.currentSlide.$element&&d.currentSlide.$element.data(g,t.direction),e.$currentTransition=!0,f?a.on("addClass",t.$element,function(t,n){"close"===n&&(e.$currentTransition=null,a.off("addClass",t))}):t.$element.one("$animate:close",function(){e.$currentTransition=null})),d.currentSlide=t,h=n,r())}function o(e){if(angular.isUndefined(p[e].index))return p[e];{var t;p.length}for(t=0;t<p.length;++t)if(p[t].index==e)return p[t]}function r(){s();var t=+e.interval;!isNaN(t)&&t>0&&(c=n(l,t))}function s(){c&&(n.cancel(c),c=null)}function l(){var t=+e.interval;u&&!isNaN(t)&&t>0&&p.length?e.next():e.pause()}var c,u,d=this,p=d.slides=e.slides=[],f=angular.version.minor>=4,m="uib-noTransition",g="uib-slideDirection",h=-1;d.currentSlide=null;var v=!1;d.select=e.select=function(t,n){var a=e.indexOfSlide(t);void 0===n&&(n=a>d.getCurrentIndex()?"next":"prev"),t&&t!==d.currentSlide&&!e.$currentTransition&&i(t,a,n)},e.$on("$destroy",function(){v=!0}),d.getCurrentIndex=function(){return d.currentSlide&&angular.isDefined(d.currentSlide.index)?+d.currentSlide.index:h},e.indexOfSlide=function(e){return angular.isDefined(e.index)?+e.index:p.indexOf(e)},e.next=function(){var t=(d.getCurrentIndex()+1)%p.length;return 0===t&&e.noWrap()?(e.pause(),void 0):d.select(o(t),"next")},e.prev=function(){var t=d.getCurrentIndex()-1<0?p.length-1:d.getCurrentIndex()-1;return e.noWrap()&&t===p.length-1?(e.pause(),void 0):d.select(o(t),"prev")},e.isActive=function(e){return d.currentSlide===e},e.$watch("interval",r),e.$on("$destroy",s),e.play=function(){u||(u=!0,r())},e.pause=function(){e.noPause||(u=!1,s())},d.addSlide=function(t,n){t.$element=n,p.push(t),1===p.length||t.active?(d.select(p[p.length-1]),1==p.length&&e.play()):t.active=!1},d.removeSlide=function(e){angular.isDefined(e.index)&&p.sort(function(e,t){return+e.index>+t.index});var t=p.indexOf(e);p.splice(t,1),p.length>0&&e.active?t>=p.length?d.select(p[t-1]):d.select(p[t]):h>t&&h--,0===p.length&&(d.currentSlide=null)},e.$watch("noTransition",function(e){t.data(m,e)})}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",controllerAs:"carousel",require:"carousel",templateUrl:function(e,t){return t.templateUrl||"template/carousel/carousel.html"},scope:{interval:"=",noTransition:"=",noPause:"=",noWrap:"&"}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/carousel/slide.html"},scope:{active:"=?",actual:"=?",index:"=?"},link:function(e,t,n,a){a.addSlide(e,t),e.$on("$destroy",function(){a.removeSlide(e)}),e.$watch("active",function(t){t&&a.select(e)})}}}).animation(".item",["$injector","$animate",function(e,t){function n(e,t,n){e.removeClass(t),n&&n()}var a="uib-noTransition",i="uib-slideDirection",o=null;return e.has("$animateCss")&&(o=e.get("$animateCss")),{beforeAddClass:function(e,r,s){if("active"==r&&e.parent()&&!e.parent().data(a)){var l=!1,c=e.data(i),u="next"==c?"left":"right",d=n.bind(this,e,u+" "+c,s);return e.addClass(c),o?o(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()},beforeRemoveClass:function(e,r,s){if("active"===r&&e.parent()&&!e.parent().data(a)){var l=!1,c=e.data(i),u="next"==c?"left":"right",d=n.bind(this,e,u,s);return o?o(e,{addClass:u}).start().done(d):t.addClass(e,u).then(function(){l||d(),s()}),function(){l=!0}}s()}}}]),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$log","$locale","orderByFilter",function(e,t,n){function a(e){var t=[],a=e.split("");return angular.forEach(r,function(n,i){var o=e.indexOf(i);if(o>-1){e=e.split(""),a[o]="("+n.regex+")",e[o]="$";for(var r=o+1,s=o+i.length;s>r;r++)a[r]="",e[r]="$";e=e.join(""),t.push({index:o,apply:n.apply})}}),{regex:new RegExp("^"+a.join("")+"$"),map:n(t,"index")}}function i(e,t,n){return 1>n?!1:1===t&&n>28?29===n&&(e%4===0&&e%100!==0||e%400===0):3===t||5===t||8===t||10===t?31>n:!0}var o=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;this.parsers={};var r={yyyy:{regex:"\\d{4}",apply:function(e){this.year=+e}},yy:{regex:"\\d{2}",apply:function(e){this.year=+e+2e3}},y:{regex:"\\d{1,4}",apply:function(e){this.year=+e}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(e){this.month=e-1}},M:{regex:"[1-9]|1[0-2]",apply:function(e){this.month=e-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(e){this.date=+e}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")},HH:{regex:"(?:0|1)[0-9]|2[0-3]",apply:function(e){this.hours=+e}},hh:{regex:"0[0-9]|1[0-2]",apply:function(e){this.hours=+e}},H:{regex:"1?[0-9]|2[0-3]",apply:function(e){this.hours=+e}},h:{regex:"[0-9]|1[0-2]",apply:function(e){this.hours=+e}},mm:{regex:"[0-5][0-9]",apply:function(e){this.minutes=+e}},m:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.minutes=+e}},sss:{regex:"[0-9][0-9][0-9]",apply:function(e){this.milliseconds=+e}},ss:{regex:"[0-5][0-9]",apply:function(e){this.seconds=+e}},s:{regex:"[0-9]|[1-5][0-9]",apply:function(e){this.seconds=+e}},a:{regex:t.DATETIME_FORMATS.AMPMS.join("|"),apply:function(e){12===this.hours&&(this.hours=0),"PM"===e&&(this.hours+=12)}}};this.parse=function(n,r,s){if(!angular.isString(n)||!r)return n;r=t.DATETIME_FORMATS[r]||r,r=r.replace(o,"\\$&"),this.parsers[r]||(this.parsers[r]=a(r));var l=this.parsers[r],c=l.regex,u=l.map,d=n.match(c);if(d&&d.length){var p,f;angular.isDate(s)&&!isNaN(s.getTime())?p={year:s.getFullYear(),month:s.getMonth(),date:s.getDate(),hours:s.getHours(),minutes:s.getMinutes(),seconds:s.getSeconds(),milliseconds:s.getMilliseconds()}:(s&&e.warn("dateparser:","baseDate is not a valid date"),p={year:1900,month:0,date:1,hours:0,minutes:0,seconds:0,milliseconds:0});for(var m=1,g=d.length;g>m;m++){var h=u[m-1];h.apply&&h.apply.call(p,d[m])}return i(p.year,p.month,p.date)&&(f=new Date(p.year,p.month,p.date,p.hours,p.minutes,p.seconds,p.milliseconds||0)),f}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(e,t){function n(e,n){return e.currentStyle?e.currentStyle[n]:t.getComputedStyle?t.getComputedStyle(e)[n]:e.style[n]}function a(e){return"static"===(n(e,"position")||"static")}var i=function(t){for(var n=e[0],i=t.offsetParent||n;i&&i!==n&&a(i);)i=i.offsetParent;return i||n};return{position:function(t){var n=this.offset(t),a={top:0,left:0},o=i(t[0]);o!=e[0]&&(a=this.offset(angular.element(o)),a.top+=o.clientTop-o.scrollTop,a.left+=o.clientLeft-o.scrollLeft);var r=t[0].getBoundingClientRect();return{width:r.width||t.prop("offsetWidth"),height:r.height||t.prop("offsetHeight"),top:n.top-a.top,left:n.left-a.left}},offset:function(n){var a=n[0].getBoundingClientRect();return{width:a.width||n.prop("offsetWidth"),height:a.height||n.prop("offsetHeight"),top:a.top+(t.pageYOffset||e[0].documentElement.scrollTop),left:a.left+(t.pageXOffset||e[0].documentElement.scrollLeft)}},positionElements:function(e,t,n,a){var i,o,r,s,l=n.split("-"),c=l[0],u=l[1]||"center";i=a?this.offset(e):this.position(e),o=t.prop("offsetWidth"),r=t.prop("offsetHeight");var d={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},p={center:function(){return i.top+i.height/2-r/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(c){case"right":s={top:p[u](),left:d[c]()};break;case"left":s={top:p[u](),left:i.left-o};break;case"bottom":s={top:p[c](),left:d[u]()};break;default:s={top:i.top-r,left:d[u]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).value("$datepickerSuppressError",!1).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null,shortcutPropagation:!1}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$log","dateFilter","datepickerConfig","$datepickerSuppressError",function(e,t,n,a,i,o,r,s){var l=this,c={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","showWeeks","startingDay","yearRange","shortcutPropagation"],function(n,i){l[n]=angular.isDefined(t[n])?6>i?a(t[n])(e.$parent):e.$parent.$eval(t[n]):r[n]}),angular.forEach(["minDate","maxDate"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(e){l[a]=e?new Date(e):null,l.refreshView()}):l[a]=r[a]?new Date(r[a]):null}),angular.forEach(["minMode","maxMode"],function(a){t[a]?e.$parent.$watch(n(t[a]),function(n){l[a]=angular.isDefined(n)?n:t[a],e[a]=l[a],("minMode"==a&&l.modes.indexOf(e.datepickerMode)<l.modes.indexOf(l[a])||"maxMode"==a&&l.modes.indexOf(e.datepickerMode)>l.modes.indexOf(l[a]))&&(e.datepickerMode=l[a])}):(l[a]=r[a]||null,e[a]=l[a])}),e.datepickerMode=e.datepickerMode||r.datepickerMode,e.uniqueId="datepicker-"+e.$id+"-"+Math.floor(1e4*Math.random()),angular.isDefined(t.initDate)?(this.activeDate=e.$parent.$eval(t.initDate)||new Date,e.$parent.$watch(t.initDate,function(e){e&&(c.$isEmpty(c.$modelValue)||c.$invalid)&&(l.activeDate=e,l.refreshView())
})):this.activeDate=new Date,e.isActive=function(t){return 0===l.compare(t.date,l.activeDate)?(e.activeDateId=t.uid,!0):!1},this.init=function(e){c=e,c.$render=function(){l.render()}},this.render=function(){if(c.$viewValue){var e=new Date(c.$viewValue),t=!isNaN(e);t?this.activeDate=e:s||i.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var e=c.$viewValue?new Date(c.$viewValue):null;c.$setValidity("dateDisabled",!e||this.element&&!this.isDisabled(e))}},this.createDateObject=function(e,t){var n=c.$viewValue?new Date(c.$viewValue):null;return{date:e,label:o(e,t),selected:n&&0===this.compare(e,n),disabled:this.isDisabled(e),current:0===this.compare(e,new Date),customClass:this.customClass(e)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||t.dateDisabled&&e.dateDisabled({date:n,mode:e.datepickerMode})},this.customClass=function(t){return e.customClass({date:t,mode:e.datepickerMode})},this.split=function(e,t){for(var n=[];e.length>0;)n.push(e.splice(0,t));return n},this.fixTimeZone=function(e){var t=e.getHours();e.setHours(23===t?t+2:0)},e.select=function(t){if(e.datepickerMode===l.minMode){var n=c.$viewValue?new Date(c.$viewValue):new Date(0,0,0,0,0,0,0);n.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),c.$setViewValue(n),c.$render()}else l.activeDate=t,e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)-1]},e.move=function(e){var t=l.activeDate.getFullYear()+e*(l.step.years||0),n=l.activeDate.getMonth()+e*(l.step.months||0);l.activeDate.setFullYear(t,n,1),l.refreshView()},e.toggleMode=function(t){t=t||1,e.datepickerMode===l.maxMode&&1===t||e.datepickerMode===l.minMode&&-1===t||(e.datepickerMode=l.modes[l.modes.indexOf(e.datepickerMode)+t])},e.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var u=function(){l.element[0].focus()};e.$on("datepicker.focus",u),e.keydown=function(t){var n=e.keys[t.which];if(n&&!t.shiftKey&&!t.altKey)if(t.preventDefault(),l.shortcutPropagation||t.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;e.select(l.activeDate),u()}else!t.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,t),l.refreshView()):(e.toggleMode("up"===n?1:-1),u())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/datepicker.html"},scope:{datepickerMode:"=?",dateDisabled:"&",customClass:"&",shortcutPropagation:"&?"},require:["datepicker","^ngModel"],controller:"DatepickerController",controllerAs:"datepicker",link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}).directive("daypicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(t,n,a,i){function o(e,t){return 1!==t||e%4!==0||e%100===0&&e%400!==0?l[t]:29}function r(e,t){for(var n,a=new Array(t),o=new Date(e),r=0;t>r;)n=new Date(o),i.fixTimeZone(n),a[r++]=n,o.setDate(o.getDate()+1);return a}function s(e){var t=new Date(e);t.setDate(t.getDate()+4-(t.getDay()||7));var n=t.getTime();return t.setMonth(0),t.setDate(1),Math.floor(Math.round((n-t)/864e5)/7)+1}t.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),a=i.activeDate.getMonth(),o=new Date(n,a,1),l=i.startingDay-o.getDay(),c=l>0?7-l:-l,u=new Date(o);c>0&&u.setDate(-c+1);for(var d=r(u,42),p=0;42>p;p++)d[p]=angular.extend(i.createDateObject(d[p],i.formatDay),{secondary:d[p].getMonth()!==a,uid:t.uniqueId+"-"+p});t.labels=new Array(7);for(var f=0;7>f;f++)t.labels[f]={abbr:e(d[f].date,i.formatDayHeader),full:e(d[f].date,"EEEE")};if(t.title=e(i.activeDate,i.formatDayTitle),t.rows=i.split(d,7),t.showWeeks){t.weekNumbers=[];for(var m=(11-i.startingDay)%7,g=t.rows.length,h=0;g>h;h++)t.weekNumbers.push(s(t.rows[h][m].date))}},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())},i.handleKeyDown=function(e){var t=i.activeDate.getDate();if("left"===e)t-=1;else if("up"===e)t-=7;else if("right"===e)t+=1;else if("down"===e)t+=7;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getMonth()+("pageup"===e?-1:1);i.activeDate.setMonth(n,1),t=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),t)}else"home"===e?t=1:"end"===e&&(t=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(t)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(e){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(t,n,a,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n,a=new Array(12),o=i.activeDate.getFullYear(),r=0;12>r;r++)n=new Date(o,r,1),i.fixTimeZone(n),a[r]=angular.extend(i.createDateObject(n,i.formatMonth),{uid:t.uniqueId+"-"+r});t.title=e(i.activeDate,i.formatMonthTitle),t.rows=i.split(a,3)},i.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth())-new Date(t.getFullYear(),t.getMonth())},i.handleKeyDown=function(e){var t=i.activeDate.getMonth();if("left"===e)t-=1;else if("up"===e)t-=3;else if("right"===e)t+=1;else if("down"===e)t+=3;else if("pageup"===e||"pagedown"===e){var n=i.activeDate.getFullYear()+("pageup"===e?-1:1);i.activeDate.setFullYear(n)}else"home"===e?t=0:"end"===e&&(t=11);i.activeDate.setMonth(t)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(e,t,n,a){function i(e){return parseInt((e-1)/o,10)*o+1}var o=a.yearRange;a.step={years:o},a.element=t,a._refreshView=function(){for(var t,n=new Array(o),r=0,s=i(a.activeDate.getFullYear());o>r;r++)t=new Date(s+r,0,1),a.fixTimeZone(t),n[r]=angular.extend(a.createDateObject(t,a.formatYear),{uid:e.uniqueId+"-"+r});e.title=[n[0].label,n[o-1].label].join(" - "),e.rows=a.split(n,5)},a.compare=function(e,t){return e.getFullYear()-t.getFullYear()},a.handleKeyDown=function(e){var t=a.activeDate.getFullYear();"left"===e?t-=1:"up"===e?t-=5:"right"===e?t+=1:"down"===e?t+=5:"pageup"===e||"pagedown"===e?t+=("pageup"===e?-1:1)*a.step.years:"home"===e?t=i(a.activeDate.getFullYear()):"end"===e&&(t=i(a.activeDate.getFullYear())+o-1),a.activeDate.setFullYear(t)},a.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",datepickerPopupTemplateUrl:"template/datepicker/popup.html",datepickerTemplateUrl:"template/datepicker/datepicker.html",html5Types:{date:"yyyy-MM-dd","datetime-local":"yyyy-MM-ddTHH:mm:ss.sss",month:"yyyy-MM"},currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0,onOpenFocus:!0}).directive("datepickerPopup",["$compile","$parse","$document","$rootScope","$position","dateFilter","dateParser","datepickerPopupConfig","$timeout",function(e,t,n,a,i,o,r,s,l){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&",customClass:"&"},link:function(c,u,d,p){function f(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function m(e){if(angular.isNumber(e)&&(e=new Date(e)),e){if(angular.isDate(e)&&!isNaN(e))return e;if(angular.isString(e)){var t=r.parse(e,h,c.date);return isNaN(t)?void 0:t}return void 0}return null}function g(e,t){var n=e||t;if(!d.ngRequired&&!n)return!0;if(angular.isNumber(n)&&(n=new Date(n)),n){if(angular.isDate(n)&&!isNaN(n))return!0;if(angular.isString(n)){var a=r.parse(n,h);return!isNaN(a)}return!1}return!0}var h,v=angular.isDefined(d.closeOnDateSelection)?c.$parent.$eval(d.closeOnDateSelection):s.closeOnDateSelection,b=angular.isDefined(d.datepickerAppendToBody)?c.$parent.$eval(d.datepickerAppendToBody):s.appendToBody,y=angular.isDefined(d.onOpenFocus)?c.$parent.$eval(d.onOpenFocus):s.onOpenFocus,$=angular.isDefined(d.datepickerPopupTemplateUrl)?d.datepickerPopupTemplateUrl:s.datepickerPopupTemplateUrl,w=angular.isDefined(d.datepickerTemplateUrl)?d.datepickerTemplateUrl:s.datepickerTemplateUrl,k={};c.showButtonBar=angular.isDefined(d.showButtonBar)?c.$parent.$eval(d.showButtonBar):s.showButtonBar,c.getText=function(e){return c[e+"Text"]||s[e+"Text"]},c.isDisabled=function(e){return"today"===e&&(e=new Date),c.watchData.minDate&&c.compare(e,k.minDate)<0||c.watchData.maxDate&&c.compare(e,k.maxDate)>0},c.compare=function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate())-new Date(t.getFullYear(),t.getMonth(),t.getDate())};var x=!1;if(s.html5Types[d.type]?(h=s.html5Types[d.type],x=!0):(h=d.datepickerPopup||s.datepickerPopup,d.$observe("datepickerPopup",function(e){var t=e||s.datepickerPopup;if(t!==h&&(h=t,p.$modelValue=null,!h))throw new Error("datepickerPopup must have a date format specified.")})),!h)throw new Error("datepickerPopup must have a date format specified.");if(x&&d.datepickerPopup)throw new Error("HTML5 date input types do not support custom formats.");var C=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");C.attr({"ng-model":"date","ng-change":"dateSelection(date)","template-url":$});var T=angular.element(C.children()[0]);if(T.attr("template-url",w),x&&"month"===d.type&&(T.attr("datepicker-mode",'"month"'),T.attr("min-mode","month")),d.datepickerOptions){var D=c.$parent.$eval(d.datepickerOptions);D&&D.initDate&&(c.initDate=D.initDate,T.attr("init-date","initDate"),delete D.initDate),angular.forEach(D,function(e,t){T.attr(f(t),e)})}c.watchData={},angular.forEach(["minMode","maxMode","minDate","maxDate","datepickerMode","initDate","shortcutPropagation"],function(e){if(d[e]){var n=t(d[e]);if(c.$parent.$watch(n,function(t){c.watchData[e]=t,("minDate"===e||"maxDate"===e)&&(k[e]=new Date(t))}),T.attr(f(e),"watchData."+e),"datepickerMode"===e){var a=n.assign;c.$watch("watchData."+e,function(e,t){angular.isFunction(a)&&e!==t&&a(c.$parent,e)})}}}),d.dateDisabled&&T.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),d.showWeeks&&T.attr("show-weeks",d.showWeeks),d.customClass&&T.attr("custom-class","customClass({ date: date, mode: mode })"),x?p.$formatters.push(function(e){return c.date=e,e}):(p.$$parserName="date",p.$validators.date=g,p.$parsers.unshift(m),p.$formatters.push(function(e){return c.date=e,p.$isEmpty(e)?e:o(e,h)})),c.dateSelection=function(e){angular.isDefined(e)&&(c.date=e);var t=c.date?o(c.date,h):null;u.val(t),p.$setViewValue(t),v&&(c.isOpen=!1,u[0].focus())},p.$viewChangeListeners.push(function(){c.date=r.parse(p.$viewValue,h,c.date)});var S=function(e){!c.isOpen||u[0].contains(e.target)||C[0].contains(e.target)||c.$apply(function(){c.isOpen=!1})},E=function(e){27===e.which&&c.isOpen?(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!1}),u[0].focus()):40!==e.which||c.isOpen||(e.preventDefault(),e.stopPropagation(),c.$apply(function(){c.isOpen=!0}))};u.bind("keydown",E),c.keydown=function(e){27===e.which&&(c.isOpen=!1,u[0].focus())},c.$watch("isOpen",function(e){e?(c.position=b?i.offset(u):i.position(u),c.position.top=c.position.top+u.prop("offsetHeight"),l(function(){y&&c.$broadcast("datepicker.focus"),n.bind("click",S)},0,!1)):n.unbind("click",S)}),c.select=function(e){if("today"===e){var t=new Date;angular.isDate(c.date)?(e=new Date(c.date),e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate())):e=new Date(t.setHours(0,0,0,0))}c.dateSelection(e)},c.close=function(){c.isOpen=!1,u[0].focus()};var O=e(C)(c);C.remove(),b?n.find("body").append(O):u.after(O),c.$on("$destroy",function(){c.isOpen===!0&&(a.$$phase||c.$apply(function(){c.isOpen=!1})),O.remove(),u.unbind("keydown",E),n.unbind("click",S)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/datepicker/popup.html"}}}),angular.module("ui.bootstrap.dropdown",["ui.bootstrap.position"]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document","$rootScope",function(e,t){var n=null;this.open=function(t){n||(e.bind("click",a),e.bind("keydown",i)),n&&n!==t&&(n.isOpen=!1),n=t},this.close=function(t){n===t&&(n=null,e.unbind("click",a),e.unbind("keydown",i))};var a=function(e){if(n&&(!e||"disabled"!==n.getAutoClose())){var a=n.getToggleElement();if(!(e&&a&&a[0].contains(e.target))){var i=n.getDropdownElement();e&&"outsideClick"===n.getAutoClose()&&i&&i[0].contains(e.target)||(n.isOpen=!1,t.$$phase||n.$apply())}}},i=function(e){27===e.which?(n.focusToggleElement(),a()):n.isKeynavEnabled()&&/(38|40)/.test(e.which)&&n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.focusDropdownEntry(e.which))}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate","$position","$document","$compile","$templateRequest",function(e,t,n,a,i,o,r,s,l,c){var u,d,p=this,f=e.$new(),m=a.openClass,g=angular.noop,h=t.onToggle?n(t.onToggle):angular.noop,v=!1,b=!1,y=s.find("body");this.init=function(a){p.$element=a,t.isOpen&&(d=n(t.isOpen),g=d.assign,e.$watch(d,function(e){f.isOpen=!!e})),v=angular.isDefined(t.dropdownAppendToBody),b=angular.isDefined(t.keyboardNav),v&&p.dropdownMenu&&(y.append(p.dropdownMenu),y.addClass("dropdown"),a.on("$destroy",function(){p.dropdownMenu.remove()}))},this.toggle=function(e){return f.isOpen=arguments.length?!!e:!f.isOpen},this.isOpen=function(){return f.isOpen},f.getToggleElement=function(){return p.toggleElement},f.getAutoClose=function(){return t.autoClose||"always"},f.getElement=function(){return p.$element},f.isKeynavEnabled=function(){return b},f.focusDropdownEntry=function(e){var t=p.dropdownMenu?angular.element(p.dropdownMenu).find("a"):angular.element(p.$element).find("ul").eq(0).find("a");switch(e){case 40:p.selectedOption=angular.isNumber(p.selectedOption)?p.selectedOption===t.length-1?p.selectedOption:p.selectedOption+1:0;break;case 38:p.selectedOption=angular.isNumber(p.selectedOption)?0===p.selectedOption?0:p.selectedOption-1:t.length-1}t[p.selectedOption].focus()},f.getDropdownElement=function(){return p.dropdownMenu},f.focusToggleElement=function(){p.toggleElement&&p.toggleElement[0].focus()},f.$watch("isOpen",function(t,n){if(v&&p.dropdownMenu){var a=r.positionElements(p.$element,p.dropdownMenu,"bottom-left",!0),s={top:a.top+"px",display:t?"block":"none"},d=p.dropdownMenu.hasClass("dropdown-menu-right");d?(s.left="auto",s.right=window.innerWidth-(a.left+p.$element.prop("offsetWidth"))+"px"):(s.left=a.left+"px",s.right="auto"),p.dropdownMenu.css(s)}var b=v?y:p.$element;if(o[t?"addClass":"removeClass"](b,m).then(function(){angular.isDefined(t)&&t!==n&&h(e,{open:!!t})}),t)p.dropdownMenuTemplateUrl&&c(p.dropdownMenuTemplateUrl).then(function(e){u=f.$new(),l(e.trim())(u,function(e){var t=e;p.dropdownMenu.replaceWith(t),p.dropdownMenu=t})}),f.focusToggleElement(),i.open(f);else{if(p.dropdownMenuTemplateUrl){u&&u.$destroy();var $=angular.element('<ul class="dropdown-menu"></ul>');p.dropdownMenu.replaceWith($),p.dropdownMenu=$}i.close(f),p.selectedOption=null}angular.isFunction(g)&&g(e,t)}),e.$on("$locationChangeSuccess",function(){"disabled"!==f.getAutoClose()&&(f.isOpen=!1)});var $=e.$on("$destroy",function(){f.$destroy()});f.$on("$destroy",$)}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(e,t,n,a){a.init(t),t.addClass("dropdown")}}}).directive("dropdownMenu",function(){return{restrict:"AC",require:"?^dropdown",link:function(e,t,n,a){if(a){var i=n.templateUrl;i&&(a.dropdownMenuTemplateUrl=i),a.dropdownMenu||(a.dropdownMenu=t)}}}}).directive("keyboardNav",function(){return{restrict:"A",require:"?^dropdown",link:function(e,t,n,a){t.bind("keydown",function(e){if(-1!==[38,40].indexOf(e.which)){e.preventDefault(),e.stopPropagation();var t=a.dropdownMenu.find("a");switch(e.which){case 40:a.selectedOption=angular.isNumber(a.selectedOption)?a.selectedOption===t.length-1?a.selectedOption:a.selectedOption+1:0;break;case 38:a.selectedOption=angular.isNumber(a.selectedOption)?0===a.selectedOption?0:a.selectedOption-1:t.length-1}t[a.selectedOption].focus()}})}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(e,t,n,a){if(a){t.addClass("dropdown-toggle"),a.toggleElement=t;var i=function(i){i.preventDefault(),t.hasClass("disabled")||n.disabled||e.$apply(function(){a.toggle()})};t.bind("click",i),t.attr({"aria-haspopup":!0,"aria-expanded":!1}),e.$watch(a.isOpen,function(e){t.attr("aria-expanded",!!e)}),e.$on("$destroy",function(){t.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",[]).factory("$$stackedMap",function(){return{createNew:function(){var e=[];return{add:function(t,n){e.push({key:t,value:n})},get:function(t){for(var n=0;n<e.length;n++)if(t==e[n].key)return e[n]},keys:function(){for(var t=[],n=0;n<e.length;n++)t.push(e[n].key);return t},top:function(){return e[e.length-1]},remove:function(t){for(var n=-1,a=0;a<e.length;a++)if(t==e[a].key){n=a;break}return e.splice(n,1)[0]},removeTop:function(){return e.splice(e.length-1,1)[0]},length:function(){return e.length}}}}}).factory("$$multiMap",function(){return{createNew:function(){var e={};return{entries:function(){return Object.keys(e).map(function(t){return{key:t,value:e[t]}})},get:function(t){return e[t]},hasKey:function(t){return!!e[t]},keys:function(){return Object.keys(e)},put:function(t,n){e[t]||(e[t]=[]),e[t].push(n)},remove:function(t,n){var a=e[t];if(a){var i=a.indexOf(n);-1!==i&&a.splice(i,1),a.length||delete e[t]}}}}}}).directive("modalBackdrop",["$animate","$injector","$modalStack",function(e,t,n){function a(t,a,o){o.modalInClass&&(i?i(a,{addClass:o.modalInClass}).start():e.addClass(a,o.modalInClass),t.$on(n.NOW_CLOSING_EVENT,function(t,n){var r=n();i?i(a,{removeClass:o.modalInClass}).start().then(r):e.removeClass(a,o.modalInClass).then(r)}))}var i=null;return t.has("$animateCss")&&(i=t.get("$animateCss")),{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",compile:function(e,t){return e.addClass(t.backdropClass),a}}}]).directive("modalWindow",["$modalStack","$q","$animate","$injector",function(e,t,n,a){var i=null;return a.has("$animateCss")&&(i=a.get("$animateCss")),{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(e,t){return t.templateUrl||"template/modal/window.html"},link:function(a,o,r){o.addClass(r.windowClass||""),a.size=r.size,a.close=function(t){var n=e.getTop();n&&n.value.backdrop&&"static"!==n.value.backdrop&&t.target===t.currentTarget&&(t.preventDefault(),t.stopPropagation(),e.dismiss(n.key,"backdrop click"))},a.$isRendered=!0;var s=t.defer();r.$observe("modalRender",function(e){"true"==e&&s.resolve()}),s.promise.then(function(){var s=null;r.modalInClass&&(s=i?i(o,{addClass:r.modalInClass}).start():n.addClass(o,r.modalInClass),a.$on(e.NOW_CLOSING_EVENT,function(e,t){var a=t();i?i(o,{removeClass:r.modalInClass}).start().then(a):n.removeClass(o,r.modalInClass).then(a)})),t.when(s).then(function(){var e=o[0].querySelectorAll("[autofocus]");e.length?e[0].focus():o[0].focus()});var l=e.getTop();l&&e.modalRendered(l.key)})}}}]).directive("modalAnimationClass",[function(){return{compile:function(e,t){t.modalAnimation&&e.addClass(t.modalAnimationClass)}}}]).directive("modalTransclude",function(){return{link:function(e,t,n,a,i){i(e.$parent,function(e){t.empty(),t.append(e)})}}}).factory("$modalStack",["$animate","$timeout","$document","$compile","$rootScope","$q","$injector","$$multiMap","$$stackedMap",function(e,t,n,a,i,o,r,s,l){function c(){for(var e=-1,t=y.keys(),n=0;n<t.length;n++)y.get(t[n]).value.backdrop&&(e=n);return e}function u(e,t){var a=n.find("body").eq(0),i=y.get(e).value;y.remove(e),p(i.modalDomEl,i.modalScope,function(){var t=i.openedClass||b;$.remove(t,e),a.toggleClass(t,$.hasKey(t))}),d(),t&&t.focus?t.focus():a.focus()}function d(){if(g&&-1==c()){var e=h;p(g,h,function(){e=null}),g=void 0,h=void 0}}function p(t,n,a){function i(){i.done||(i.done=!0,m?m(t,{event:"leave"}).start().then(function(){t.remove()}):e.leave(t),n.$destroy(),a&&a())}var r,s=null,l=function(){return r||(r=o.defer(),s=r.promise),function(){r.resolve()}};return n.$broadcast(w.NOW_CLOSING_EVENT,l),o.when(s).then(i)}function f(e,t,n){return!e.value.modalScope.$broadcast("modal.closing",t,n).defaultPrevented}var m=null;r.has("$animateCss")&&(m=r.get("$animateCss"));var g,h,v,b="modal-open",y=l.createNew(),$=s.createNew(),w={NOW_CLOSING_EVENT:"modal.stack.now-closing"},k=0,x="a[href], area[href], input:not([disabled]), button:not([disabled]),select:not([disabled]), textarea:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable=true]";return i.$watch(c,function(e){h&&(h.index=e)}),n.bind("keydown",function(e){if(e.isDefaultPrevented())return e;var t=y.top();if(t&&t.value.keyboard)switch(e.which){case 27:e.preventDefault(),i.$apply(function(){w.dismiss(t.key,"escape key press")});break;case 9:w.loadFocusElementList(t);var n=!1;e.shiftKey?w.isFocusInFirstItem(e)&&(n=w.focusLastFocusableElement()):w.isFocusInLastItem(e)&&(n=w.focusFirstFocusableElement()),n&&(e.preventDefault(),e.stopPropagation())}}),w.open=function(e,t){var o=n[0].activeElement,r=t.openedClass||b;y.add(e,{deferred:t.deferred,renderDeferred:t.renderDeferred,modalScope:t.scope,backdrop:t.backdrop,keyboard:t.keyboard,openedClass:t.openedClass}),$.put(r,e);var s=n.find("body").eq(0),l=c();if(l>=0&&!g){h=i.$new(!0),h.index=l;var u=angular.element('<div modal-backdrop="modal-backdrop"></div>');u.attr("backdrop-class",t.backdropClass),t.animation&&u.attr("modal-animation","true"),g=a(u)(h),s.append(g)}var d=angular.element('<div modal-window="modal-window"></div>');d.attr({"template-url":t.windowTemplateUrl,"window-class":t.windowClass,size:t.size,index:y.length()-1,animate:"animate"}).html(t.content),t.animation&&d.attr("modal-animation","true");var p=a(d)(t.scope);y.top().value.modalDomEl=p,y.top().value.modalOpener=o,s.append(p),s.addClass(r),w.clearFocusListCache()},w.close=function(e,t){var n=y.get(e);return n&&f(n,t,!0)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.resolve(t),u(e,n.value.modalOpener),!0):!n},w.dismiss=function(e,t){var n=y.get(e);return n&&f(n,t,!1)?(n.value.modalScope.$$uibDestructionScheduled=!0,n.value.deferred.reject(t),u(e,n.value.modalOpener),!0):!n},w.dismissAll=function(e){for(var t=this.getTop();t&&this.dismiss(t.key,e);)t=this.getTop()},w.getTop=function(){return y.top()},w.modalRendered=function(e){var t=y.get(e);t&&t.value.renderDeferred.resolve()},w.focusFirstFocusableElement=function(){return v.length>0?(v[0].focus(),!0):!1},w.focusLastFocusableElement=function(){return v.length>0?(v[v.length-1].focus(),!0):!1},w.isFocusInFirstItem=function(e){return v.length>0?(e.target||e.srcElement)==v[0]:!1},w.isFocusInLastItem=function(e){return v.length>0?(e.target||e.srcElement)==v[v.length-1]:!1},w.clearFocusListCache=function(){v=[],k=0},w.loadFocusElementList=function(e){if((void 0===v||!v.length0)&&e){var t=e.value.modalDomEl;t&&t.length&&(v=t[0].querySelectorAll(x))}},w}]).provider("$modal",function(){var e={options:{animation:!0,backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$templateRequest","$controller","$modalStack",function(t,n,a,i,o,r){function s(e){return e.template?a.when(e.template):i(angular.isFunction(e.templateUrl)?e.templateUrl():e.templateUrl)}function l(e){var n=[];return angular.forEach(e,function(e){angular.isFunction(e)||angular.isArray(e)?n.push(a.when(t.invoke(e))):angular.isString(e)?n.push(a.when(t.get(e))):n.push(a.when(e))}),n}var c={},u=null;return c.getPromiseChain=function(){return u},c.open=function(t){var i=a.defer(),c=a.defer(),d=a.defer(),p={result:i.promise,opened:c.promise,rendered:d.promise,close:function(e){return r.close(p,e)},dismiss:function(e){return r.dismiss(p,e)}};if(t=angular.extend({},e.options,t),t.resolve=t.resolve||{},!t.template&&!t.templateUrl)throw new Error("One of template or templateUrl options is required.");var f,m=a.all([s(t)].concat(l(t.resolve)));return f=u=a.all([u]).then(function(){return m},function(){return m}).then(function(e){var a=(t.scope||n).$new();a.$close=p.close,a.$dismiss=p.dismiss,a.$on("$destroy",function(){a.$$uibDestructionScheduled||a.$dismiss("$uibUnscheduledDestruction")});var s,l={},u=1;t.controller&&(l.$scope=a,l.$modalInstance=p,angular.forEach(t.resolve,function(t,n){l[n]=e[u++]}),s=o(t.controller,l),t.controllerAs&&(t.bindToController&&angular.extend(s,a),a[t.controllerAs]=s)),r.open(p,{scope:a,deferred:i,renderDeferred:d,content:e[0],animation:t.animation,backdrop:t.backdrop,keyboard:t.keyboard,backdropClass:t.backdropClass,windowClass:t.windowClass,windowTemplateUrl:t.windowTemplateUrl,size:t.size,openedClass:t.openedClass}),c.resolve(!0)},function(e){c.reject(e),i.reject(e)}).finally(function(){u===f&&(u=null)}),p},c}]};return e}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(e,t,n){var a=this,i={$setViewValue:angular.noop},o=t.numPages?n(t.numPages).assign:angular.noop;this.init=function(r,s){i=r,this.config=s,i.$render=function(){a.render()},t.itemsPerPage?e.$parent.$watch(n(t.itemsPerPage),function(t){a.itemsPerPage=parseInt(t,10),e.totalPages=a.calculateTotalPages()}):this.itemsPerPage=s.itemsPerPage,e.$watch("totalItems",function(){e.totalPages=a.calculateTotalPages()}),e.$watch("totalPages",function(t){o(e.$parent,t),e.page>t?e.selectPage(t):i.$render()})},this.calculateTotalPages=function(){var t=this.itemsPerPage<1?1:Math.ceil(e.totalItems/this.itemsPerPage);return Math.max(t||0,1)},this.render=function(){e.page=parseInt(i.$viewValue,10)||1},e.selectPage=function(t,n){n&&n.preventDefault();var a=!e.ngDisabled||!n;a&&e.page!==t&&t>0&&t<=e.totalPages&&(n&&n.target&&n.target.blur(),i.$setViewValue(t),i.$render())},e.getText=function(t){return e[t+"Text"]||a.config[t+"Text"]},e.noPrevious=function(){return 1===e.page},e.noNext=function(){return e.page===e.totalPages}}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(e,t){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@",ngDisabled:"="},require:["pagination","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pagination.html"},replace:!0,link:function(n,a,i,o){function r(e,t,n){return{number:e,text:t,active:n}}function s(e,t){var n=[],a=1,i=t,o=angular.isDefined(u)&&t>u;o&&(d?(a=Math.max(e-Math.floor(u/2),1),i=a+u-1,i>t&&(i=t,a=i-u+1)):(a=(Math.ceil(e/u)-1)*u+1,i=Math.min(a+u-1,t)));for(var s=a;i>=s;s++){var l=r(s,s,s===e);n.push(l)}if(o&&!d){if(a>1){var c=r(a-1,"...",!1);n.unshift(c)}if(t>i){var p=r(i+1,"...",!1);n.push(p)}}return n}var l=o[0],c=o[1];if(c){var u=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):t.maxSize,d=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):t.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):t.boundaryLinks,n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):t.directionLinks,l.init(c,t),i.maxSize&&n.$parent.$watch(e(i.maxSize),function(e){u=parseInt(e,10),l.render()});var p=l.render;l.render=function(){p(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(e){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@",ngDisabled:"="},require:["pager","?ngModel"],controller:"PaginationController",controllerAs:"pagination",templateUrl:function(e,t){return t.templateUrl||"template/pagination/pager.html"},replace:!0,link:function(t,n,a,i){var o=i[0],r=i[1];r&&(t.align=angular.isDefined(a.align)?t.$parent.$eval(a.align):e.align,o.init(r,e))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function e(e){var t=/[A-Z]/g,n="-";return e.replace(t,function(e,t){return(t?n:"")+e.toLowerCase()})}var t={placement:"top",animation:!0,popupDelay:0,useContentExp:!1},n={mouseenter:"mouseleave",click:"click",focus:"blur",none:""},a={};this.options=function(e){angular.extend(a,e)},this.setTriggers=function(e){angular.extend(n,e)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate","$rootScope","$parse",function(i,o,r,s,l,c,u,d){return function(i,p,f,m){function g(e){var t=(e||m.trigger||f).split(" "),a=t.map(function(e){return n[e]||e});return{show:t,hide:a}}m=angular.extend({},t,a,m);var h=e(i),v=c.startSymbol(),b=c.endSymbol(),y="<div "+h+'-popup title="'+v+"title"+b+'" '+(m.useContentExp?'content-exp="contentExp()" ':'content="'+v+"content"+b+'" ')+'placement="'+v+"placement"+b+'" popup-class="'+v+"popupClass"+b+'" animation="animation" is-open="isOpen"origin-scope="origScope" ></div>';return{restrict:"EA",compile:function(){var e=o(y);return function(t,n,a){function o(){I.isOpen?f():c()}function c(){(!P||t.$eval(a[p+"Enable"]))&&($(),I.popupDelay?E||(E=r(h,I.popupDelay,!1)):h())}function f(){v(),u.$$phase||u.$digest()}function h(){return E=null,S&&(r.cancel(S),S=null),(m.useContentExp?I.contentExp():I.content)?(b(),I.isOpen=!0,F&&F.assign(I.origScope,I.isOpen),u.$$phase||I.$apply(),T.css({display:"block"}),N(),void 0):angular.noop}function v(){I.isOpen=!1,F&&F.assign(I.origScope,I.isOpen),r.cancel(E),E=null,r.cancel(O),O=null,I.animation?S||(S=r(y,500)):y()}function b(){T&&y(),D=I.$new(),T=e(D,function(e){M?s.find("body").append(e):n.after(e)}),m.useContentExp&&(D.$watch("contentExp()",function(e){!e&&I.isOpen&&v()}),D.$watch(function(){L||(L=!0,D.$$postDigest(function(){L=!1,I.isOpen&&N()}))}))}function y(){S=null,T&&(T.remove(),T=null),D&&(D.$destroy(),D=null)}function $(){w(),k(),x()}function w(){I.popupClass=a[p+"Class"]}function k(){var e=a[p+"Placement"];I.placement=angular.isDefined(e)?e:m.placement}function x(){var e=a[p+"PopupDelay"],t=parseInt(e,10);I.popupDelay=isNaN(t)?m.popupDelay:t}function C(){var e=a[p+"Trigger"];U(),A=g(e),"none"!==A.show&&A.show.forEach(function(e,t){e===A.hide[t]?n[0].addEventListener(e,o):e&&(n[0].addEventListener(e,c),n[0].addEventListener(A.hide[t],f))})}var T,D,S,E,O,M=angular.isDefined(m.appendToBody)?m.appendToBody:!1,A=g(void 0),P=angular.isDefined(a[p+"Enable"]),I=t.$new(!0),L=!1,F=angular.isDefined(a[p+"IsOpen"])?d(a[p+"IsOpen"]):!1,N=function(){T&&(O||(O=r(function(){T.css({top:0,left:0,width:"auto",height:"auto"});var e=l.position(T),t=l.positionElements(n,T,I.placement,M);t.top+="px",t.left+="px",t.width=e.width+"px",t.height=e.height+"px",T.css(t),O=null},0,!1)))};I.origScope=t,I.isOpen=!1,I.contentExp=function(){return t.$eval(a[i])},m.useContentExp||a.$observe(i,function(e){I.content=e,!e&&I.isOpen?v():N()}),a.$observe("disabled",function(e){E&&e&&(r.cancel(E),E=null),e&&I.isOpen&&v()}),a.$observe(p+"Title",function(e){I.title=e,N()}),a.$observe(p+"Placement",function(){I.isOpen&&(k(),N())}),F&&t.$watch(F,function(e){e!==I.isOpen&&o()});var U=function(){A.show.forEach(function(e){n.unbind(e,c)}),A.hide.forEach(function(e){n.unbind(e,f)})};C();var V=t.$eval(a[p+"Animation"]);I.animation=angular.isDefined(V)?!!V:m.animation;var H=t.$eval(a[p+"AppendToBody"]);M=angular.isDefined(H)?H:M,M&&t.$on("$locationChangeSuccess",function(){I.isOpen&&v()}),t.$on("$destroy",function(){r.cancel(S),r.cancel(E),r.cancel(O),U(),y(),I=null})}}}}}]}).directive("tooltipTemplateTransclude",["$animate","$sce","$compile","$templateRequest",function(e,t,n,a){return{link:function(i,o,r){var s,l,c,u=i.$eval(r.tooltipTemplateTranscludeScope),d=0,p=function(){l&&(l.remove(),l=null),s&&(s.$destroy(),s=null),c&&(e.leave(c).then(function(){l=null
}),l=c,c=null)};i.$watch(t.parseAsResourceUrl(r.tooltipTemplateTransclude),function(t){var r=++d;t?(a(t,!0).then(function(a){if(r===d){var i=u.$new(),l=a,f=n(l)(i,function(t){p(),e.enter(t,o)});s=i,c=f,s.$emit("$includeContentLoaded",t)}},function(){r===d&&(p(),i.$emit("$includeContentError",t))}),i.$emit("$includeContentRequested",t)):p()}),i.$on("$destroy",p)}}}]).directive("tooltipClasses",function(){return{restrict:"A",link:function(e,t,n){e.placement&&t.addClass(e.placement),e.popupClass&&t.addClass(e.popupClass),e.animation()&&t.addClass(n.tooltipAnimationClass)}}}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(e){return e("tooltip","tooltip","mouseenter")}]).directive("tooltipTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/tooltip/tooltip-template-popup.html"}}).directive("tooltipTemplate",["$tooltip",function(e){return e("tooltipTemplate","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-popup.html"}}).directive("tooltipHtml",["$tooltip",function(e){return e("tooltipHtml","tooltip","mouseenter",{useContentExp:!0})}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).value("tooltipHtmlUnsafeSuppressDeprecated",!1).directive("tooltipHtmlUnsafe",["$tooltip","tooltipHtmlUnsafeSuppressDeprecated","$log",function(e,t,n){return t||n.warn("tooltip-html-unsafe is now deprecated. Use tooltip-html or tooltip-template instead."),e("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverTemplatePopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",contentExp:"&",placement:"@",popupClass:"@",animation:"&",isOpen:"&",originScope:"&"},templateUrl:"template/popover/popover-template.html"}}).directive("popoverTemplate",["$tooltip",function(e){return e("popoverTemplate","popover","click",{useContentExp:!0})}]).directive("popoverHtmlPopup",function(){return{restrict:"EA",replace:!0,scope:{contentExp:"&",title:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover-html.html"}}).directive("popoverHtml",["$tooltip",function(e){return e("popoverHtml","popover","click",{useContentExp:!0})}]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",popupClass:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(e){return e("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).value("$progressSuppressWarning",!1).controller("ProgressController",["$scope","$attrs","progressConfig",function(e,t,n){var a=this,i=angular.isDefined(t.animate)?e.$parent.$eval(t.animate):n.animate;this.bars=[],e.max=angular.isDefined(e.max)?e.max:n.max,this.addBar=function(t,n){i||n.css({transition:"none"}),this.bars.push(t),t.max=e.max,t.$watch("value",function(){t.recalculatePercentage()}),t.recalculatePercentage=function(){t.percent=+(100*t.value/t.max).toFixed(2);var e=a.bars.reduce(function(e,t){return e+t.percent},0);e>100&&(t.percent-=e-100)},t.$on("$destroy",function(){n=null,a.removeBar(t)})},this.removeBar=function(e){this.bars.splice(this.bars.indexOf(e),1)},e.$watch("max",function(){a.bars.forEach(function(t){t.max=e.max,t.recalculatePercentage()})})}]).directive("uibProgress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"uibProgress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html"}}).directive("progress",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{max:"=?"},templateUrl:"template/progressbar/progress.html",link:function(){t&&e.warn("progress is now deprecated. Use uib-progress instead")}}}]).directive("uibBar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^uibProgress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(e,t,n,a){a.addBar(e,t)}}}).directive("bar",["$log","$progressSuppressWarning",function(e,t){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(n,a,i,o){t&&e.warn("bar is now deprecated. Use uib-bar instead"),o.addBar(n,a)}}}]).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",max:"=?",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(e,t,n,a){a.addBar(e,angular.element(t.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null,titles:["one","two","three","four","five"]}).controller("RatingController",["$scope","$attrs","ratingConfig",function(e,t,n){var a={$setViewValue:angular.noop};this.init=function(i){a=i,a.$render=this.render,a.$formatters.push(function(e){return angular.isNumber(e)&&e<<0!==e&&(e=Math.round(e)),e}),this.stateOn=angular.isDefined(t.stateOn)?e.$parent.$eval(t.stateOn):n.stateOn,this.stateOff=angular.isDefined(t.stateOff)?e.$parent.$eval(t.stateOff):n.stateOff;var o=angular.isDefined(t.titles)?e.$parent.$eval(t.titles):n.titles;this.titles=angular.isArray(o)&&o.length>0?o:n.titles;var r=angular.isDefined(t.ratingStates)?e.$parent.$eval(t.ratingStates):new Array(angular.isDefined(t.max)?e.$parent.$eval(t.max):n.max);e.range=this.buildTemplateObjects(r)},this.buildTemplateObjects=function(e){for(var t=0,n=e.length;n>t;t++)e[t]=angular.extend({index:t},{stateOn:this.stateOn,stateOff:this.stateOff,title:this.getTitle(t)},e[t]);return e},this.getTitle=function(e){return e>=this.titles.length?e+1:this.titles[e]},e.rate=function(t){!e.readonly&&t>=0&&t<=e.range.length&&(a.$setViewValue(a.$viewValue===t?0:t),a.$render())},e.enter=function(t){e.readonly||(e.value=t),e.onHover({value:t})},e.reset=function(){e.value=a.$viewValue,e.onLeave()},e.onKeydown=function(t){/(37|38|39|40)/.test(t.which)&&(t.preventDefault(),t.stopPropagation(),e.rate(e.value+(38===t.which||39===t.which?1:-1)))},this.render=function(){e.value=a.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(e,t,n,a){var i=a[0],o=a[1];i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(e){var t=this,n=t.tabs=e.tabs=[];t.select=function(e){angular.forEach(n,function(t){t.active&&t!==e&&(t.active=!1,t.onDeselect(),e.selectCalled=!1)}),e.active=!0,e.selectCalled||(e.onSelect(),e.selectCalled=!0)},t.addTab=function(e){n.push(e),1===n.length&&e.active!==!1?e.active=!0:e.active?t.select(e):e.active=!1},t.removeTab=function(e){var i=n.indexOf(e);if(e.active&&n.length>1&&!a){var o=i==n.length-1?i-1:i+1;t.select(n[o])}n.splice(i,1)};var a;e.$on("$destroy",function(){a=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(e,t,n){e.vertical=angular.isDefined(n.vertical)?e.$parent.$eval(n.vertical):!1,e.justified=angular.isDefined(n.justified)?e.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse","$log",function(e,t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},link:function(n,a,i,o,r){n.$watch("active",function(e){e&&o.select(n)}),n.disabled=!1,i.disable&&n.$parent.$watch(e(i.disable),function(e){n.disabled=!!e}),i.disabled&&(t.warn('Use of "disabled" attribute has been deprecated, please use "disable"'),n.$parent.$watch(e(i.disabled),function(e){n.disabled=!!e})),n.select=function(){n.disabled||(n.active=!0)},o.addTab(n),n.$on("$destroy",function(){o.removeTab(n)}),n.$transcludeFn=r}}}]).directive("tabHeadingTransclude",function(){return{restrict:"A",require:"^tab",link:function(e,t){e.$watch("headingElement",function(e){e&&(t.html(""),t.append(e))})}}}).directive("tabContentTransclude",function(){function e(e){return e.tagName&&(e.hasAttribute("tab-heading")||e.hasAttribute("data-tab-heading")||e.hasAttribute("x-tab-heading")||"tab-heading"===e.tagName.toLowerCase()||"data-tab-heading"===e.tagName.toLowerCase()||"x-tab-heading"===e.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(t,n,a){var i=t.$eval(a.tabContentTransclude);i.$transcludeFn(i.$parent,function(t){angular.forEach(t,function(t){e(t)?i.headingElement=t:n.append(t)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0,arrowkeys:!0,showSpinners:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(e,t,n,a,i,o){function r(){var t=parseInt(e.hours,10),n=e.showMeridian?t>0&&13>t:t>=0&&24>t;return n?(e.showMeridian&&(12===t&&(t=0),e.meridian===h[1]&&(t+=12)),t):void 0}function s(){var t=parseInt(e.minutes,10);return t>=0&&60>t?t:void 0}function l(e){return angular.isDefined(e)&&e.toString().length<2?"0"+e:e.toString()}function c(e){u(),g.$setViewValue(new Date(m)),d(e)}function u(){g.$setValidity("time",!0),e.invalidHours=!1,e.invalidMinutes=!1}function d(t){var n=m.getHours(),a=m.getMinutes();e.showMeridian&&(n=0===n||12===n?12:n%12),e.hours="h"===t?n:l(n),"m"!==t&&(e.minutes=l(a)),e.meridian=m.getHours()<12?h[0]:h[1]}function p(e,t){var n=new Date(e.getTime()+6e4*t),a=new Date(e);return a.setHours(n.getHours(),n.getMinutes()),a}function f(e){m=p(m,e),c()}var m=new Date,g={$setViewValue:angular.noop},h=angular.isDefined(t.meridians)?e.$parent.$eval(t.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,a){g=n,g.$render=this.render,g.$formatters.unshift(function(e){return e?new Date(e):null});var i=a.eq(0),r=a.eq(1),s=angular.isDefined(t.mousewheel)?e.$parent.$eval(t.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,r);var l=angular.isDefined(t.arrowkeys)?e.$parent.$eval(t.arrowkeys):o.arrowkeys;l&&this.setupArrowkeyEvents(i,r),e.readonlyInput=angular.isDefined(t.readonlyInput)?e.$parent.$eval(t.readonlyInput):o.readonlyInput,this.setupInputEvents(i,r)};var v=o.hourStep;t.hourStep&&e.$parent.$watch(n(t.hourStep),function(e){v=parseInt(e,10)});var b=o.minuteStep;t.minuteStep&&e.$parent.$watch(n(t.minuteStep),function(e){b=parseInt(e,10)});var y;e.$parent.$watch(n(t.min),function(e){var t=new Date(e);y=isNaN(t)?void 0:t});var $;e.$parent.$watch(n(t.max),function(e){var t=new Date(e);$=isNaN(t)?void 0:t}),e.noIncrementHours=function(){var e=p(m,60*v);return e>$||m>e&&y>e},e.noDecrementHours=function(){var e=p(m,60*-v);return y>e||e>m&&e>$},e.noIncrementMinutes=function(){var e=p(m,b);return e>$||m>e&&y>e},e.noDecrementMinutes=function(){var e=p(m,-b);return y>e||e>m&&e>$},e.noToggleMeridian=function(){return m.getHours()<13?p(m,720)>$:p(m,-720)<y},e.showMeridian=o.showMeridian,t.showMeridian&&e.$parent.$watch(n(t.showMeridian),function(t){if(e.showMeridian=!!t,g.$error.time){var n=r(),a=s();angular.isDefined(n)&&angular.isDefined(a)&&(m.setHours(n),c())}else d()}),this.setupMousewheelEvents=function(t,n){var a=function(e){e.originalEvent&&(e=e.originalEvent);var t=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||t>0};t.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementHours():e.decrementHours()),t.preventDefault()}),n.bind("mousewheel wheel",function(t){e.$apply(a(t)?e.incrementMinutes():e.decrementMinutes()),t.preventDefault()})},this.setupArrowkeyEvents=function(t,n){t.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementHours(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementHours(),e.$apply())}),n.bind("keydown",function(t){38===t.which?(t.preventDefault(),e.incrementMinutes(),e.$apply()):40===t.which&&(t.preventDefault(),e.decrementMinutes(),e.$apply())})},this.setupInputEvents=function(t,n){if(e.readonlyInput)return e.updateHours=angular.noop,e.updateMinutes=angular.noop,void 0;var a=function(t,n){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(t)&&(e.invalidHours=t),angular.isDefined(n)&&(e.invalidMinutes=n)};e.updateHours=function(){var e=r(),t=s();angular.isDefined(e)&&angular.isDefined(t)?(m.setHours(e),y>m||m>$?a(!0):c("h")):a(!0)},t.bind("blur",function(){!e.invalidHours&&e.hours<10&&e.$apply(function(){e.hours=l(e.hours)})}),e.updateMinutes=function(){var e=s(),t=r();angular.isDefined(e)&&angular.isDefined(t)?(m.setMinutes(e),y>m||m>$?a(void 0,!0):c("m")):a(void 0,!0)},n.bind("blur",function(){!e.invalidMinutes&&e.minutes<10&&e.$apply(function(){e.minutes=l(e.minutes)})})},this.render=function(){var t=g.$viewValue;isNaN(t)?(g.$setValidity("time",!1),a.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(m=t),y>m||m>$?(g.$setValidity("time",!1),e.invalidHours=!0,e.invalidMinutes=!0):u(),d())},e.showSpinners=angular.isDefined(t.showSpinners)?e.$parent.$eval(t.showSpinners):o.showSpinners,e.incrementHours=function(){e.noIncrementHours()||f(60*v)},e.decrementHours=function(){e.noDecrementHours()||f(60*-v)},e.incrementMinutes=function(){e.noIncrementMinutes()||f(b)},e.decrementMinutes=function(){e.noDecrementMinutes()||f(-b)},e.toggleMeridian=function(){e.noToggleMeridian()||f(720*(m.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",controllerAs:"timepicker",replace:!0,scope:{},templateUrl:function(e,t){return t.templateUrl||"template/timepicker/timepicker.html"},link:function(e,t,n,a){var i=a[0],o=a[1];o&&i.init(o,t.find("input"))}}}),angular.module("ui.bootstrap.transition",[]).value("$transitionSuppressDeprecated",!1).factory("$transition",["$q","$timeout","$rootScope","$log","$transitionSuppressDeprecated",function(e,t,n,a,i){function o(e){for(var t in e)if(void 0!==s.style[t])return e[t]}i||a.warn("$transition is now deprecated. Use $animate from ngAnimate instead.");var r=function(a,i,o){o=o||{};var s=e.defer(),l=r[o.animation?"animationEndEventName":"transitionEndEventName"],c=function(){n.$apply(function(){a.unbind(l,c),s.resolve(a)})};return l&&a.bind(l,c),t(function(){angular.isString(i)?a.addClass(i):angular.isFunction(i)?i(a):angular.isObject(i)&&a.css(i),l||s.resolve(a)}),s.promise.cancel=function(){l&&a.unbind(l,c),s.reject("Transition cancelled")},s.promise},s=document.createElement("trans"),l={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},c={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return r.transitionEndEventName=o(l),r.animationEndEventName=o(c),r}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position"]).factory("typeaheadParser",["$parse",function(e){var t=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var a=n.match(t);if(!a)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:a[3],source:e(a[4]),viewMapper:e(a[2]||a[1]),modelMapper:e(a[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$window","$rootScope","$position","typeaheadParser",function(e,t,n,a,i,o,r,s,l){var c=[9,13,27,38,40],u=200;return{require:["ngModel","^?ngModelOptions"],link:function(d,p,f,m){function g(){N.moveInProgress||(N.moveInProgress=!0,N.$digest()),q&&a.cancel(q),q=a(function(){N.matches.length&&h(),N.moveInProgress=!1,N.$digest()},u)}function h(){N.position=O?s.offset(p):s.position(p),N.position.top+=p.prop("offsetHeight")}var v=m[0],b=m[1],y=d.$eval(f.typeaheadMinLength);y||0===y||(y=1);var $,w,k=d.$eval(f.typeaheadWaitMs)||0,x=d.$eval(f.typeaheadEditable)!==!1,C=t(f.typeaheadLoading).assign||angular.noop,T=t(f.typeaheadOnSelect),D=angular.isDefined(f.typeaheadSelectOnBlur)?d.$eval(f.typeaheadSelectOnBlur):!1,S=t(f.typeaheadNoResults).assign||angular.noop,E=f.typeaheadInputFormatter?t(f.typeaheadInputFormatter):void 0,O=f.typeaheadAppendToBody?d.$eval(f.typeaheadAppendToBody):!1,M=d.$eval(f.typeaheadFocusFirst)!==!1,A=f.typeaheadSelectOnExact?d.$eval(f.typeaheadSelectOnExact):!1,P=t(f.ngModel),I=t(f.ngModel+"($$$p)"),L=function(e,t){return angular.isFunction(P(d))&&b&&b.$options&&b.$options.getterSetter?I(e,{$$$p:t}):P.assign(e,t)},F=l.parse(f.typeahead),N=d.$new(),U=d.$on("$destroy",function(){N.$destroy()});N.$on("$destroy",U);var V="typeahead-"+N.$id+"-"+Math.floor(1e4*Math.random());p.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":V});var H=angular.element("<div typeahead-popup></div>");H.attr({id:V,matches:"matches",active:"activeIdx",select:"select(activeIdx)","move-in-progress":"moveInProgress",query:"query",position:"position"}),angular.isDefined(f.typeaheadTemplateUrl)&&H.attr("template-url",f.typeaheadTemplateUrl),angular.isDefined(f.typeaheadPopupTemplateUrl)&&H.attr("popup-template-url",f.typeaheadPopupTemplateUrl);var _=function(){N.matches=[],N.activeIdx=-1,p.attr("aria-expanded",!1)},R=function(e){return V+"-option-"+e};N.$watch("activeIdx",function(e){0>e?p.removeAttr("aria-activedescendant"):p.attr("aria-activedescendant",R(e))});var j=function(e,t){return N.matches.length>t&&e?e.toUpperCase()===N.matches[t].label.toUpperCase():!1},z=function(e){var t={$viewValue:e};C(d,!0),S(d,!1),n.when(F.source(d,t)).then(function(n){var a=e===v.$viewValue;if(a&&$)if(n&&n.length>0){N.activeIdx=M?0:-1,S(d,!1),N.matches.length=0;for(var i=0;i<n.length;i++)t[F.itemName]=n[i],N.matches.push({id:R(i),label:F.viewMapper(N,t),model:n[i]});N.query=e,h(),p.attr("aria-expanded",!0),A&&1===N.matches.length&&j(e,0)&&N.select(0)}else _(),S(d,!0);a&&C(d,!1)},function(){_(),C(d,!1),S(d,!0)})};O&&(angular.element(o).bind("resize",g),i.find("body").bind("scroll",g));var q;N.moveInProgress=!1,_(),N.query=void 0;var B,W=function(e){B=a(function(){z(e)},k)},G=function(){B&&a.cancel(B)};v.$parsers.unshift(function(e){return $=!0,0===y||e&&e.length>=y?k>0?(G(),W(e)):z(e):(C(d,!1),G(),_()),x?e:e?(v.$setValidity("editable",!1),void 0):(v.$setValidity("editable",!0),null)}),v.$formatters.push(function(e){var t,n,a={};return x||v.$setValidity("editable",!0),E?(a.$model=e,E(d,a)):(a[F.itemName]=e,t=F.viewMapper(d,a),a[F.itemName]=void 0,n=F.viewMapper(d,a),t!==n?t:e)}),N.select=function(e){var t,n,i={};w=!0,i[F.itemName]=n=N.matches[e].model,t=F.modelMapper(d,i),L(d,t),v.$setValidity("editable",!0),v.$setValidity("parse",!0),T(d,{$item:n,$model:t,$label:F.viewMapper(d,i)}),_(),N.$eval(f.typeaheadFocusOnSelect)!==!1&&a(function(){p[0].focus()},0,!1)},p.bind("keydown",function(e){if(0!==N.matches.length&&-1!==c.indexOf(e.which)){if(-1===N.activeIdx&&(9===e.which||13===e.which))return _(),N.$digest(),void 0;e.preventDefault(),40===e.which?(N.activeIdx=(N.activeIdx+1)%N.matches.length,N.$digest()):38===e.which?(N.activeIdx=(N.activeIdx>0?N.activeIdx:N.matches.length)-1,N.$digest()):13===e.which||9===e.which?N.$apply(function(){N.select(N.activeIdx)}):27===e.which&&(e.stopPropagation(),_(),N.$digest())}}),p.bind("blur",function(){D&&N.matches.length&&-1!==N.activeIdx&&!w&&(w=!0,N.$apply(function(){N.select(N.activeIdx)})),$=!1,w=!1});var Y=function(e){p[0]!==e.target&&3!==e.which&&0!==N.matches.length&&(_(),r.$$phase||N.$digest())};i.bind("click",Y),d.$on("$destroy",function(){i.unbind("click",Y),O&&K.remove(),H.remove()});var K=e(H)(N);O?i.find("body").append(K):p.after(K)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"&",moveInProgress:"=",select:"&"},replace:!0,templateUrl:function(e,t){return t.popupTemplateUrl||"template/typeahead/typeahead-popup.html"},link:function(e,t,n){e.templateUrl=n.templateUrl,e.isOpen=function(){return e.matches.length>0},e.isActive=function(t){return e.active==t},e.selectActive=function(t){e.active=t},e.selectMatch=function(t){e.select({activeIdx:t})}}}}).directive("typeaheadMatch",["$templateRequest","$compile","$parse",function(e,t,n){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(a,i,o){var r=n(o.templateUrl)(a.$parent)||"template/typeahead/typeahead-match.html";e(r).then(function(e){t(e.trim())(a,function(e){i.replaceWith(e)})})}}}]).filter("typeaheadHighlight",["$sce","$injector","$log",function(e,t,n){function a(e){return e.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}function i(e){return/<.*>/g.test(e)}var o;return o=t.has("$sanitize"),function(t,r){return!o&&i(t)&&n.warn("Unsafe use of typeahead please use ngSanitize"),t=r?(""+t).replace(new RegExp(a(r),"gi"),"<strong>$&</strong>"):t,o||(t=e.trustAsHtml(t)),t}}]),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion-group.html",'<div class="panel {{panelClass || \'panel-default\'}}">\n  <div class="panel-heading" ng-keypress="toggleOpen($event)">\n    <h4 class="panel-title">\n      <a href tabindex="0" class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(e){e.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(e){e.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissible\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close($event)">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(e){e.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides | orderBy:indexOfSlide track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(e){e.put("template/carousel/slide.html",'<div ng-class="{\n    \'active\': active\n  }" class="item text-center" ng-transclude></div>\n')}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{::5 + showWeeks}}"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-if="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in ::labels track by $index" class="text-center"><small aria-label="{{::label.full}}">{{::label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-if="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}" ng-class="::dt.customClass">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-if="isOpen" style="display: block" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)" ng-click="$event.stopPropagation()">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')" ng-disabled="isDisabled(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(e){e.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{::uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{::uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" ng-disabled="datepickerMode === maxMode" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{::dt.uid}}">\n        <button type="button" style="min-width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="::{\'text-info\': dt.current}">{{::dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(e){e.put("template/modal/backdrop.html",'<div class="modal-backdrop"\n     modal-animation-class="fade"\n     modal-in-class="in"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(e){e.put("template/modal/window.html",'<div modal-render="{{$isRendered}}" tabindex="-1" role="dialog" class="modal"\n    modal-animation-class="fade"\n    modal-in-class="in"\n	ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="size ? \'modal-\' + size : \'\'"><div class="modal-content" modal-transclude></div></div>\n</div>\n')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious()||ngDisabled, previous: align}"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext()||ngDisabled, next: align}"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n</ul>\n')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(e){e.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-first"><a href ng-click="selectPage(1, $event)">{{::getText(\'first\')}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noPrevious()||ngDisabled}" class="pagination-prev"><a href ng-click="selectPage(page - 1, $event)">{{::getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active,disabled: ngDisabled&&!page.active}" class="pagination-page"><a href ng-click="selectPage(page.number, $event)">{{page.text}}</a></li>\n  <li ng-if="::directionLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-next"><a href ng-click="selectPage(page + 1, $event)">{{::getText(\'next\')}}</a></li>\n  <li ng-if="::boundaryLinks" ng-class="{disabled: noNext()||ngDisabled}" class="pagination-last"><a href ng-click="selectPage(totalPages, $event)">{{::getText(\'last\')}}</a></li>\n</ul>\n')
}]),angular.module("template/tooltip/tooltip-html-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind-html="contentExp()"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-template-popup.html",[]).run(["$templateCache",function(e){e.put("template/tooltip/tooltip-template-popup.html",'<div class="tooltip"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner"\n    tooltip-template-transclude="contentExp()"\n    tooltip-template-transclude-scope="originScope()"></div>\n</div>\n')}]),angular.module("template/popover/popover-html.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-html.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind-html="contentExp()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover-template.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover-template.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content"\n        tooltip-template-transclude="contentExp()"\n        tooltip-template-transclude-scope="originScope()"></div>\n  </div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(e){e.put("template/popover/popover.html",'<div class="popover"\n  tooltip-animation-class="fade"\n  tooltip-classes\n  ng-class="{ in: isOpen() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-if="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(e){e.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: (percent < 100 ? percent : 100) + \'%\'}" aria-valuetext="{{percent | number:0}}%" style="min-width: 0;" ng-transclude></div>\n</div>\n')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(e){e.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <span ng-repeat-start="r in range track by $index" class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    <i ng-repeat-end ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')" ng-attr-title="{{r.title}}" ></i>\n</span>\n')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(e){e.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(e){e.put("template/timepicker/timepicker.html",'<table>\n  <tbody>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="incrementHours()" ng-class="{disabled: noIncrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="incrementMinutes()" ng-class="{disabled: noIncrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n    <tr>\n      <td class="form-group" ng-class="{\'has-error\': invalidHours}">\n        <input style="width:50px;" type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td>:</td>\n      <td class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n        <input style="width:50px;" type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="::readonlyInput" maxlength="2">\n      </td>\n      <td ng-show="showMeridian"><button type="button" ng-class="{disabled: noToggleMeridian()}" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n    </tr>\n    <tr class="text-center" ng-show="::showSpinners">\n      <td><a ng-click="decrementHours()" ng-class="{disabled: noDecrementHours()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td>&nbsp;</td>\n      <td><a ng-click="decrementMinutes()" ng-class="{disabled: noDecrementMinutes()}" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n      <td ng-show="showMeridian"></td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-match.html",'<a href tabindex="-1" ng-bind-html="match.label | typeaheadHighlight:query"></a>\n')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(e){e.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen() && !moveInProgress" ng-style="{top: position().top+\'px\', left: position().left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{::match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),!angular.$$csp()&&angular.element(document).find("head").prepend('<style type="text/css">.ng-animate.item:not(.left):not(.right){-webkit-transition:0s ease-in-out left;transition:0s ease-in-out left}</style>'),function(){"use strict";angular.module("risevision.widget.common.widget-button-toolbar",["risevision.common.i18n"]).directive("widgetButtonToolbar",["$templateCache",function(e){return{restrict:"E",scope:{save:"&",cancel:"&",disableSave:"&"},template:e.get("_angular/widget-button-toolbar/widget-button-toolbar.html")}}])}(),function(e){try{e=angular.module("risevision.widget.common.widget-button-toolbar")}catch(t){e=angular.module("risevision.widget.common.widget-button-toolbar",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/widget-button-toolbar/widget-button-toolbar.html",'<div class="pull-right">\n  <button id="save" class="btn btn-primary btn-fixed-width" type="button" ng-click="save()" ng-disabled="disableSave()">\n    <span>{{"common.save" | translate}}</span>\n    <i class="fa fa-white fa-check icon-right"></i>\n  </button>\n  <button id="cancel" class="btn btn-default btn-fixed-width" type="button" ng-click="cancel()">\n    <span>{{"common.cancel" | translate}}</span>\n    <i class="fa fa-white fa-times icon-right"></i>\n  </button>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.tooltip",["ui.bootstrap"]).directive("rvTooltip",[function(){return{restrict:"A",link:function(e,t){t.addClass("fa"),t.addClass("fa-question-circle"),t.addClass("fa-lg")}}}])}(),function(e){"use strict";e.module("risevision.widget.common.google-drive-picker",["risevision.common.i18n"]).directive("googleDrivePicker",["$window","$document","$log","$templateCache","apiAuth","apiGooglePicker",function(e,t,n,a,i,o){return{restrict:"E",scope:{viewId:"@"},template:a.get("google-drive-picker-template.html"),link:function(a,r,s){function l(e){o.get().then(function(t){e[t.picker.Response.ACTION]===t.picker.Action.PICKED?(n.debug("Files picked",e[t.picker.Response.DOCUMENTS]),a.$emit("picked",e[t.picker.Response.DOCUMENTS])):e[t.picker.Response.ACTION]===t.picker.Action.CANCEL&&(n.debug("File pick cancelled"),a.$emit("cancel"))})}function c(t){var n,a,o=u.createElement("a");u.referrer?"localhost"===u.location.hostname?n=e.location.protocol+"//"+e.location.host:(o.href=u.referrer,n=o.protocol+"//"+o.hostname):n=e.location.protocol+"//"+e.location.host,a=(new t.picker.PickerBuilder).setOrigin(n).addView(d).setOAuthToken(i.getAuthToken()).setCallback(l).build(),a.setVisible(!0)}var u=t[0],d=s.viewId||"docs";r.on("click",function(){i.getAuthToken()?o.get().then(c):i.getAuthToken()||i.authorize(!1).then(function(e){e&&!e.error&&o.get().then(c)})}),i.authorize(!0).then(null,function(e){n.warn(e)})}}}])}(angular),function(e){try{e=angular.module("risevision.widget.common.google-drive-picker")}catch(t){e=angular.module("risevision.widget.common.google-drive-picker",[])}e.run(["$templateCache",function(e){"use strict";e.put("google-drive-picker-template.html",'<div class="google-drive-picker">\n  <button type="button" class="btn btn-default">\n    {{"google-drive-picker.select" | translate }}\n    <img class="icon-right" src="//s3.amazonaws.com/Rise-Images/Icons/drive.svg">\n  </button>\n</div>\n')}])}();var isClientJS=!1;if(function(e){"use strict";e.module("risevision.widget.common.google-drive-picker").factory("oauthAPILoader",["$q","$log","gapiLoader",function(e,t,n){var a,i=e.defer(),o={get:function(){return a||(a=i.promise,n.get().then(function(e){e.load("auth",function(){t.info("auth API is loaded"),i.resolve(e)})})),a}};return o}]).factory("gapiLoader",["$q","$window",function(e,t){var n={get:function(){var n,a=e.defer();return t.isClientJS?a.resolve(t.gapi):(n=function(){a.resolve(t.gapi),t.removeEventListener("gapi.loaded",n,!1)},t.addEventListener("gapi.loaded",n,!1)),a.promise}};return n}]).factory("pickerLoader",["$q","$window","$log","gapiLoader",function(e,t,n,a){var i={get:function(){var t,i=e.defer();return t||(t=i.promise,a.get().then(function(e){e.load("picker",function(){n.info("picker API is loaded"),i.resolve(e)})})),t}};return i}])}(angular),function(e){"use strict";e.module("risevision.widget.common.google-drive-picker").value("CLIENT_ID","614513768474.apps.googleusercontent.com").value("SCOPE",["https://www.googleapis.com/auth/drive"]).factory("apiAuth",["$q","$http","$log","gapiLoader","oauthAPILoader","CLIENT_ID","SCOPE",function(e,t,n,a,i,o,r){var s=null,l={};return l.authorize=function(t){var a=e.defer(),l={client_id:o,scope:r,immediate:t};return i.get().then(function(e){e.auth.authorize(l,function(e){e&&!e.error?(s=e.access_token,a.resolve(e)):(a.reject("Authentication Error: "+e.error),n.debug("authorize result",e))})}),a.promise},l.getAuthToken=function(){return s},l}])}(angular),function(e){"use strict";e.module("risevision.widget.common.google-drive-picker").factory("apiGooglePicker",["$q","$window","$log","pickerLoader",function(e,t,n,a){var i,o=e.defer(),r={get:function(){return i||(i=o.promise,a.get().then(function(){o.resolve(t.google)})),i}};return r}])}(angular),angular.module("colorpicker.module",[]).factory("Helper",function(){"use strict";return{closestSlider:function(e){var t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector;return t.bind(e)("I")?e.parentNode:e},getOffset:function(e,t){for(var n=0,a=0,i=e.getBoundingClientRect();e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t||"BODY"!==e.tagName?(n+=e.scrollLeft,a+=e.scrollTop):(n+=document.documentElement.scrollLeft||e.scrollLeft,a+=document.documentElement.scrollTop||e.scrollTop),e=e.offsetParent;return{top:i.top+window.pageYOffset,left:i.left+window.pageXOffset,scrollX:n,scrollY:a}},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}]}}).factory("Color",["Helper",function(e){"use strict";return{value:{h:1,s:1,b:1,a:1},rgb:function(){var e=this.toRGB();return"rgb("+e.r+","+e.g+","+e.b+")"},rgba:function(){var e=this.toRGB();return"rgba("+e.r+","+e.g+","+e.b+","+e.a+")"},hex:function(){return this.toHex()},RGBtoHSB:function(e,t,n,a){e/=255,t/=255,n/=255;var i,o,r,s;return r=Math.max(e,t,n),s=r-Math.min(e,t,n),i=0===s?null:r===e?(t-n)/s:r===t?(n-e)/s+2:(e-t)/s+4,i=(i+360)%6*60/360,o=0===s?0:s/r,{h:i||1,s:o,b:r,a:a||1}},setColor:function(t){t=t?t.toLowerCase():t;for(var n in e.stringParsers)if(e.stringParsers.hasOwnProperty(n)){var a=e.stringParsers[n],i=a.re.exec(t),o=i&&a.parse(i);if(o)return this.value=this.RGBtoHSB.apply(null,o),!1}},setHue:function(e){this.value.h=1-e},setSaturation:function(e){this.value.s=e},setLightness:function(e){this.value.b=1-e},setAlpha:function(e){this.value.a=parseInt(100*(1-e),10)/100},toRGB:function(e,t,n,a){e||(e=this.value.h,t=this.value.s,n=this.value.b),e*=360;var i,o,r,s,l;return e=e%360/60,l=n*t,s=l*(1-Math.abs(e%2-1)),i=o=r=n-l,e=~~e,i+=[l,s,0,0,s,l][e],o+=[s,l,l,s,0,0][e],r+=[0,0,s,l,l,s][e],{r:Math.round(255*i),g:Math.round(255*o),b:Math.round(255*r),a:a||this.value.a}},toHex:function(e,t,n,a){var i=this.toRGB(e,t,n,a);return"#"+(1<<24|parseInt(i.r,10)<<16|parseInt(i.g,10)<<8|parseInt(i.b,10)).toString(16).substr(1)}}}]).factory("Slider",["Helper",function(e){"use strict";var t={maxLeft:0,maxTop:0,callLeft:null,callTop:null,knob:{top:0,left:0}},n={};return{getSlider:function(){return t},getLeftPosition:function(e){return Math.max(0,Math.min(t.maxLeft,t.left+((e.pageX||n.left)-n.left)))},getTopPosition:function(e){return Math.max(0,Math.min(t.maxTop,t.top+((e.pageY||n.top)-n.top)))},setSlider:function(a,i){var o=e.closestSlider(a.target),r=e.getOffset(o,i),s=o.getBoundingClientRect(),l=a.clientX-s.left,c=a.clientY-s.top;t.knob=o.children[0].style,t.left=a.pageX-r.left-window.pageXOffset+r.scrollX,t.top=a.pageY-r.top-window.pageYOffset+r.scrollY,n={left:a.pageX-(l-t.left),top:a.pageY-(c-t.top)}},setSaturation:function(e,n){t={maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},this.setSlider(e,n)},setHue:function(e,n){t={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},this.setSlider(e,n)},setAlpha:function(e,n){t={maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"},this.setSlider(e,n)},setKnob:function(e,n){t.knob.top=e+"px",t.knob.left=n+"px"}}}]).directive("colorpicker",["$document","$compile","Color","Slider","Helper",function(e,t,n,a,i){"use strict";return{require:"?ngModel",restrict:"A",link:function(o,r,s,l){function c(){e.on("mousemove",d),e.on("mouseup",p)}function u(){try{L.css("backgroundColor",A[$]())}catch(e){L.css("backgroundColor",A.toHex())}I.css("backgroundColor",A.toHex(A.value.h,1,1,1)),"rgba"===$&&(y.css.backgroundColor=A.toHex())}function d(e){var t=a.getLeftPosition(e),n=a.getTopPosition(e),i=a.getSlider();a.setKnob(n,t),i.callLeft&&A[i.callLeft].call(A,t/100),i.callTop&&A[i.callTop].call(A,n/100),u();var s=A[$]();return r.val(s),l&&o.$apply(l.$setViewValue(s)),D&&N.val(s),!1}function p(){v("colorpicker-selected"),e.off("mousemove",d),e.off("mouseup",p)}function f(e){A.setColor(r.val()),D&&!e&&N.val(r.val()),F.eq(0).css({left:100*A.value.s+"px",top:100-100*A.value.b+"px"}),F.eq(1).css("top",100*(1-A.value.h)+"px"),F.eq(2).css("top",100*(1-A.value.a)+"px"),u()}function m(){var e,t=i.getOffset(r[0]);return angular.isDefined(s.colorpickerParent)&&(t.left=0,t.top=0),"top"===k?e={top:t.top-147,left:t.left}:"right"===k?e={top:t.top,left:t.left+126}:"bottom"===k?e={top:t.top+r[0].offsetHeight+2,left:t.left}:"left"===k&&(e={top:t.top,left:t.left-150}),{top:e.top+"px",left:e.left+"px"}}function g(){b()}function h(){M.hasClass("colorpicker-visible")||(f(),M.addClass("colorpicker-visible").css(m()),v("colorpicker-shown"),x===!1&&e.on("mousedown",g),s.colorpickerIsOpen&&(o[s.colorpickerIsOpen]=!0,o.$$phase||o.$digest()))}function v(e){l&&o.$emit(e,{name:s.ngModel,value:l.$modelValue})}function b(){M.hasClass("colorpicker-visible")&&(M.removeClass("colorpicker-visible"),v("colorpicker-closed"),e.off("mousedown",g),s.colorpickerIsOpen&&(o[s.colorpickerIsOpen]=!1,o.$$phase||o.$digest()))}var y,$=s.colorpicker?s.colorpicker:"hex",w=angular.isDefined(s.backgroundSetting)?!0:!1,k=angular.isDefined(s.colorpickerPosition)?s.colorpickerPosition:"bottom",x=angular.isDefined(s.colorpickerInline)?s.colorpickerInline:!1,C=angular.isDefined(s.colorpickerFixedPosition)?s.colorpickerFixedPosition:!1,T=angular.isDefined(s.colorpickerParent)?r.parent():angular.element(document.body),D=angular.isDefined(s.colorpickerWithInput)?s.colorpickerWithInput:!1,S=D?'<input type="text" name="colorpicker-input" spellcheck="false">':"",E=x?"":'<button type="button" class="close close-colorpicker">&times;</button>',O=w?'<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha>'+S+"</div></div>":'<div class="colorpicker dropdown"><div class="dropdown-menu"><colorpicker-saturation><i></i></colorpicker-saturation><colorpicker-hue><i></i></colorpicker-hue><colorpicker-alpha><i></i></colorpicker-alpha><colorpicker-preview></colorpicker-preview>'+S+E+"</div></div>",M=angular.element(O),A=n,P=M.find("colorpicker-hue"),I=M.find("colorpicker-saturation"),L=M.find("colorpicker-preview"),F=M.find("i");if(t(M)(o),D){var N=M.find("input");N.on("mousedown",function(e){e.stopPropagation()}).on("keyup",function(){var e=this.value;r.val(e),l&&l.$modelValue!==e&&(o.$apply(l.$setViewValue(e)),f(!0))})}"rgba"===$&&(M.addClass("alpha"),y=M.find("colorpicker-alpha"),y.on("click",function(e){a.setAlpha(e,C),d(e)}).on("mousedown",function(e){a.setAlpha(e,C),c()}).on("mouseup",function(){v("colorpicker-selected-alpha")})),P.on("click",function(e){a.setHue(e,C),d(e)}).on("mousedown",function(e){a.setHue(e,C),c()}).on("mouseup",function(){v("colorpicker-selected-hue")}),I.on("click",function(e){a.setSaturation(e,C),d(e),angular.isDefined(s.colorpickerCloseOnSelect)&&b()}).on("mousedown",function(e){a.setSaturation(e,C),c()}).on("mouseup",function(){v("colorpicker-selected-saturation")}),C&&M.addClass("colorpicker-fixed-position"),M.addClass("colorpicker-position-"+k),"true"===x&&M.addClass("colorpicker-inline"),T.append(M),l&&(l.$render=function(){r.val(l.$viewValue),f()}),r.on("blur keyup change",function(){f()}),r.on("$destroy",function(){M.remove()}),x===!1?r.on("click",h):h(),M.on("mousedown",function(e){e.stopPropagation(),e.preventDefault()}),M.find("button").on("click",function(){b()}),s.colorpickerIsOpen&&o.$watch(s.colorpickerIsOpen,function(e){e===!0?h():e===!1&&b()})}}}]),"undefined"==typeof TEMPLATES)var TEMPLATES={};TEMPLATES["alignment.html"]='<div class="btn-group alignment">\n  <button type="button" class="btn btn-default btn-sm btn-alignment dropdown-toggle"\n    data-toggle="dropdown" data-wysihtml5-command-value="left">\n    <i class="fa fa-align-left"></i>\n    <span class="caret"></span>\n  </button>\n  <div class="dropdown-menu" role="menu">\n    <div class="btn-group">\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="left" tabindex="-1">\n        <i class="fa fa-align-left"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="center" tabindex="-1">\n        <i class="fa fa-align-center"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="right" tabindex="-1">\n        <i class="fa fa-align-right"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="justify" tabindex="-1">\n        <i class="fa fa-align-justify"></i>\n      </button>\n    </div>\n  </div>\n</div>\n',function(e,t,n,a){"use strict";function i(t,n){function i(){l.append(a["alignment.html"]),c=l.find(".btn-alignment"),r(n.align),l.find(".dropdown-menu button").on("click",function(){var t=e(this).data("wysihtml5-command-value");r(t),l.trigger("alignmentChanged",t)})}function o(){return c.data("wysihtml5-command-value")}function r(e){var t=l.find(".btn-alignment .fa"),n=t.attr("class").match(/fa-align-[a-z]+/g),a="fa-align-"+e;n&&n.length>0&&t.removeClass(n[0]),t.addClass(a),c.data("wysihtml5-command-value",e)}function s(){r(u)}var l=e(t),c=null,u="left";return n=e.extend({},{align:u},n),i(),{getAlignment:o,setAlignment:r,reset:s}}var o="alignment";e.fn.alignment=function(t){return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new i(this,t))})}}(jQuery,window,document,TEMPLATES);var WIDGET_SETTINGS_UI_CONFIG={families:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats;",sizes:"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px"};if(function(){"use strict";angular.module("risevision.widget.common.url-field",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("urlField",["$templateCache","$log",function(e,t){return{restrict:"E",require:"?ngModel",scope:{url:"=",hideLabel:"@",fileType:"@"},template:e.get("_angular/url-field/url-field.html"),link:function(e,n,a,i){function o(e,t){var n,a=e.toLowerCase();switch(t){case"image":n=[".jpg",".jpeg",".png",".bmp",".svg",".gif"];break;case"video":n=[".webm",".mp4",".ogv",".ogg"];break;default:n=[]}for(var i=0,o=n.length;o>i;i++)if(-1!==a.indexOf(n[i]))return!0;return!1}function r(){if("undefined"!==e.fileType&&"undefined"!==e.url&&"image"===e.fileType){var t=new Image;t.onload=function(){e.valid=!0,e.$apply()},t.onerror=function(){e.valid=!1,e.invalidType=e.fileType,e.$apply()},t.src=e.url}}function s(t){var n,a;return n=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,-1===t.indexOf("://")&&(t="http://"+t),a=n.test(t),a&&"undefined"!=typeof e.fileType?(a=o(t,e.fileType),a||(e.invalidType=e.fileType)):e.invalidType="url",a&&r(),a}e.doValidation=!0,e.forcedValid=!1,e.valid=!0,e.invalidType="url",e.allowInitEmpty="undefined"!=typeof a.initEmpty,e.blur=function(){e.$emit("urlFieldBlur")},e.$watch("url",function(t){"undefined"!=typeof t&&null!==t&&(""!==t&&e.allowInitEmpty&&(e.allowInitEmpty=!1),e.doValidation&&!e.allowInitEmpty&&(e.valid=s(e.url)))}),e.$watch("valid",function(e){i&&(t.info("Calling $setValidity() on parent controller"),i.$setValidity("valid",e))}),e.$watch("doValidation",function(t){"undefined"!=typeof e.url&&(t?(e.forcedValid=!1,e.allowInitEmpty||(e.valid=s(e.url))):(e.forcedValid=!0,e.valid=!0))})}}}])}(),function(e){try{e=angular.module("risevision.widget.common.url-field")}catch(t){e=angular.module("risevision.widget.common.url-field",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/url-field/url-field.html",'<div class="form-group" >\n  <label ng-if="!hideLabel">{{ "url.label" | translate }}</label>\n  <div>\n    <input name="url" type="text" ng-model="url" ng-blur="blur()" class="form-control" placeholder="http://">\n  </div>\n  <p ng-if="!valid && invalidType === \'url\'" class="text-danger">{{ "url.errors.url" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'image\'" class="text-danger">{{ "url.errors.image" | translate }}</p>\n  <p ng-if="!valid && invalidType === \'video\'" class="text-danger">{{ "url.errors.video" | translate }}</p>\n  <div class="checkbox" ng-show="forcedValid || !valid">\n    <label>\n      <input name="validate-url" ng-click="doValidation = !doValidation" type="checkbox"\n             value="validate-url"> {{"url.validate.label" | translate}}\n    </label>\n  </div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting",["angularLoad","ui.tinymce","risevision.common.i18n","risevision.widget.common.url-field"]).directive("fontSetting",["$templateCache","$log","$window","googleFontLoader",function(e,t,n,a){return{restrict:"AE",scope:{fontData:"=",previewText:"@",verticalAlign:"@"},template:e.get("_angular/font-setting/font-setting.html"),transclude:!1,link:function(e,t){function i(){e.tinymceOptions={font_formats:"Use Custom Font=custom;"+WIDGET_SETTINGS_UI_CONFIG.families+e.googleFontList,fontsize_formats:"Custom "+(""!==e.fontData.customSize?e.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes,menubar:!1,plugins:"textcolor colorpicker",skin_url:"//s3.amazonaws.com/rise-common/styles/tinymce/rise",statusbar:!1,toolbar:"fontselect fontsizeselect | alignleft aligncenter alignright alignjustify"+(e.verticalAlign?" aligntop alignmiddle alignbottom":"")+" | forecolor backcolor | bold italic underline",setup:function(t){e.verticalAlign&&p(t),t.on("init",function(){o(t),v=!1}),t.on("ExecCommand",function(e){r(t,e)})},init_instance_callback:function(e){var t=e.formatter.apply,n=e.formatter.remove;e.formatter.apply=function(n,a,i){var o={command:n,value:a.value};t(n,a,i),e.fire("ExecCommand",o)},e.formatter.remove=function(t,a,i){var o={command:t,value:a&&a.value?a.value:null};n(t,a,i),e.fire("ExecCommand",o)}}}}function o(t){if(e.fontData){switch("custom"===e.fontData.font.type&&e.fontData.font.url?t.execCommand("FontName",!1,"custom"):t.execCommand("FontName",!1,e.fontData.font.family),t.execCommand("FontSize",!1,e.fontData.size),e.fontData.align){case"left":t.execCommand("JustifyLeft",!1);break;case"center":t.execCommand("JustifyCenter",!1);break;case"right":t.execCommand("JustifyRight",!1);break;case"justify":t.execCommand("JustifyFull",!1)}e.verticalAlign&&t.execCommand("mceToggleVertical",!1,e.fontData.verticalAlign),m.find(".mce-colorbutton[aria-label='Text color'] span").css("background-color",e.fontData.forecolor),m.find(".mce-colorbutton[aria-label='Background color'] span").css("background-color",e.fontData.backcolor),e.fontData.bold&&s(m.find(".mce-btn[aria-label='Bold']")),e.fontData.italic&&s(m.find(".mce-btn[aria-label='Italic']")),e.fontData.underline&&s(m.find(".mce-btn[aria-label='Underline']"))}}function r(t,n){switch(n.command){case"FontName":if(v)return;if("custom"===n.value)return g.modal("show"),void 0;e.fontData.font.family=n.value,e.fontData.font.type=c(n.value);break;case"FontSize":if(v)return;if("Custom"===n.value)return h.modal("show"),void 0;e.fontData.size=n.value;break;case"JustifyLeft":e.fontData.align="left";break;case"JustifyCenter":e.fontData.align="center";break;case"JustifyRight":e.fontData.align="right";break;case"JustifyFull":e.fontData.align="justify";break;case"mceToggleVertical":n.value?(f(n.value),e.fontData.verticalAlign!==n.value&&f(e.fontData.verticalAlign)):f(e.defaultFont.verticalAlign),e.fontData.verticalAlign=n.value?n.value:e.defaultFont.verticalAlign;break;case"forecolor":e.fontData.forecolor=n.value?n.value:e.defaultFont.forecolor;break;case"hilitecolor":e.fontData.backcolor=n.value?n.value:e.defaultFont.backcolor;break;case"mceToggleFormat":"bold"===n.value?(e.fontData.bold=!e.fontData.bold,s(m.find(".mce-btn[aria-label='Bold']"))):"italic"===n.value?(e.fontData.italic=!e.fontData.italic,s(m.find(".mce-btn[aria-label='Italic']"))):"underline"===n.value&&(e.fontData.underline=!e.fontData.underline,s(m.find(".mce-btn[aria-label='Underline']")))}l(e.fontData)}function s(e){e.toggleClass("mce-active")}function l(t){var n=m.find(".text-container"),a=m.find(".text");e.previewText&&t&&(a.css("fontFamily",t.font.family),a.css("fontSize",t.size),a.css("fontWeight",t.bold?"bold":"normal"),a.css("fontStyle",t.italic?"italic":"normal"),a.css("textDecoration",t.underline?"underline":"none"),a.css("color",t.forecolor),a.css("backgroundColor",t.backcolor),n.css("textAlign",t.align))}function c(t){return-1!==WIDGET_SETTINGS_UI_CONFIG.families.indexOf(t)?"standard":-1!==e.googleFontList.indexOf(t)?"google":"custom"}function u(){return e.fontData.font.url?e.fontData.font.url.split("/").pop().split(".")[0]:null}function d(t){var n=null,a=$.trim(e.fontData.font.url),i="font-family: "+t+"; src: url('"+a+"');";n=document.styleSheets[0],null!==n&&n.addRule("@font-face",i)}function p(e){e.addButton("aligntop",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-top.svg",tooltip:"Align Top",onclick:function(){e.execCommand("mceToggleVertical",!1,"top")}}),e.addButton("alignmiddle",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-vertical-middle.svg",tooltip:"Align Middle",onclick:function(){e.execCommand("mceToggleVertical",!1,"middle")
}}),e.addButton("alignbottom",{image:"//s3.amazonaws.com/Rise-Images/Icons/align-bottom.svg",tooltip:"Align Bottom",onclick:function(){e.execCommand("mceToggleVertical",!1,"bottom")}}),e.addCommand("mceToggleVertical",function(){})}function f(e){switch(e){case"top":s(m.find(".mce-btn[aria-label='Align Top']"));break;case"middle":s(m.find(".mce-btn[aria-label='Align Middle']"));break;case"bottom":s(m.find(".mce-btn[aria-label='Align Bottom']"))}}var m=$(t),g=m.find(".custom-font"),h=m.find(".custom-font-size"),v=!0;e.googleFontList="",e.defaultFont={font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"24px",customSize:"",align:"left",verticalAlign:"middle",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"},a.getFonts().then(function(t){e.googleFontList=t}),e.customFontSize=null,e.applyCustomFont=function(){var t=u();null!==t&&(d(t),e.fontData.font.family=t,e.fontData.font.type="custom",l(e.fontData)),g.modal("hide")},e.applyCustomFontSize=function(){h.modal("hide"),null!==e.customFontSize&&e.customFontSize>=8&&e.customFontSize+"px"!==e.fontData.size&&(e.fontData.size=e.customFontSize+"px",-1!==WIDGET_SETTINGS_UI_CONFIG.sizes.indexOf(e.fontData.size)||e.fontData.customSize===e.fontData.size?n.tinymce.activeEditor.execCommand("FontSize",!1,e.fontData.size):(e.fontData.customSize=e.customFontSize+"px",e.tinymceOptions.fontsize_formats="Custom "+(""!==e.fontData.customSize?e.fontData.customSize+" ":"")+WIDGET_SETTINGS_UI_CONFIG.sizes)),e.customFontSize=null},e.defaults=function(e){if(e)for(var t=1,n=arguments.length;n>t;t++){var a=arguments[t];for(var i in a)void 0===e[i]&&(e[i]=a[i])}return e};var b=e.$watchGroup(["fontData","googleFontList"],function(t){var n=null,a=t[0],o=t[1];a&&o&&(e.defaults(a,e.defaultFont),e.fontData.font.url&&(n=u(),null!==n&&d(n)),l(a),i(),b(),e.previewText&&e.$watch("fontData",l,!0))});e.$watch("tinymceOptions.fontsize_formats",function(t){"undefined"==typeof t||v||e.$broadcast("$tinymce:refresh")})}}}])}(),function(){"use strict";angular.module("risevision.widget.common.font-setting").factory("googleFontLoader",["$http","angularLoad",function(e,t){var n="https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY",a="//fonts.googleapis.com/css?family=",i=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],o=",sans-serif;",r={};return r.getFonts=function(){return e.get(n,{cache:!0}).then(function(e){var n="",r="",s=!1;if(e.data&&e.data.items)for(var l=0;l<e.data.items.length;l++)n=e.data.items[l].family,-1===i.indexOf(n)&&(t.loadCSS(a+n).then(function(){}),/\s/.test(n)&&(s=!0),r+=s?n+"='"+n+"'"+o:n+"="+n+o);return r})},r}])}(),function(e){try{e=angular.module("risevision.widget.common.font-setting")}catch(t){e=angular.module("risevision.widget.common.font-setting",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/font-setting/font-setting.html",'<div class="font-setting">\n  <div class="row">\n    <div class="col-md-12">\n      <div ng-class="{\'form-group\': !previewText}">\n        <textarea ui-tinymce="tinymceOptions" ng-model="tinymceModel" ng-if="tinymceOptions"></textarea>\n      </div>\n    </div>\n  </div>\n  <div class="row" ng-if="previewText">\n    <div class="col-md-12">\n      <div class="text-container form-group">\n        <span class="text">{{previewText}}</span>\n      </div>\n    </div>\n  </div>\n\n  <!-- Custom Font -->\n  <div class="custom-font modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontForm">\n          <div class="modal-body">\n            <url-field url="fontData.font.url" ng-model="customFont" init-empty></url-field>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFont()" ng-disabled="customFontForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n\n  <!-- Custom Font Size -->\n  <div class="custom-font-size modal" tabindex="-1" role="dialog" aria-hidden="true" data-backdrop="false">\n    <div class="modal-dialog">\n      <div class="modal-content">\n\n        <div class="modal-header">\n          <button type="button" class="close" data-dismiss="modal">\n            <i class="fa fa-times half-top"></i>\n          </button>\n          <h2 class="modal-title">{{"font-setting.custom-font-size" | translate}}</h2>\n        </div>\n\n        <form role="form" name="customFontSizeForm">\n          <div class="modal-body">\n            <div class="row">\n              <div class="col-md-3">\n                <div class="input-group">\n                  <input type="number" ng-model="customFontSize" class="form-control" />\n                  <span class="input-group-addon">{{\'common.units.pixels\' | translate}}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class="modal-footer">\n            <button type="button" class="select btn btn-primary btn-fixed-width" ng-click="applyCustomFontSize()" ng-disabled="customFontSizeForm.$invalid">\n              <span>{{"common.select" | translate}}</span>\n              <i class="fa fa-white fa-check icon-right"></i>\n            </button>\n            <button type="button" class="cancel btn btn-default btn-fixed-width" data-dismiss="modal">\n              <span>{{"common.cancel" | translate}}</span>\n              <i class="fa fa-white fa-times icon-right"></i>\n            </button>\n          </div>\n        </form>\n\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),angular.module("ui.tinymce",[]).value("uiTinymceConfig",{}).directive("uiTinymce",["$rootScope","$compile","$timeout","$window","$sce","uiTinymceConfig",function(e,t,n,a,i,o){o=o||{};var r=0,s="ui-tinymce";return o.baseUrl&&(tinymce.baseURL=o.baseUrl),{require:["ngModel","^?form"],link:function(l,c,u,d){function p(e){e?(f(),g&&g.getBody().setAttribute("contenteditable",!1)):(f(),g&&!g.settings.readonly&&g.getBody().setAttribute("contenteditable",!0))}function f(){g||(g=tinymce.get(u.id))}if(a.tinymce){var m,g,h=d[0],v=d[1]||null,b={},y=function(t){var n=t.getContent({format:b.format}).trim();n=i.trustAsHtml(n),h.$setViewValue(n),e.$$phase||l.$apply()};u.$set("id",s+"-"+r++),m={},angular.extend(m,l.$eval(u.uiTinymce));var $={setup:function(e){e.on("init",function(){h.$render(),h.$setPristine(),v&&v.$setPristine()}),e.on("ExecCommand",function(){e.save(),y(e)}),e.on("change NodeChange",function(){e.save(),y(e)}),e.on("blur",function(){c[0].blur()}),e.on("ObjectResized",function(){e.save(),y(e)}),e.on("remove",function(){c.remove()}),m.setup&&m.setup(e,{updateView:y})},format:m.format||"html",selector:"#"+u.id};angular.extend(b,o,m,$),n(function(){b.baseURL&&(tinymce.baseURL=b.baseURL),tinymce.init(b),p(l.$eval(u.ngDisabled))}),h.$formatters.unshift(function(e){return e?i.trustAsHtml(e):""}),h.$parsers.unshift(function(e){return e?i.getTrustedHtml(e):""}),h.$render=function(){f();var e=h.$viewValue?i.getTrustedHtml(h.$viewValue):"";g&&g.getDoc()&&(g.setContent(e),g.fire("change"))},u.$observe("disabled",p),l.$on("$tinymce:refresh",function(e,n){var a=u.id;if(angular.isUndefined(n)||n===a){var i=c.parent(),o=c.clone();o.removeAttr("id"),o.removeAttr("style"),o.removeAttr("aria-hidden"),tinymce.execCommand("mceRemoveEditor",!1,a),i.append(t(o)(l))}}),l.$on("$destroy",function(){f(),g&&(g.remove(),g=null)})}}}}]),"undefined"==typeof TEMPLATES)var TEMPLATES={};TEMPLATES["alignment.html"]='<div class="btn-group alignment">\n  <button type="button" class="btn btn-default btn-sm btn-alignment dropdown-toggle"\n    data-toggle="dropdown" data-wysihtml5-command-value="left">\n    <i class="fa fa-align-left"></i>\n    <span class="caret"></span>\n  </button>\n  <div class="dropdown-menu" role="menu">\n    <div class="btn-group">\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="left" tabindex="-1">\n        <i class="fa fa-align-left"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="center" tabindex="-1">\n        <i class="fa fa-align-center"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="right" tabindex="-1">\n        <i class="fa fa-align-right"></i>\n      </button>\n      <button type="button" class="btn btn-default btn-sm" data-wysihtml5-command="alignment"\n        data-wysihtml5-command-value="justify" tabindex="-1">\n        <i class="fa fa-align-justify"></i>\n      </button>\n    </div>\n  </div>\n</div>\n',function(e,t,n,a){"use strict";function i(t,n){function i(){l.append(a["alignment.html"]),c=l.find(".btn-alignment"),r(n.align),l.find(".dropdown-menu button").on("click",function(){var t=e(this).data("wysihtml5-command-value");r(t),l.trigger("alignmentChanged",t)})}function o(){return c.data("wysihtml5-command-value")}function r(e){var t=l.find(".btn-alignment .fa"),n=t.attr("class").match(/fa-align-[a-z]+/g),a="fa-align-"+e;n&&n.length>0&&t.removeClass(n[0]),t.addClass(a),c.data("wysihtml5-command-value",e)}function s(){r(u)}var l=e(t),c=null,u="left";return n=e.extend({},{align:u},n),i(),{getAlignment:o,setAlignment:r,reset:s}}var o="alignment";e.fn.alignment=function(t){return this.each(function(){e.data(this,"plugin_"+o)||e.data(this,"plugin_"+o,new i(this,t))})}}(jQuery,window,document,TEMPLATES);var WIDGET_SETTINGS_UI_CONFIG={families:"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats;",sizes:"8px 9px 10px 11px 12px 14px 18px 24px 30px 36px 48px 60px 72px 96px"};!function(){"use strict";angular.module("risevision.widget.common.alignment",[]).directive("alignment",function(){return{restrict:"E",scope:{align:"="},transclude:!1,link:function(e,t){var n=$(t);e.$watch("align",function(e){e&&(n.data("plugin_alignment")?n.data("plugin_alignment").setAlignment(e):n.alignment({align:e}))}),n.on("alignmentChanged",function(t,n){e.$apply(function(){e.align=n})})}}})}(),function(){"use strict";angular.module("risevision.widget.common.column-setting",["risevision.common.i18n","risevision.widget.common.font-setting"]).directive("columnSetting",["$templateCache",function(e){return{restrict:"E",scope:{column:"=",expand:"="},template:e.get("_angular/column-setting/column-setting.html"),transclude:!1,link:function(e){var t={fontStyle:{font:{family:"verdana,geneva,sans-serif",type:"standard",url:""},size:"18px",customSize:"",align:"left",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"},headerText:"",width:100,colorCondition:"none"};e.defaults=function(e){if(e)for(var t=1,n=arguments.length;n>t;t++){var a=arguments[t];for(var i in a)void 0===e[i]&&(e[i]=a[i])}return e},e.$watch("column.numeric",function(n){t.type="undefined"!=typeof n&&""!==n?n?"int":"string":"string",e.defaults(e.column,t)}),e.remove=function(){e.$parent.remove(e.column)}}}}])}(),function(e){try{e=angular.module("risevision.widget.common.column-setting")}catch(t){e=angular.module("risevision.widget.common.column-setting",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/column-setting/column-setting.html",'<div class="panel panel-default">\n  <div class="collapse-panel panel-heading">\n    <a href="" ondragstart="return false;"\n    ng-class="{\'panel-heading\':true, collapsed:!collapse}" ng-click="collapse=!collapse">\n       {{column.name | translate}}\n    </a>\n    <a href="" ondragstart="return false;" class="fa fa-minus-circle fa-lg remove-column-button" ng-click="remove()"></a>\n  </div>\n  <div ng-class="{\'panel-collapse\':true, collapse:true, in:collapse}">\n    <div class="panel-body">\n\n      <!-- Numeric data column -->\n      <div class="checkbox">\n        <label>\n          <input type="checkbox" ng-model="column.numeric">{{\'column.numeric\' | translate}}\n        </label>\n        <span class="text-danger" style="float:right">\n          {{\'column.note\' | translate}}\n        </span>\n      </div>\n\n      <font-setting font-data="column.fontStyle">\n      </font-setting>\n\n      <div class="row">\n\n        <!-- Header Text -->\n        <div class="col-sm-6 col-xs-12">\n          <div class="form-group">\n            <label for="column-header-text">\n              {{\'column.header-text.label\' | translate}}\n            </label>\n            <input type="text" ng-model="column.headerText" class="form-control">\n          </div>\n        </div>\n\n        <!-- Width -->\n        <div class="col-sm-3 col-xs-12">\n          <div class="form-group">\n            <label for="column-width">\n              {{\'column.width\' | translate}}\n            </label>\n            <div class="input-group">\n              <input type="number" ng-model="column.width" class="form-control">\n              <span class="input-group-addon">{{\'common.units.pixels\' | translate}}</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Color Conditions -->\n        <div class="col-sm-3 col-xs-12">\n          <div class="form-group">\n            <label for="column-color-condition">\n                {{\'column.color-condition.label\' | translate}}\n              </label>\n            <select class="form-control" ng-model="column.colorCondition"\n              ng-disabled="!column.numeric">\n              <option value="none">{{\'column.color-condition.none\' | translate}}</option>\n              <option value="change-up">{{\'column.color-condition.change-up\' | translate}}</option>\n              <option value="change-down">{{\'column.color-condition.change-down\' | translate}}</option>\n              <option value="value-positive">{{\'column.color-condition.value-positive\' | translate}}</option>\n              <option value="value-negative">{{\'column.color-condition.value-negative\' | translate}}</option>\n            </select>\n          </div>\n        </div>\n\n      </div>\n\n    </div>\n  </div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.column-selector",["risevision.widget.common.column-setting","risevision.common.i18n"]).directive("columnSelector",["$templateCache",function(e){return{restrict:"E",require:"?ngModel",scope:{columns:"=",columnNames:"="},template:e.get("_angular/column-selector/column-selector.html"),transclude:!1,link:function(e,t,n,a){function i(e,t){for(var n=0;n<e.length;n++)if(e[n].id===t){e.splice(n,1);break}}function o(){a&&a.$setValidity("required",e.columns.length)}function r(){for(var t=0;t<e.columns.length;t++)for(var n=0;n<e.columnNames.length;n++)e.columns[t].id===e.columnNames[n].id&&(e.columns[t].type=e.columnNames[n].type,e.columns[t].name=e.columnNames[n].name,e.columnNames[n].show=!0)}var s=e.$watch("columns",function(){e.columns&&e.columnNames&&(r(),o(),s())}),l=e.$watch("columnNames",function(t){e.columns&&t&&t.length>0&&(r(),l())});e.show=function(e){return!e.show},e.addColumn=function(){console.log(e.selectedColumn),e.add(e.selectedColumn),e.selectedColumn=null},e.add=function(t){t.show=!0,e.columns.push(t),o()},e.remove=function(t){if(t){i(e.columns,t.id);for(var n=0;n<e.columnNames.length;n++)if(t.id===e.columnNames[n].id){e.columnNames[n].show=!1;break}o()}}}}}])}(),function(e){try{e=angular.module("risevision.widget.common.column-selector")}catch(t){e=angular.module("risevision.widget.common.column-selector",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/column-selector/column-selector.html",'<div class="section">\n	<div class="row">\n		<div class="col-md-12">\n			<div class="form-group">\n				<label for="columns" class="control-label">{{\'column.select-title\' | translate}}</label>\n		    <select id="column-selector" class="form-control" ng-model="selectedColumn"\n				ng-options="column.name | translate for column in columnNames | filter:show track by column.id"\n				ng-change="addColumn()"></select>\n			</div>\n		</div>\n	</div>\n	<div class="row">\n		<div class="col-md-12">\n			<div class="panel-group">\n				<column-setting column="column" ng-repeat="column in columns"></column-setting>\n			</div>\n	</div>\n</div>\n')}])}(),function(){"use strict";angular.module("risevision.widget.common.scroll-setting",["risevision.common.i18n","risevision.widget.common.tooltip"]).directive("scrollSetting",["$templateCache",function(e){return{restrict:"E",scope:{scroll:"="},template:e.get("_angular/scroll-setting/scroll-setting.html"),transclude:!1,link:function(e){e.defaultSetting={by:"none",direction:"up",speed:"medium",pause:5,pud:10},e.defaults=function(e){if(e)for(var t=1,n=arguments.length;n>t;t++){var a=arguments[t];for(var i in a)void 0===e[i]&&(e[i]=a[i])}return e},e.$watch("scroll",function(t){e.defaults(t,e.defaultSetting)})}}}])}(),function(e){try{e=angular.module("risevision.widget.common.scroll-setting")}catch(t){e=angular.module("risevision.widget.common.scroll-setting",[])}e.run(["$templateCache",function(e){"use strict";e.put("_angular/scroll-setting/scroll-setting.html",'<div class="row">\n  <div class="col-md-2">\n    <div class="form-group">\n      <label class="control-label">{{"scroll.heading" | translate}}</label>\n      <select id="scroll-by" ng-model="scroll.by" class="form-control">\n        <option value="none">{{\'scroll.by.none\' | translate}}</option>\n        <option value="continuous">{{\'scroll.by.continuous\' | translate}}</option>\n        <option value="page">{{\'scroll.by.page\' | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="scroll.by != \'none\'">\n    <div class="form-group">\n      <label class="control-label">{{"transition.direction.label" | translate}}</label>\n      <select id="scroll-direction" name="scroll-direction" ng-model="scroll.direction" class="form-control">\n        <option value="up">{{"transition.direction.up" | translate}}</option>\n        <option value="left">{{"transition.direction.left" | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="scroll.by != \'none\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.speed.label\' | translate}}</label>\n      <select id="scroll-speed" ng-model="scroll.speed" class="form-control">\n        <option value="slow">{{\'scroll.speed.slow\' | translate}}</option>\n        <option value="medium">{{\'scroll.speed.medium\' | translate}}</option>\n        <option value="fast">{{\'scroll.speed.fast\' | translate}}</option>\n      </select>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="scroll.by != \'none\' && scroll.direction == \'up\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.pause.label\' | translate}}</label>\n      <div class="input-group">\n        <input id="scroll-pause" type="number" ng-model="scroll.pause" class="form-control" />\n        <span class="input-group-addon">{{\'common.units.seconds\' | translate}}</span>\n      </div>\n    </div>\n  </div>\n  <div class="col-md-2" ng-show="scroll.by != \'none\' && scroll.direction == \'up\'">\n    <div class="form-group">\n      <label class="control-label">{{\'scroll.pud.label\' | translate}}</label>\n      <span popover="{{\'scroll.pud.tooltip\' | translate}}" popover-trigger="click"\n        popover-placement="right" rv-tooltip></span>\n      <div class="input-group">\n        <input id="scroll-pud" type="number" ng-model="scroll.pud" class="form-control" />\n        <span class="input-group-addon">{{\'common.units.seconds\' | translate}}</span>\n      </div>\n    </div>\n  </div>\n</div>\n')}])}(),"undefined"!=typeof angular&&angular.module("risevision.common.i18n.config",[]).constant("LOCALES_PREFIX","locales/translation_").constant("LOCALES_SUFIX",".json"),angular.module("risevision.widget.googleSpreadsheet.settings",["risevision.common.i18n","risevision.widget.common","risevision.widget.common.tooltip","risevision.widget.common.widget-button-toolbar","risevision.widget.common.column-selector","risevision.widget.common.font-setting","risevision.widget.common.scroll-setting","risevision.widget.common.google-drive-picker","risevision.widget.common.visualization","colorpicker.module"]),angular.module("risevision.widget.common",[]),angular.module("risevision.widget.common").controller("settingsController",["$scope","settingsSaver","settingsGetter","settingsCloser",function(e,t,n,a){e.settings={params:{},additionalParams:{}},e.alerts=[],e.getAdditionalParam=function(t,n){var a=e.settings.additionalParams[t];return angular.isUndefined(a)?n:a},e.setAdditionalParam=function(t,n){e.settings.additionalParams[t]=n},e.loadAdditionalParams=function(){n.getAdditionalParams().then(function(t){e.settings.additionalParams=t,e.$broadcast("loadAdditionalParams",t)},function(e){alert(e)})},e.setAdditionalParams=function(t,n){e.settings.additionalParams[t]=n},e.saveSettings=function(){e.alerts=[],e.$broadcast("collectAdditionalParams"),t.saveSettings(e.settings).then(function(){},function(t){e.alerts=t.alerts})},e.closeSettings=function(){a.closeSettings().then(function(){},function(t){e.alerts=t.alerts})},e.settings.params=n.getParams(),e.loadAdditionalParams()}]).directive("scrollOnAlerts",function(){return{restrict:"A",scope:!1,link:function(e,t){e.$watchCollection("alerts",function(e,n){e.length>0&&0===n.length&&$("body").animate({scrollTop:t.offset().top},"fast")})}}}),angular.module("risevision.widget.common").constant("STORAGE_FILE_URL_BASE","storage.googleapis.com/risemedialibrary-").constant("STORAGE_FOLDER_URL_BASE","googleapis.com/storage/").factory("commonSettings",["$log","STORAGE_FILE_URL_BASE","STORAGE_FOLDER_URL_BASE",function(e,t,n){var a={getStorageUrlData:function(e){function a(e){return-1!==e.indexOf(t)?"file":-1!==e.indexOf(n)?"folder":null}function i(e){var t=e.split("risemedialibrary-");return t[1].slice(0,t[1].indexOf("/"))}var o,r,s,l,c={};if("file"===a(e))o=e.split(t)[1],o=decodeURIComponent(o.slice(o.indexOf("/")+1)),r=o.split("/"),c.companyId=i(e),c.fileName=r.pop(),c.folder=r.length>0?r.join("/"):"",""!==c.folder&&(c.folder+="/");else if("folder"===a(e)){s=e.split("?");for(var u=0;u<s.length;u++)if(l=s[u].split("="),"prefix"===l[0]&&"undefined"!=typeof l[1]&&""!==l[1]){c.companyId=i(e),c.folder=decodeURIComponent(l[1]),c.fileName="";break}}return c}};return a}]),angular.module("risevision.widget.common").factory("gadgetsApi",["$window",function(e){return e.gadgets}]),angular.module("risevision.widget.common").factory("googleFontLoader",["$http","angularLoad",function(e,t){function n(){for(var e="",n="",a="",o=[],r=!1,s=",sans-serif;",l="//fonts.googleapis.com/css?family=",c=["Buda","Coda Caption","Open Sans Condensed","UnifrakturCook","Molle"],u=0;u<i.length;u++)e=i[u],-1===c.indexOf(e)&&(a=l+e,t.loadCSS(a),o.push(a),/\s/.test(e)&&(r=!0),n+=r?e+"='"+e+"'"+s:e+"="+e+s);return{fonts:n,urls:o}}var a={},i=[];return a.getGoogleFonts=function(){return 0===i.length?e.get("https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyBXxVK_IOV7LNQMuVVo_l7ZvN53ejN86zY&sort=alpha",{cache:!0}).then(function(e){var t=null;if(e.data&&e.data.items){for(var a=0,o=e.data.items.length;o>a;a++)t=e.data.items[a],t.subsets&&1===t.subsets.length&&"khmer"===t.subsets[0].toLowerCase()||i.push(t.family);return n()}}):n()},a.getFontsUsed=function(e){var t=[];return angular.forEach(i,function(n){-1!==e.indexOf(n)&&t.push(n)}),t},a}]),angular.module("risevision.widget.common").service("i18nLoader",["$window","$q",function(e,t){var n=t.defer();e.i18n.init({fallbackLng:"en",resGetPath:"locales/__ns_____lng__.json"},function(){n.resolve(e.i18n)}),this.get=function(){return n.promise}}]),angular.module("risevision.widget.common").factory("imageValidator",["$q",function(e){var t={isImage:function(t){var n=e.defer(),a=new Image;return a.onload=function(){n.resolve(!0)},a.onerror=function(){n.resolve(!1)},a.src=t,n.promise}};return t}]),angular.module("risevision.widget.common").service("settingsSaver",["$q","$log","gadgetsApi","settingsParser",function(e,t,n,a){function i(e){var t=angular.copy(e);return delete t.params.id,delete t.params.companyId,delete t.params.rsW,delete t.params.rsH,t}this.saveSettings=function(o,r){var s=e.defer(),l=[],c="";o=i(o),r&&(l=r(o)),l.length>0&&(t.debug("Validation failed.",l),s.reject({alerts:l})),o.params.hasOwnProperty("layoutURL")&&(c+=o.params.layoutURL+"?",delete o.params.layoutURL),c+=a.encodeParams(o.params);var u=a.encodeAdditionalParams(o.additionalParams);return n.rpc.call("","rscmd_saveSettings",function(e){t.debug("encoded settings",JSON.stringify(e)),t.debug("Settings saved. ",o),s.resolve(e)},{params:c,additionalParams:u}),s.promise}}]).service("settingsGetter",["$q","gadgetsApi","$log","settingsParser","$window","defaultSettings",function(e,t,n,a,i,o){this.getAdditionalParams=function(){var i=e.defer(),r=o.additionalParams||{};return t.rpc.call("","rscmd_getAdditionalParams",function(e){e=e?a.parseAdditionalParams(e):{},n.debug("getAdditionalParams returns ",e),i.resolve($.extend(!0,r,e))}),i.promise},this.getParams=function(){var e=o.params||{};return angular.extend(e,a.parseParams(i.location.search))}}]).service("settingsParser",[function(){function e(e){return 0===e.indexOf("up_")?e.slice(3):null}this.parseAdditionalParams=function(e){return e?JSON.parse(e):{}},this.encodeAdditionalParams=function(e){return JSON.stringify(e)},this.encodeParams=function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var a;a="object"==typeof e[n]?JSON.stringify(e[n]):e[n],t.push("up_"+encodeURIComponent(n)+"="+encodeURIComponent(a))}return t.join("&")},this.parseParams=function(t){"?"===t[0]&&(t=t.slice(1));for(var n={},a=t.split("&"),i=0;i<a.length;i++){var o=a[i].split("="),r=e(decodeURIComponent(o[0]));if(r)try{n[r]=JSON.parse(decodeURIComponent(o[1]))}catch(s){n[r]=decodeURIComponent(o[1])}}return n}}]).service("settingsCloser",["$q","$log","gadgetsApi",function(e,t,n){this.closeSettings=function(){var t=e.defer();return n.rpc.call("","rscmd_closeSettings",function(){t.resolve(!0)}),t.promise}}]).value("defaultSettings",{}),function(e){"use strict";e.module("risevision.widget.common.visualization",[]).factory("visualizationApi",["$q","$window",function(e,t){var n,a=e.defer(),i={get:function(){return n||(n=a.promise,t.google.visualization?a.resolve(t.google.visualization):t.google.setOnLoadCallback(function(){a.resolve(t.google.visualization)})),n}};return i}])}(angular),angular.module("risevision.widget.googleSpreadsheet.settings").controller("spreadsheetSettingsController",["$scope","$window","$log","googleSheet","columns",function(e,t,n,a,i){function o(t){a.getWorkSheets(t).then(function(t){n.debug("Worksheets",t),e.published=!0,e.sheets=t,e.currentSheet=t[e.settings.additionalParams.spreadsheet.tabId-1]}).then(null,function(){e.published=!1,e.sheets=[],e.currentSheet=null,e.settings.additionalParams.spreadsheet.tabId=1})}e.showPreview=!1,e.sheets=[],e.currentSheet=null,e.columns=[],e.getColumns=function(t){i.getColumns(t).then(function(t){t.length>0&&(e.columns=t)}).then(null,n.error)},e.$watch("currentSheet",function(t){t&&(e.settings.additionalParams.spreadsheet.tabId=t.value)}),e.published=!0,e.$watch("settings.additionalParams.spreadsheet.fileId",function(t){"undefined"!=typeof t&&t?(e.showPreview=!0,e.settingsForm.$setValidity("fileId",!0),"key"===e.settings.additionalParams.spreadsheet.selection&&(e.settings.additionalParams.spreadsheet.url="https://docs.google.com/spreadsheets/d/"+t+"/edit#gid=0"),o(t)):e.settingsForm.$setValidity("fileId",!1)}),e.$watch("settings.additionalParams.spreadsheet.url",function(t,n){"undefined"!=typeof t&&t!==n&&(e.columns=[],"undefined"!=typeof n&&""!==n&&(e.settings.additionalParams.format.columns=[]),""!==t&&e.getColumns(t))}),e.$watch("published",function(t){"undefined"!=typeof t&&e.settings.additionalParams.spreadsheet&&e.settings.additionalParams.spreadsheet.fileId&&""!==e.settings.additionalParams.spreadsheet.fileId&&e.settingsForm.$setValidity("fileId",t)}),e.$on("picked",function(t,n){e.showPreview=!0,e.settings.additionalParams.spreadsheet.selection="drive",e.settings.additionalParams.spreadsheet.docName=n[0].name,e.settings.additionalParams.spreadsheet.url=encodeURI(n[0].url),e.settings.additionalParams.spreadsheet.fileId=n[0].id}),e.setSelection=function(){e.showPreview=!0,e.settings.additionalParams.spreadsheet.selection="key"},e.previewFile=function(){t.open(e.settings.additionalParams.spreadsheet.url,"_blank")},e.retryFile=function(){e.settings.additionalParams.spreadsheet.fileId&&""!==e.settings.additionalParams.spreadsheet.fileId&&(e.published=!0,o(e.settings.additionalParams.spreadsheet.fileId))},e.clearSelection=function(){e.published=!0,"drive"===e.settings.additionalParams.spreadsheet.selection&&(e.settings.additionalParams.spreadsheet.docName=""),e.settings.additionalParams.spreadsheet.url="",e.settings.additionalParams.spreadsheet.fileId=""}}]).value("defaultSettings",{params:{},additionalParams:{format:{body:{fontStyle:{font:{family:"tahoma,arial,helvetica,sans-serif",type:"standard",url:""},size:"18px",customSize:"",align:"left",verticalAlign:"middle",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"}},columns:[],evenRowColor:"rgba(255, 255, 255, 0)",header:{fontStyle:{font:{family:"tahoma,arial,helvetica,sans-serif",type:"standard",url:""},size:"18px",customSize:"",align:"left",verticalAlign:"middle",bold:!1,italic:!1,underline:!1,forecolor:"black",backcolor:"transparent"}},oddRowColor:"rgba(255, 255, 255, 0)",rowHeight:50,separator:{color:"rgba(238,238,238, 1)",showColumn:!0,showRow:!0,size:1}},scroll:{},spreadsheet:{selection:"drive",docName:"",url:"",fileId:"",cells:"sheet",range:{startCell:"",endCell:""},tabId:1,hasHeader:!1,refresh:5}}}),angular.module("risevision.widget.googleSpreadsheet.settings").constant("SPREADSHEET_API_WORKSHEETS","https://spreadsheets.google.com/feeds/worksheets/").constant("SPREADSHEET_API_SUFFIX","/public/basic").factory("googleSheet",["$http","$log","SPREADSHEET_API_WORKSHEETS","SPREADSHEET_API_SUFFIX",function(e,t,n,a){var i={},o=function(e){var t,n;return n=e.feed.entry.map(function(e,n){return t={},t.label=e.title.$t,t.value=n+1,t})};return i.getWorkSheets=function(t){var i=n+t+a;return e.get(encodeURI(i+"?alt=json")).then(function(e){return e.data}).then(function(e){return o(e)})},i}]),function(){"use strict";angular.module("risevision.widget.googleSpreadsheet.settings").factory("columns",["visualizationApi","$q",function(e,t){function n(e){var t,n,a,i,o,r=e.getDataTable(),s=[],l=[];for(i=0;i<r.getNumberOfColumns();i++)for(o=0;o<r.getNumberOfRows();o++)if(t=r.getValue(o,i),t&&""!==t){l.push(i);
break}for(i=0;i<l.length;i++)n=r.getColumnLabel(l[i]),""===n&&(n=r.getColumnId(l[i])),a=r.getColumnId(l[i])+"_"+r.getColumnType(l[i])+"_"+n,s.push({id:a,name:n,type:r.getColumnType(l[i])});return s}var a={};return a.getColumns=function(a){var i=t.defer();return e.get().then(function(e){var t=new e.Query(a);t.setQuery("select * limit 1"),t.setTimeout(30),t.send(function(e){e?e.isError()?i.reject(e.getMessage()):i.resolve(n(e)):i.reject("No response")})}),i.promise},a}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImpzL3NldHRpbmdzLm1pbi5qcyJdLCJuYW1lcyI6WyJoYW5kbGVDbGllbnRKU0xvYWQiLCJpc0NsaWVudEpTIiwiZXZ0IiwiZG9jdW1lbnQiLCJjcmVhdGVFdmVudCIsImluaXRFdmVudCIsIndpbmRvdyIsImRpc3BhdGNoRXZlbnQiLCJhbmd1bGFyIiwibW9kdWxlIiwicnVuIiwiJHRyYW5zbGF0ZSIsImtleSIsInN0b3JhZ2VLZXkiLCJzdG9yYWdlIiwiZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlIiwicHJlZmVycmVkIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJpc1N0cmluZyIsInVzZSIsInB1dCIsImdldCIsInByb3ZpZGVyIiwiJFNUT1JBR0VfS0VZIiwiJHByZWZlcnJlZExhbmd1YWdlIiwiJGxhbmd1YWdlS2V5QWxpYXNlcyIsIiRmYWxsYmFja0xhbmd1YWdlIiwiJGZhbGxiYWNrV2FzU3RyaW5nIiwiJHVzZXMiLCIkbmV4dExhbmciLCIkc3RvcmFnZUZhY3RvcnkiLCIkc3RvcmFnZVByZWZpeCIsIiRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSIsIiRpbnRlcnBvbGF0aW9uRmFjdG9yeSIsIiRsb2FkZXJGYWN0b3J5IiwiJGxvYWRlck9wdGlvbnMiLCIkbm90Rm91bmRJbmRpY2F0b3JMZWZ0IiwiJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJsb2FkZXJDYWNoZSIsIiR0cmFuc2xhdGlvblRhYmxlIiwiJGF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsIiRzdG9yYWdlS2V5IiwiJGludGVycG9sYXRvckZhY3RvcmllcyIsIiRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kiLCIkY2xvYWtDbGFzc05hbWUiLCIkcG9zdENvbXBpbGluZ0VuYWJsZWQiLCJORVNURURfT0JKRUNUX0RFTElNSVRFUiIsInZlcnNpb24iLCJnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSIsImkiLCJsYW5ndWFnZSIsIm5hdiIsIm5hdmlnYXRvciIsImJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyIsImlzQXJyYXkiLCJsYW5ndWFnZXMiLCJsZW5ndGgiLCJkaXNwbGF5TmFtZSIsImdldExvY2FsZSIsInNwbGl0Iiwiam9pbiIsImluZGV4T2YiLCJhcnJheSIsInNlYXJjaEVsZW1lbnQiLCJsZW4iLCJ0cmltIiwidGhpcyIsInJlcGxhY2UiLCJuZWdvdGlhdGVMb2NhbGUiLCJhdmFpbCIsImxvY2FsZSIsImxvd2VyY2FzZSIsIm4iLCJwdXNoIiwiYWxpYXMiLCJsYW5nS2V5QWxpYXMiLCJoYXNXaWxkY2FyZEtleSIsImhhc0V4YWN0S2V5IiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwic2xpY2UiLCJwYXJ0cyIsInRyYW5zbGF0aW9ucyIsImxhbmdLZXkiLCJ0cmFuc2xhdGlvblRhYmxlIiwiaXNPYmplY3QiLCJleHRlbmQiLCJmbGF0T2JqZWN0IiwiY2xvYWtDbGFzc05hbWUiLCJuYW1lIiwiZGF0YSIsInBhdGgiLCJyZXN1bHQiLCJwcmV2S2V5Iiwia2V5V2l0aFBhdGgiLCJrZXlXaXRoU2hvcnRQYXRoIiwidmFsIiwiY29uY2F0IiwiYWRkSW50ZXJwb2xhdGlvbiIsImZhY3RvcnkiLCJ1c2VNZXNzYWdlRm9ybWF0SW50ZXJwb2xhdGlvbiIsInVzZUludGVycG9sYXRpb24iLCJ1c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kiLCJ2YWx1ZSIsInNldHVwUHJlZmVycmVkTGFuZ3VhZ2UiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yIiwiaW5kaWNhdG9yIiwidHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQiLCJ0cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQiLCJmYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tTdGFjayIsIkVycm9yIiwidXNlVXJsTG9hZGVyIiwidXJsIiwib3B0aW9ucyIsInVzZUxvYWRlciIsInVzZVN0YXRpY0ZpbGVzTG9hZGVyIiwibG9hZGVyRmFjdG9yeSIsInVzZUxvY2FsU3RvcmFnZSIsInVzZVN0b3JhZ2UiLCJ1c2VDb29raWVTdG9yYWdlIiwic3RvcmFnZUZhY3RvcnkiLCJzdG9yYWdlUHJlZml4IiwicHJlZml4IiwidXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyIsInVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIiLCJ1c2VQb3N0Q29tcGlsaW5nIiwiZGV0ZXJtaW5lUHJlZmVycmVkTGFuZ3VhZ2UiLCJmbiIsImlzRnVuY3Rpb24iLCJyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5cyIsImxhbmd1YWdlS2V5cyIsImFsaWFzZXMiLCJ1c2VMb2FkZXJDYWNoZSIsImNhY2hlIiwidW5kZWZpbmVkIiwiJGdldCIsIiRsb2ciLCIkaW5qZWN0b3IiLCIkcm9vdFNjb3BlIiwiJHEiLCJTdG9yYWdlIiwiZmFsbGJhY2tJbmRleCIsInN0YXJ0RmFsbGJhY2tJdGVyYXRpb24iLCJkZWZhdWx0SW50ZXJwb2xhdG9yIiwicGVuZGluZ0xvYWRlciIsImludGVycG9sYXRvckhhc2hNYXAiLCJsYW5nUHJvbWlzZXMiLCJ0cmFuc2xhdGlvbklkIiwiaW50ZXJwb2xhdGVQYXJhbXMiLCJpbnRlcnBvbGF0aW9uSWQiLCJ0cmFuc2xhdGVBbGwiLCJ0cmFuc2xhdGlvbklkcyIsInJlc3VsdHMiLCJwcm9taXNlcyIsInRyYW5zbGF0ZSIsImRlZmVycmVkIiwiZGVmZXIiLCJyZWdhcmRsZXNzIiwicmVzb2x2ZSIsInRoZW4iLCJwcm9taXNlIiwiYyIsImFsbCIsImFwcGx5IiwicHJvbWlzZVRvV2FpdEZvciIsImluZGV4IiwiZGV0ZXJtaW5lVHJhbnNsYXRpb24iLCJyZWplY3QiLCJhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyIsInVzZUxhbmd1YWdlIiwiJGVtaXQiLCJzZXRMb2NhbGUiLCJmb3JFYWNoIiwiaW50ZXJwb2xhdG9yIiwiaWQiLCJsb2FkQXN5bmMiLCJsb2FkZXJPcHRpb25zIiwiJGh0dHAiLCJ0YWJsZSIsImludGVycG9sYXRvckZhY3RvcnkiLCJnZXRJbnRlcnBvbGF0aW9uSWRlbnRpZmllciIsImdldFRyYW5zbGF0aW9uVGFibGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uIiwiSW50ZXJwb2xhdG9yIiwiaW50ZXJwb2xhdGUiLCJnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCIsInRyYW5zbGF0ZUJ5SGFuZGxlciIsInJlc3VsdFN0cmluZyIsInJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlIiwiZmFsbGJhY2tMYW5ndWFnZUluZGV4IiwicmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50IiwiZmFsbGJhY2tUcmFuc2xhdGlvbiIsImZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50IiwidHJhbnNsYXRpb24iLCJzdWJzdHIiLCJtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24iLCJfdHJhbnNsYXRpb25JZCIsImRldGVybWluZVRyYW5zbGF0aW9uSW5zdGFudCIsInVzZUZhbGxiYWNrTGFuZ3VhZ2UiLCJsYW5nS2V5UG9zaXRpb24iLCJwcm9wb3NlZExhbmd1YWdlIiwiYWxpYXNlZEtleSIsImlzUG9zdENvbXBpbGluZ0VuYWJsZWQiLCJyZWZyZXNoIiwidGFibGVzIiwibG9hZGluZ0tleXMiLCJ0YWJsZURhdGEiLCJpbnN0YW50IiwiaXNVbmRlZmluZWQiLCJwb3NzaWJsZUxhbmdLZXlzIiwiaiIsImQiLCJwb3NzaWJsZUxhbmdLZXkiLCJ2ZXJzaW9uSW5mbyIsImVxdWFscyIsInByb2Nlc3NBc3luY1Jlc3VsdCIsIiRpbnRlcnBvbGF0ZSIsIiRsb2NhbGUiLCIkdHJhbnNsYXRlSW50ZXJwb2xhdG9yIiwiJGlkZW50aWZpZXIiLCIkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5Iiwic2FuaXRpemVWYWx1ZVN0cmF0ZWdpZXMiLCJlc2NhcGVkIiwicGFyYW1zIiwiZWxlbWVudCIsInRleHQiLCJodG1sIiwic2FuaXRpemVQYXJhbXMiLCJzdHJpbmciLCJjb25zdGFudCIsImRpcmVjdGl2ZSIsIiRjb21waWxlIiwiJHBhcnNlIiwicmVzdHJpY3QiLCJzY29wZSIsImNvbXBpbGUiLCJ0RWxlbWVudCIsInRBdHRyIiwidHJhbnNsYXRlVmFsdWVzRXhpc3QiLCJ0cmFuc2xhdGVWYWx1ZXMiLCJ0cmFuc2xhdGVJbnRlcnBvbGF0aW9uIiwidHJhbnNsYXRlVmFsdWVFeGlzdCIsIm91dGVySFRNTCIsIm1hdGNoIiwiaW50ZXJwb2xhdGVSZWdFeHAiLCJzdGFydFN5bWJvbCIsImVuZFN5bWJvbCIsIndhdGNoZXJSZWdFeHAiLCJpRWxlbWVudCIsImlBdHRyIiwicHJlVGV4dCIsInBvc3RUZXh0Iiwib2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbiIsImlzRGVmaW5lZCIsImludGVycG9sYXRlTWF0Y2hlcyIsIiRwYXJlbnQiLCJ3YXRjaGVyTWF0Y2hlcyIsIiR3YXRjaCIsIm5ld1ZhbHVlIiwidXBkYXRlVHJhbnNsYXRpb25zIiwib2JzZXJ2ZUF0dHJpYnV0ZVRyYW5zbGF0aW9uIiwidHJhbnNsYXRlQXR0ciIsIiRvYnNlcnZlIiwiZGVmYXVsdFRleHQiLCJvYnNlcnZlVmFsdWVBdHRyaWJ1dGUiLCJhdHRyTmFtZSIsImF0dHJpYnV0ZU5hbWUiLCJhdHRyIiwidXBkYXRlVHJhbnNsYXRpb24iLCJhcHBseVRyYW5zbGF0aW9uIiwic3VjY2Vzc2Z1bCIsImdsb2JhbGx5RW5hYmxlZCIsImxvY2FsbHlEZWZpbmVkIiwidHJhbnNsYXRlQ29tcGlsZSIsImxvY2FsbHlFbmFibGVkIiwiY29udGVudHMiLCIkYXR0ciIsInVuYmluZCIsIiRvbiIsImFwcGx5Q2xvYWsiLCJhZGRDbGFzcyIsInJlbW92ZUNsb2FrIiwicmVtb3ZlQ2xhc3MiLCJyZW1vdmVMaXN0ZW5lciIsInRyYW5zbGF0ZUNsb2FrIiwiZmlsdGVyIiwidHJhbnNsYXRlRmlsdGVyIiwiaW50ZXJwb2xhdGlvbiIsIiRzdGF0ZWZ1bCIsInNlcnZpY2UiLCIkZG9jdW1lbnQiLCIkdGltZW91dCIsImxvYWRlciIsImNyZWF0ZUVsZW1lbnQiLCJvbmxvYWQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJlIiwicmVhZHlTdGF0ZSIsIm9uZXJyb3IiLCJsb2FkU2NyaXB0Iiwic3JjIiwic2NyaXB0IiwiYm9keSIsImFwcGVuZENoaWxkIiwibG9hZENTUyIsImhyZWYiLCJzdHlsZSIsInJlbCIsInR5cGUiLCJoZWFkIiwic3VmZml4IiwibWV0aG9kIiwic3VjY2VzcyIsImVycm9yIiwibG9hZFRyYW5zbGF0aW9uRmlsZSIsInRvTG93ZXJDYXNlIiwibGFzdEluZGV4T2YiLCJvcHRzIiwiY29uZmlnIiwiJHRyYW5zbGF0ZVByb3ZpZGVyIiwiTE9DQUxFU19QUkVGSVgiLCJMT0NBTEVTX1NVRklYIiwiJCIsIlBsdWdpbiIsIm9wdGlvbiIsImVhY2giLCIkdGhpcyIsIkFmZml4IiwiREVGQVVMVFMiLCIkdGFyZ2V0IiwidGFyZ2V0Iiwib24iLCJwcm94eSIsImNoZWNrUG9zaXRpb24iLCJjaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCIsIiRlbGVtZW50IiwiYWZmaXhlZCIsInVucGluIiwicGlubmVkT2Zmc2V0IiwiVkVSU0lPTiIsIlJFU0VUIiwib2Zmc2V0IiwiZ2V0UGlubmVkT2Zmc2V0Iiwic2Nyb2xsVG9wIiwicG9zaXRpb24iLCJ0b3AiLCJzZXRUaW1lb3V0IiwiaXMiLCJzY3JvbGxIZWlnaHQiLCJoZWlnaHQiLCJvZmZzZXRUb3AiLCJvZmZzZXRCb3R0b20iLCJib3R0b20iLCJhZmZpeCIsImNzcyIsImFmZml4VHlwZSIsIkV2ZW50IiwidHJpZ2dlciIsImlzRGVmYXVsdFByZXZlbnRlZCIsIm9sZCIsIkNvbnN0cnVjdG9yIiwibm9Db25mbGljdCIsIiRzcHkiLCJqUXVlcnkiLCJBbGVydCIsImRpc21pc3MiLCJlbCIsImNsb3NlIiwicmVtb3ZlRWxlbWVudCIsImRldGFjaCIsInJlbW92ZSIsInNlbGVjdG9yIiwicHJldmVudERlZmF1bHQiLCJoYXNDbGFzcyIsInBhcmVudCIsInN1cHBvcnQiLCJ0cmFuc2l0aW9uIiwib25lIiwiZW11bGF0ZVRyYW5zaXRpb25FbmQiLCJhbGVydCIsIkJ1dHRvbiIsInRvZ2dsZSIsInNldFN0YXRlIiwiaXNMb2FkaW5nIiwibG9hZGluZ1RleHQiLCJzdGF0ZSIsIiRlbCIsInJlc2V0VGV4dCIsInJlbW92ZUF0dHIiLCJjaGFuZ2VkIiwiY2xvc2VzdCIsIiRpbnB1dCIsImZpbmQiLCJwcm9wIiwidG9nZ2xlQ2xhc3MiLCJidXR0b24iLCIkYnRuIiwiQ2Fyb3VzZWwiLCJhY3Rpb24iLCJzbGlkZSIsInRvIiwiaW50ZXJ2YWwiLCJwYXVzZSIsImN5Y2xlIiwia2V5ZG93biIsIiRpbmRpY2F0b3JzIiwicGF1c2VkIiwic2xpZGluZyIsIiRhY3RpdmUiLCIkaXRlbXMiLCJ3cmFwIiwid2hpY2giLCJwcmV2IiwibmV4dCIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsImdldEl0ZW1JbmRleCIsIml0ZW0iLCJjaGlsZHJlbiIsInBvcyIsInRoYXQiLCJhY3RpdmVJbmRleCIsImVuZCIsIiRuZXh0IiwiaXNDeWNsaW5nIiwiZGlyZWN0aW9uIiwiZmFsbGJhY2siLCJyZWxhdGVkVGFyZ2V0Iiwic2xpZGVFdmVudCIsIiRuZXh0SW5kaWNhdG9yIiwic2xpZEV2ZW50Iiwib2Zmc2V0V2lkdGgiLCJjYXJvdXNlbCIsInNsaWRlSW5kZXgiLCIkY2Fyb3VzZWwiLCJDb2xsYXBzZSIsInRyYW5zaXRpb25pbmciLCJkaW1lbnNpb24iLCJoYXNXaWR0aCIsInNob3ciLCJzdGFydEV2ZW50IiwiYWN0aXZlcyIsImhhc0RhdGEiLCJjb21wbGV0ZSIsInNjcm9sbFNpemUiLCJjYW1lbENhc2UiLCJoaWRlIiwib2Zmc2V0SGVpZ2h0IiwiY29sbGFwc2UiLCJub3QiLCJjbGVhck1lbnVzIiwiYmFja2Ryb3AiLCJnZXRQYXJlbnQiLCJ0ZXN0IiwiRHJvcGRvd24iLCJpc0FjdGl2ZSIsImRvY3VtZW50RWxlbWVudCIsImluc2VydEFmdGVyIiwia2V5Q29kZSIsInN0b3BQcm9wYWdhdGlvbiIsImRlc2MiLCJlcSIsImRyb3Bkb3duIiwiVGFiIiwiJHVsIiwicHJldmlvdXMiLCJhY3RpdmF0ZSIsImNvbnRhaW5lciIsImNhbGxiYWNrIiwidGFiIiwidHJhbnNpdGlvbkVuZCIsInRyYW5zRW5kRXZlbnROYW1lcyIsIldlYmtpdFRyYW5zaXRpb24iLCJNb3pUcmFuc2l0aW9uIiwiT1RyYW5zaXRpb24iLCJkdXJhdGlvbiIsImNhbGxlZCIsImV2ZW50Iiwic3BlY2lhbCIsImJzVHJhbnNpdGlvbkVuZCIsImJpbmRUeXBlIiwiZGVsZWdhdGVUeXBlIiwiaGFuZGxlIiwiaGFuZGxlT2JqIiwiaGFuZGxlciIsImFyZ3VtZW50cyIsIlNjcm9sbFNweSIsInByb2Nlc3MiLCIkYm9keSIsIiRzY3JvbGxFbGVtZW50Iiwib2Zmc2V0cyIsInRhcmdldHMiLCJhY3RpdmVUYXJnZXQiLCJnZXRTY3JvbGxIZWlnaHQiLCJNYXRoIiwibWF4Iiwib2Zmc2V0TWV0aG9kIiwib2Zmc2V0QmFzZSIsImlzV2luZG93Iiwic2VsZiIsIm1hcCIsIiRocmVmIiwic29ydCIsImEiLCJiIiwibWF4U2Nyb2xsIiwicGFyZW50c1VudGlsIiwiYWN0aXZlIiwicGFyZW50cyIsInNjcm9sbHNweSIsIl9yZWxhdGVkVGFyZ2V0IiwiTW9kYWwiLCIkYmFja2Ryb3AiLCJpc1Nob3duIiwic2Nyb2xsYmFyV2lkdGgiLCJyZW1vdGUiLCJsb2FkIiwia2V5Ym9hcmQiLCJjaGVja1Njcm9sbGJhciIsInNldFNjcm9sbGJhciIsImVzY2FwZSIsImFwcGVuZFRvIiwiZW5mb3JjZUZvY3VzIiwicmVzZXRTY3JvbGxiYXIiLCJvZmYiLCJoaWRlTW9kYWwiLCJoYXMiLCJyZW1vdmVCYWNrZHJvcCIsImFuaW1hdGUiLCJkb0FuaW1hdGUiLCJjdXJyZW50VGFyZ2V0IiwiZm9jdXMiLCJjYWxsYmFja1JlbW92ZSIsImNsaWVudFdpZHRoIiwiaW5uZXJXaWR0aCIsIm1lYXN1cmVTY3JvbGxiYXIiLCJib2R5UGFkIiwicGFyc2VJbnQiLCJzY3JvbGxEaXYiLCJjbGFzc05hbWUiLCJhcHBlbmQiLCJyZW1vdmVDaGlsZCIsIm1vZGFsIiwic2hvd0V2ZW50IiwiVG9vbHRpcCIsImVuYWJsZWQiLCJ0aW1lb3V0IiwiaG92ZXJTdGF0ZSIsImluaXQiLCJhbmltYXRpb24iLCJwbGFjZW1lbnQiLCJ0ZW1wbGF0ZSIsInRpdGxlIiwiZGVsYXkiLCJ2aWV3cG9ydCIsInBhZGRpbmciLCJnZXRPcHRpb25zIiwiJHZpZXdwb3J0IiwidHJpZ2dlcnMiLCJldmVudEluIiwiZXZlbnRPdXQiLCJlbnRlciIsImxlYXZlIiwiX29wdGlvbnMiLCJmaXhUaXRsZSIsImdldERlZmF1bHRzIiwiZ2V0RGVsZWdhdGVPcHRpb25zIiwiZGVmYXVsdHMiLCJvYmoiLCJjb25zdHJ1Y3RvciIsImNsZWFyVGltZW91dCIsImhhc0NvbnRlbnQiLCJpbkRvbSIsImNvbnRhaW5zIiwiJHRpcCIsInRpcCIsInRpcElkIiwiZ2V0VUlEIiwic2V0Q29udGVudCIsImF1dG9Ub2tlbiIsImF1dG9QbGFjZSIsImxlZnQiLCJkaXNwbGF5IiwiZ2V0UG9zaXRpb24iLCJhY3R1YWxXaWR0aCIsImFjdHVhbEhlaWdodCIsIm9yZ1BsYWNlbWVudCIsInBhcmVudERpbSIsInNjcm9sbCIsInJpZ2h0Iiwid2lkdGgiLCJjYWxjdWxhdGVkT2Zmc2V0IiwiZ2V0Q2FsY3VsYXRlZE9mZnNldCIsImFwcGx5UGxhY2VtZW50IiwibWFyZ2luVG9wIiwibWFyZ2luTGVmdCIsImlzTmFOIiwic2V0T2Zmc2V0IiwidXNpbmciLCJwcm9wcyIsInJvdW5kIiwiZGVsdGEiLCJnZXRWaWV3cG9ydEFkanVzdGVkRGVsdGEiLCJhcnJvd0RlbHRhIiwiYXJyb3dQb3NpdGlvbiIsImFycm93T2Zmc2V0UG9zaXRpb24iLCJyZXBsYWNlQXJyb3ciLCJhcnJvdyIsImdldFRpdGxlIiwiJGUiLCJpc0JvZHkiLCJ0YWdOYW1lIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0Iiwib3V0ZXJXaWR0aCIsIm91dGVySGVpZ2h0Iiwidmlld3BvcnRQYWRkaW5nIiwidmlld3BvcnREaW1lbnNpb25zIiwidG9wRWRnZU9mZnNldCIsImJvdHRvbUVkZ2VPZmZzZXQiLCJsZWZ0RWRnZU9mZnNldCIsInJpZ2h0RWRnZU9mZnNldCIsIm8iLCJyYW5kb20iLCJnZXRFbGVtZW50QnlJZCIsIiRhcnJvdyIsInZhbGlkYXRlIiwicGFyZW50Tm9kZSIsImVuYWJsZSIsImRpc2FibGUiLCJ0b2dnbGVFbmFibGVkIiwiZGVzdHJveSIsInJlbW92ZURhdGEiLCJ0b29sdGlwIiwiUG9wb3ZlciIsImNvbnRlbnQiLCJnZXRDb250ZW50IiwiZW1wdHkiLCJwb3BvdmVyIiwiJGFuaW1hdGUiLCJsaW5rIiwiYXR0cnMiLCJleHBhbmQiLCJleHBhbmREb25lIiwiY29sbGFwc2VEb25lIiwic2hvdWxkQ29sbGFwc2UiLCJjbG9zZU90aGVycyIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkYXR0cnMiLCJhY2NvcmRpb25Db25maWciLCJncm91cHMiLCJvcGVuR3JvdXAiLCIkZXZhbCIsImdyb3VwIiwiaXNPcGVuIiwiYWRkR3JvdXAiLCJncm91cFNjb3BlIiwicmVtb3ZlR3JvdXAiLCJzcGxpY2UiLCJjb250cm9sbGVyQXMiLCJ0cmFuc2NsdWRlIiwidGVtcGxhdGVVcmwiLCJyZXF1aXJlIiwiaGVhZGluZyIsImlzRGlzYWJsZWQiLCJzZXRIZWFkaW5nIiwiYWNjb3JkaW9uQ3RybCIsIm9wZW5DbGFzcyIsInBhbmVsQ2xhc3MiLCJ0b2dnbGVPcGVuIiwiJGV2ZW50IiwiYWNjb3JkaW9uR3JvdXBDdHJsIiwibm9vcCIsImFjY29yZGlvblRyYW5zY2x1ZGUiLCJjbG9zZWFibGUiLCJhbGVydEN0cmwiLCJkaXNtaXNzT25UaW1lb3V0IiwiJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkIiwid2FybiIsImJpbmRIdG1sVW5zYWZlIiwiYWN0aXZlQ2xhc3MiLCJ0b2dnbGVFdmVudCIsImJ1dHRvbkNvbmZpZyIsImN0cmxzIiwiYnV0dG9uc0N0cmwiLCJuZ01vZGVsQ3RybCIsIiRyZW5kZXIiLCIkbW9kZWxWYWx1ZSIsImJ0blJhZGlvIiwiYmluZCIsImRpc2FibGVkIiwidW5jaGVja2FibGUiLCIkYXBwbHkiLCIkc2V0Vmlld1ZhbHVlIiwiZ2V0VHJ1ZVZhbHVlIiwiZ2V0Q2hlY2tib3hWYWx1ZSIsImJ0bkNoZWNrYm94VHJ1ZSIsImdldEZhbHNlVmFsdWUiLCJidG5DaGVja2JveEZhbHNlIiwiYXR0cmlidXRlVmFsdWUiLCJkZWZhdWx0VmFsdWUiLCJhY3RpdmVFbGVtZW50IiwiJGludGVydmFsIiwiZ29OZXh0IiwiZGVzdHJveWVkIiwiY3VycmVudFNsaWRlIiwibm9UcmFuc2l0aW9uIiwiJGN1cnJlbnRUcmFuc2l0aW9uIiwic2xpZGVzIiwiU0xJREVfRElSRUNUSU9OIiwiTkVXX0FOSU1BVEUiLCJwaGFzZSIsImN1cnJlbnRJbmRleCIsInJlc3RhcnRUaW1lciIsImdldFNsaWRlQnlJbmRleCIsInJlc2V0VGltZXIiLCJjdXJyZW50SW50ZXJ2YWwiLCJ0aW1lckZuIiwiY2FuY2VsIiwiaXNQbGF5aW5nIiwibWlub3IiLCJOT19UUkFOU0lUSU9OIiwic2VsZWN0IiwibmV4dFNsaWRlIiwibmV4dEluZGV4IiwiaW5kZXhPZlNsaWRlIiwiZ2V0Q3VycmVudEluZGV4IiwibmV3SW5kZXgiLCJub1dyYXAiLCJwbGF5Iiwibm9QYXVzZSIsImFkZFNsaWRlIiwicmVtb3ZlU2xpZGUiLCJhY3R1YWwiLCJjYXJvdXNlbEN0cmwiLCIkYW5pbWF0ZUNzcyIsImJlZm9yZUFkZENsYXNzIiwiZG9uZSIsInN0b3BwZWQiLCJkaXJlY3Rpb25DbGFzcyIsInJlbW92ZUNsYXNzRm4iLCJzdGFydCIsImJlZm9yZVJlbW92ZUNsYXNzIiwib3JkZXJCeUZpbHRlciIsImNyZWF0ZVBhcnNlciIsImZvcm1hdCIsInJlZ2V4IiwiZm9ybWF0Q29kZVRvUmVnZXgiLCJjb2RlIiwiUmVnRXhwIiwiaXNWYWxpZCIsInllYXIiLCJtb250aCIsImRhdGUiLCJTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQIiwicGFyc2VycyIsInl5eXkiLCJ5eSIsInkiLCJNTU1NIiwiREFURVRJTUVfRk9STUFUUyIsIk1PTlRIIiwiTU1NIiwiU0hPUlRNT05USCIsIk1NIiwiTSIsImRkIiwiRUVFRSIsIkRBWSIsIkVFRSIsIlNIT1JUREFZIiwiSEgiLCJob3VycyIsImhoIiwiSCIsImgiLCJtbSIsIm1pbnV0ZXMiLCJtIiwic3NzIiwibWlsbGlzZWNvbmRzIiwic3MiLCJzZWNvbmRzIiwicyIsIkFNUE1TIiwicGFyc2UiLCJpbnB1dCIsImJhc2VEYXRlIiwicGFyc2VyIiwiZmllbGRzIiwiZHQiLCJpc0RhdGUiLCJnZXRUaW1lIiwiZ2V0RnVsbFllYXIiLCJnZXRNb250aCIsImdldERhdGUiLCJnZXRIb3VycyIsImdldE1pbnV0ZXMiLCJnZXRTZWNvbmRzIiwiZ2V0TWlsbGlzZWNvbmRzIiwibWFwcGVyIiwiRGF0ZSIsIiR3aW5kb3ciLCJnZXRTdHlsZSIsImNzc3Byb3AiLCJjdXJyZW50U3R5bGUiLCJnZXRDb21wdXRlZFN0eWxlIiwiaXNTdGF0aWNQb3NpdGlvbmVkIiwicGFyZW50T2Zmc2V0RWwiLCJkb2NEb21FbCIsIm9mZnNldFBhcmVudCIsImVsQkNSIiwib2Zmc2V0UGFyZW50QkNSIiwib2Zmc2V0UGFyZW50RWwiLCJjbGllbnRUb3AiLCJjbGllbnRMZWZ0Iiwic2Nyb2xsTGVmdCIsImJvdW5kaW5nQ2xpZW50UmVjdCIsInBhZ2VZT2Zmc2V0IiwicGFnZVhPZmZzZXQiLCJwb3NpdGlvbkVsZW1lbnRzIiwiaG9zdEVsIiwidGFyZ2V0RWwiLCJwb3NpdGlvblN0ciIsImFwcGVuZFRvQm9keSIsImhvc3RFbFBvcyIsInRhcmdldEVsV2lkdGgiLCJ0YXJnZXRFbEhlaWdodCIsInRhcmdldEVsUG9zIiwicG9zaXRpb25TdHJQYXJ0cyIsInBvczAiLCJwb3MxIiwic2hpZnRXaWR0aCIsImNlbnRlciIsInNoaWZ0SGVpZ2h0IiwiZm9ybWF0RGF5IiwiZm9ybWF0TW9udGgiLCJmb3JtYXRZZWFyIiwiZm9ybWF0RGF5SGVhZGVyIiwiZm9ybWF0RGF5VGl0bGUiLCJmb3JtYXRNb250aFRpdGxlIiwiZGF0ZXBpY2tlck1vZGUiLCJtaW5Nb2RlIiwibWF4TW9kZSIsInNob3dXZWVrcyIsInN0YXJ0aW5nRGF5IiwieWVhclJhbmdlIiwibWluRGF0ZSIsIm1heERhdGUiLCJzaG9ydGN1dFByb3BhZ2F0aW9uIiwiZGF0ZUZpbHRlciIsImRhdGVwaWNrZXJDb25maWciLCIkZGF0ZXBpY2tlclN1cHByZXNzRXJyb3IiLCJtb2RlcyIsInJlZnJlc2hWaWV3IiwidW5pcXVlSWQiLCIkaWQiLCJmbG9vciIsImluaXREYXRlIiwiYWN0aXZlRGF0ZSIsIiRpc0VtcHR5IiwiJGludmFsaWQiLCJkYXRlT2JqZWN0IiwiY29tcGFyZSIsImFjdGl2ZURhdGVJZCIsInVpZCIsIm5nTW9kZWxDdHJsXyIsInJlbmRlciIsIiR2aWV3VmFsdWUiLCJfcmVmcmVzaFZpZXciLCIkc2V0VmFsaWRpdHkiLCJjcmVhdGVEYXRlT2JqZWN0IiwibW9kZWwiLCJsYWJlbCIsInNlbGVjdGVkIiwiY3VycmVudCIsImN1c3RvbUNsYXNzIiwiZGF0ZURpc2FibGVkIiwibW9kZSIsImFyciIsInNpemUiLCJhcnJheXMiLCJmaXhUaW1lWm9uZSIsInNldEhvdXJzIiwic2V0RnVsbFllYXIiLCJtb3ZlIiwic3RlcCIsInllYXJzIiwibW9udGhzIiwidG9nZ2xlTW9kZSIsImtleXMiLDEzLDMyLDMzLDM0LDM1LDM2LDM3LDM4LDM5LDQwLCJmb2N1c0VsZW1lbnQiLCJzaGlmdEtleSIsImFsdEtleSIsImN0cmxLZXkiLCJoYW5kbGVLZXlEb3duIiwiZGF0ZXBpY2tlckN0cmwiLCJjdHJsIiwiZ2V0RGF5c0luTW9udGgiLCJEQVlTX0lOX01PTlRIIiwiZ2V0RGF0ZXMiLCJzdGFydERhdGUiLCJkYXRlcyIsIkFycmF5Iiwic2V0RGF0ZSIsImdldElTTzg2MDFXZWVrTnVtYmVyIiwiY2hlY2tEYXRlIiwiZ2V0RGF5IiwidGltZSIsInNldE1vbnRoIiwiZmlyc3REYXlPZk1vbnRoIiwiZGlmZmVyZW5jZSIsIm51bURpc3BsYXllZEZyb21QcmV2aW91c01vbnRoIiwiZmlyc3REYXRlIiwiZGF5cyIsInNlY29uZGFyeSIsImxhYmVscyIsImFiYnIiLCJmdWxsIiwicm93cyIsIndlZWtOdW1iZXJzIiwidGh1cnNkYXlJbmRleCIsIm51bVdlZWtzIiwiY3VyV2VlayIsImRhdGUxIiwiZGF0ZTIiLCJtaW4iLCJnZXRTdGFydGluZ1llYXIiLCJyYW5nZSIsImRhdGVwaWNrZXJQb3B1cCIsImRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsIiwiZGF0ZXBpY2tlclRlbXBsYXRlVXJsIiwiaHRtbDVUeXBlcyIsImRhdGV0aW1lLWxvY2FsIiwiY3VycmVudFRleHQiLCJjbGVhclRleHQiLCJjbG9zZVRleHQiLCJjbG9zZU9uRGF0ZVNlbGVjdGlvbiIsInNob3dCdXR0b25CYXIiLCJvbk9wZW5Gb2N1cyIsIiRwb3NpdGlvbiIsImRhdGVQYXJzZXIiLCJkYXRlcGlja2VyUG9wdXBDb25maWciLCJuZ01vZGVsIiwiY2FtZWx0b0Rhc2giLCIkMSIsInBhcnNlRGF0ZSIsInZpZXdWYWx1ZSIsImlzTnVtYmVyIiwiZGF0ZUZvcm1hdCIsInZhbGlkYXRvciIsIm1vZGVsVmFsdWUiLCJuZ1JlcXVpcmVkIiwiZGF0ZXBpY2tlckFwcGVuZFRvQm9keSIsImdldFRleHQiLCJ3YXRjaERhdGEiLCJpc0h0bWw1RGF0ZUlucHV0IiwibmV3RGF0ZUZvcm1hdCIsInBvcHVwRWwiLCJuZy1tb2RlbCIsIm5nLWNoYW5nZSIsInRlbXBsYXRlLXVybCIsImRhdGVwaWNrZXJFbCIsImRhdGVwaWNrZXJPcHRpb25zIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwiYXNzaWduIiwib2xkdmFsdWUiLCIkZm9ybWF0dGVycyIsIiQkcGFyc2VyTmFtZSIsIiR2YWxpZGF0b3JzIiwiJHBhcnNlcnMiLCJ1bnNoaWZ0IiwiZGF0ZVNlbGVjdGlvbiIsIiR2aWV3Q2hhbmdlTGlzdGVuZXJzIiwiZG9jdW1lbnRDbGlja0JpbmQiLCJpbnB1dEtleWRvd25CaW5kIiwiJGJyb2FkY2FzdCIsInRvZGF5IiwiJHBvcHVwIiwiYWZ0ZXIiLCIkJHBoYXNlIiwib3BlblNjb3BlIiwib3BlbiIsImRyb3Bkb3duU2NvcGUiLCJjbG9zZURyb3Bkb3duIiwia2V5YmluZEZpbHRlciIsImdldEF1dG9DbG9zZSIsInRvZ2dsZUVsZW1lbnQiLCJnZXRUb2dnbGVFbGVtZW50IiwiZHJvcGRvd25FbGVtZW50IiwiZ2V0RHJvcGRvd25FbGVtZW50IiwiZm9jdXNUb2dnbGVFbGVtZW50IiwiaXNLZXluYXZFbmFibGVkIiwiZm9jdXNEcm9wZG93bkVudHJ5IiwiZHJvcGRvd25Db25maWciLCJkcm9wZG93blNlcnZpY2UiLCIkdGVtcGxhdGVSZXF1ZXN0IiwidGVtcGxhdGVTY29wZSIsImdldElzT3BlbiIsIiRuZXciLCJzZXRJc09wZW4iLCJ0b2dnbGVJbnZva2VyIiwib25Ub2dnbGUiLCJrZXluYXZFbmFibGVkIiwiZHJvcGRvd25BcHBlbmRUb0JvZHkiLCJrZXlib2FyZE5hdiIsImRyb3Bkb3duTWVudSIsImF1dG9DbG9zZSIsImdldEVsZW1lbnQiLCJlbGVtcyIsInNlbGVjdGVkT3B0aW9uIiwid2FzT3BlbiIsInJpZ2h0YWxpZ24iLCJvcGVuQ29udGFpbmVyIiwiZHJvcGRvd25NZW51VGVtcGxhdGVVcmwiLCJ0cGxDb250ZW50IiwibmV3RWwiLCJyZXBsYWNlV2l0aCIsIiRkZXN0cm95Iiwib2ZmRGVzdHJveSIsImRyb3Bkb3duQ3RybCIsInRwbFVybCIsInRvZ2dsZURyb3Bkb3duIiwiYXJpYS1oYXNwb3B1cCIsImFyaWEtZXhwYW5kZWQiLCJjcmVhdGVOZXciLCJzdGFjayIsImFkZCIsImlkeCIsInJlbW92ZVRvcCIsImVudHJpZXMiLCJoYXNLZXkiLCJ2YWx1ZXMiLCIkbW9kYWxTdGFjayIsImxpbmtGbiIsIm1vZGFsSW5DbGFzcyIsIk5PV19DTE9TSU5HX0VWRU5UIiwic2V0SXNBc3luYyIsInRBdHRycyIsImJhY2tkcm9wQ2xhc3MiLCJ3aW5kb3dDbGFzcyIsImdldFRvcCIsIiRpc1JlbmRlcmVkIiwibW9kYWxSZW5kZXJEZWZlck9iaiIsImFuaW1hdGlvblByb21pc2UiLCJ3aGVuIiwiaW5wdXRzV2l0aEF1dG9mb2N1cyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJtb2RhbFJlbmRlcmVkIiwibW9kYWxBbmltYXRpb24iLCJtb2RhbEFuaW1hdGlvbkNsYXNzIiwiJHRyYW5zY2x1ZGUiLCJjbG9uZSIsIiQkbXVsdGlNYXAiLCIkJHN0YWNrZWRNYXAiLCJiYWNrZHJvcEluZGV4IiwidG9wQmFja2Ryb3BJbmRleCIsIm9wZW5lZCIsIm9wZW5lZFdpbmRvd3MiLCJyZW1vdmVNb2RhbFdpbmRvdyIsIm1vZGFsSW5zdGFuY2UiLCJlbGVtZW50VG9SZWNlaXZlRm9jdXMiLCJtb2RhbFdpbmRvdyIsInJlbW92ZUFmdGVyQW5pbWF0ZSIsIm1vZGFsRG9tRWwiLCJtb2RhbFNjb3BlIiwibW9kYWxCb2R5Q2xhc3MiLCJvcGVuZWRDbGFzcyIsIk9QRU5FRF9NT0RBTF9DTEFTUyIsIm9wZW5lZENsYXNzZXMiLCJjaGVja1JlbW92ZUJhY2tkcm9wIiwiYmFja2Ryb3BEb21FbCIsImJhY2tkcm9wU2NvcGVSZWYiLCJiYWNrZHJvcFNjb3BlIiwiZG9tRWwiLCJhZnRlckFuaW1hdGluZyIsImFzeW5jRGVmZXJyZWQiLCJhc3luY1Byb21pc2UiLCJicm9hZGNhc3RDbG9zaW5nIiwicmVzdWx0T3JSZWFzb24iLCJjbG9zaW5nIiwiZGVmYXVsdFByZXZlbnRlZCIsImZvY3VzYWJsZUVsZW1lbnRMaXN0IiwiZm9jdXNJbmRleCIsInRhYmFiYmxlU2VsZWN0b3IiLCJuZXdCYWNrZHJvcEluZGV4IiwibG9hZEZvY3VzRWxlbWVudExpc3QiLCJmb2N1c0NoYW5nZWQiLCJpc0ZvY3VzSW5GaXJzdEl0ZW0iLCJmb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50IiwiaXNGb2N1c0luTGFzdEl0ZW0iLCJmb2N1c0ZpcnN0Rm9jdXNhYmxlRWxlbWVudCIsIm1vZGFsT3BlbmVyIiwicmVuZGVyRGVmZXJyZWQiLCJjdXJyQmFja2Ryb3BJbmRleCIsImFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwiLCJhbmd1bGFyRG9tRWwiLCJ3aW5kb3dUZW1wbGF0ZVVybCIsIndpbmRvdy1jbGFzcyIsImNsZWFyRm9jdXNMaXN0Q2FjaGUiLCIkJHVpYkRlc3RydWN0aW9uU2NoZWR1bGVkIiwicmVhc29uIiwiZGlzbWlzc0FsbCIsInRvcE1vZGFsIiwic3JjRWxlbWVudCIsImxlbmd0aDAiLCJtb2RhbERvbUUxIiwiJG1vZGFsUHJvdmlkZXIiLCIkY29udHJvbGxlciIsImdldFRlbXBsYXRlUHJvbWlzZSIsImdldFJlc29sdmVQcm9taXNlcyIsInJlc29sdmVzIiwicHJvbWlzZXNBcnIiLCJpbnZva2UiLCIkbW9kYWwiLCJwcm9taXNlQ2hhaW4iLCJnZXRQcm9taXNlQ2hhaW4iLCJtb2RhbE9wdGlvbnMiLCJtb2RhbFJlc3VsdERlZmVycmVkIiwibW9kYWxPcGVuZWREZWZlcnJlZCIsIm1vZGFsUmVuZGVyRGVmZXJyZWQiLCJyZW5kZXJlZCIsInNhbWVQcm9taXNlIiwidGVtcGxhdGVBbmRSZXNvbHZlUHJvbWlzZSIsInRwbEFuZFZhcnMiLCIkY2xvc2UiLCIkZGlzbWlzcyIsImN0cmxJbnN0YW5jZSIsImN0cmxMb2NhbHMiLCJyZXNvbHZlSXRlciIsIiRtb2RhbEluc3RhbmNlIiwiYmluZFRvQ29udHJvbGxlciIsImZpbmFsbHkiLCJzZXROdW1QYWdlcyIsIm51bVBhZ2VzIiwiaXRlbXNQZXJQYWdlIiwidG90YWxQYWdlcyIsImNhbGN1bGF0ZVRvdGFsUGFnZXMiLCJwYWdlIiwic2VsZWN0UGFnZSIsImNlaWwiLCJ0b3RhbEl0ZW1zIiwiY2xpY2tBbGxvd2VkIiwibmdEaXNhYmxlZCIsImJsdXIiLCJub1ByZXZpb3VzIiwibm9OZXh0IiwiYm91bmRhcnlMaW5rcyIsImRpcmVjdGlvbkxpbmtzIiwiZmlyc3RUZXh0IiwicHJldmlvdXNUZXh0IiwibmV4dFRleHQiLCJsYXN0VGV4dCIsInJvdGF0ZSIsInBhZ2luYXRpb25Db25maWciLCJtYWtlUGFnZSIsIm51bWJlciIsImdldFBhZ2VzIiwiY3VycmVudFBhZ2UiLCJwYWdlcyIsInN0YXJ0UGFnZSIsImVuZFBhZ2UiLCJpc01heFNpemVkIiwibWF4U2l6ZSIsInByZXZpb3VzUGFnZVNldCIsIm5leHRQYWdlU2V0IiwicGFnaW5hdGlvbkN0cmwiLCJvcmlnaW5hbFJlbmRlciIsImFsaWduIiwicGFnZXJDb25maWciLCJzbmFrZV9jYXNlIiwicmVnZXhwIiwic2VwYXJhdG9yIiwibGV0dGVyIiwiZGVmYXVsdE9wdGlvbnMiLCJwb3B1cERlbGF5IiwidXNlQ29udGVudEV4cCIsInRyaWdnZXJNYXAiLCJtb3VzZWVudGVyIiwiY2xpY2siLCJub25lIiwiZ2xvYmFsT3B0aW9ucyIsInNldFRyaWdnZXJzIiwiZGVmYXVsdFRyaWdnZXJTaG93IiwiZ2V0VHJpZ2dlcnMiLCJkaXJlY3RpdmVOYW1lIiwic3RhcnRTeW0iLCJlbmRTeW0iLCJ0b29sdGlwTGlua2VyIiwidG9nZ2xlVG9vbHRpcEJpbmQiLCJ0dFNjb3BlIiwiaGlkZVRvb2x0aXBCaW5kIiwic2hvd1Rvb2x0aXBCaW5kIiwiaGFzRW5hYmxlRXhwIiwicHJlcGFyZVRvb2x0aXAiLCJwb3B1cFRpbWVvdXQiLCIkZGlnZXN0IiwidHJhbnNpdGlvblRpbWVvdXQiLCJjb250ZW50RXhwIiwiY3JlYXRlVG9vbHRpcCIsImlzT3BlbkV4cCIsIm9yaWdTY29wZSIsInBvc2l0aW9uVG9vbHRpcCIsInBvc2l0aW9uVGltZW91dCIsInJlbW92ZVRvb2x0aXAiLCJ0b29sdGlwTGlua2VkU2NvcGUiLCJyZXBvc2l0aW9uU2NoZWR1bGVkIiwiJCRwb3N0RGlnZXN0IiwicHJlcFBvcHVwQ2xhc3MiLCJwcmVwUGxhY2VtZW50IiwicHJlcFBvcHVwRGVsYXkiLCJwb3B1cENsYXNzIiwicHJlcFRyaWdnZXJzIiwidW5yZWdpc3RlclRyaWdnZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsInR0Qm94IiwidHRDc3MiLCJhcHBlbmRUb0JvZHlWYWwiLCIkc2NlIiwiZWxlbSIsImN1cnJlbnRTY29wZSIsInByZXZpb3VzRWxlbWVudCIsImN1cnJlbnRFbGVtZW50IiwidG9vbHRpcFRlbXBsYXRlVHJhbnNjbHVkZVNjb3BlIiwiY2hhbmdlQ291bnRlciIsImNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQiLCJwYXJzZUFzUmVzb3VyY2VVcmwiLCJ0b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlIiwidGhpc0NoYW5nZUlkIiwicmVzcG9uc2UiLCJuZXdTY29wZSIsInRvb2x0aXBBbmltYXRpb25DbGFzcyIsIiR0b29sdGlwIiwib3JpZ2luU2NvcGUiLCJ0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCIsInByb2dyZXNzQ29uZmlnIiwiYmFycyIsImFkZEJhciIsImJhciIsInJlY2FsY3VsYXRlUGVyY2VudGFnZSIsInBlcmNlbnQiLCJ0b0ZpeGVkIiwidG90YWxQZXJjZW50YWdlIiwicmVkdWNlIiwidG90YWwiLCJyZW1vdmVCYXIiLCIkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmciLCJwcm9ncmVzc0N0cmwiLCJzdGF0ZU9uIiwic3RhdGVPZmYiLCJ0aXRsZXMiLCJyYXRpbmdDb25maWciLCJ0bXBUaXRsZXMiLCJyYXRpbmdTdGF0ZXMiLCJidWlsZFRlbXBsYXRlT2JqZWN0cyIsInN0YXRlcyIsInJhdGUiLCJyZWFkb25seSIsIm9uSG92ZXIiLCJyZXNldCIsIm9uTGVhdmUiLCJvbktleWRvd24iLCJyYXRpbmdDdHJsIiwidGFicyIsInNlbGVjdGVkVGFiIiwib25EZXNlbGVjdCIsInNlbGVjdENhbGxlZCIsIm9uU2VsZWN0IiwiYWRkVGFiIiwicmVtb3ZlVGFiIiwibmV3QWN0aXZlSW5kZXgiLCJ2ZXJ0aWNhbCIsImp1c3RpZmllZCIsImVsbSIsInRhYnNldEN0cmwiLCIkdHJhbnNjbHVkZUZuIiwiaXNUYWJIZWFkaW5nIiwibm9kZSIsImhhc0F0dHJpYnV0ZSIsInRhYkNvbnRlbnRUcmFuc2NsdWRlIiwiaGVhZGluZ0VsZW1lbnQiLCJob3VyU3RlcCIsIm1pbnV0ZVN0ZXAiLCJzaG93TWVyaWRpYW4iLCJtZXJpZGlhbnMiLCJyZWFkb25seUlucHV0IiwibW91c2V3aGVlbCIsImFycm93a2V5cyIsInNob3dTcGlubmVycyIsInRpbWVwaWNrZXJDb25maWciLCJnZXRIb3Vyc0Zyb21UZW1wbGF0ZSIsInZhbGlkIiwibWVyaWRpYW4iLCJnZXRNaW51dGVzRnJvbVRlbXBsYXRlIiwicGFkIiwidG9TdHJpbmciLCJrZXlib2FyZENoYW5nZSIsIm1ha2VWYWxpZCIsInVwZGF0ZVRlbXBsYXRlIiwiaW52YWxpZEhvdXJzIiwiaW52YWxpZE1pbnV0ZXMiLCJhZGRNaW51dGVzIiwibmV3RGF0ZSIsImFkZE1pbnV0ZXNUb1NlbGVjdGVkIiwiaW5wdXRzIiwiaG91cnNJbnB1dEVsIiwibWludXRlc0lucHV0RWwiLCJzZXR1cE1vdXNld2hlZWxFdmVudHMiLCJzZXR1cEFycm93a2V5RXZlbnRzIiwic2V0dXBJbnB1dEV2ZW50cyIsIm5vSW5jcmVtZW50SG91cnMiLCJpbmNyZW1lbnRlZFNlbGVjdGVkIiwibm9EZWNyZW1lbnRIb3VycyIsImRlY3JlbWVudGVkU2VsZWN0ZWQiLCJub0luY3JlbWVudE1pbnV0ZXMiLCJub0RlY3JlbWVudE1pbnV0ZXMiLCJub1RvZ2dsZU1lcmlkaWFuIiwiJGVycm9yIiwiaXNTY3JvbGxpbmdVcCIsIm9yaWdpbmFsRXZlbnQiLCJ3aGVlbERlbHRhIiwiZGVsdGFZIiwiZGV0YWlsIiwiaW5jcmVtZW50SG91cnMiLCJkZWNyZW1lbnRIb3VycyIsImluY3JlbWVudE1pbnV0ZXMiLCJkZWNyZW1lbnRNaW51dGVzIiwidXBkYXRlSG91cnMiLCJ1cGRhdGVNaW51dGVzIiwiaW52YWxpZGF0ZSIsInNldE1pbnV0ZXMiLCJ0b2dnbGVNZXJpZGlhbiIsInRpbWVwaWNrZXJDdHJsIiwiJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQiLCJmaW5kRW5kRXZlbnROYW1lIiwiZW5kRXZlbnROYW1lcyIsInRyYW5zRWxlbWVudCIsIiR0cmFuc2l0aW9uIiwiZW5kRXZlbnROYW1lIiwidHJhbnNpdGlvbkVuZEhhbmRsZXIiLCJ0cmFuc2l0aW9uRW5kRXZlbnROYW1lcyIsImFuaW1hdGlvbkVuZEV2ZW50TmFtZXMiLCJ0cmFuc2l0aW9uRW5kRXZlbnROYW1lIiwiYW5pbWF0aW9uRW5kRXZlbnROYW1lIiwiVFlQRUFIRUFEX1JFR0VYUCIsIml0ZW1OYW1lIiwic291cmNlIiwidmlld01hcHBlciIsIm1vZGVsTWFwcGVyIiwidHlwZWFoZWFkUGFyc2VyIiwiSE9UX0tFWVMiLCJldmVudERlYm91bmNlVGltZSIsIm9yaWdpbmFsU2NvcGUiLCJmaXJlUmVjYWxjdWxhdGluZyIsIm1vdmVJblByb2dyZXNzIiwidGltZW91dEV2ZW50UHJvbWlzZSIsIm1hdGNoZXMiLCJyZWNhbGN1bGF0ZVBvc2l0aW9uIiwibW9kZWxDdHJsIiwibmdNb2RlbE9wdGlvbnMiLCJtaW5MZW5ndGgiLCJ0eXBlYWhlYWRNaW5MZW5ndGgiLCJoYXNGb2N1cyIsIndhaXRUaW1lIiwidHlwZWFoZWFkV2FpdE1zIiwiaXNFZGl0YWJsZSIsInR5cGVhaGVhZEVkaXRhYmxlIiwiaXNMb2FkaW5nU2V0dGVyIiwidHlwZWFoZWFkTG9hZGluZyIsIm9uU2VsZWN0Q2FsbGJhY2siLCJ0eXBlYWhlYWRPblNlbGVjdCIsImlzU2VsZWN0T25CbHVyIiwidHlwZWFoZWFkU2VsZWN0T25CbHVyIiwiaXNOb1Jlc3VsdHNTZXR0ZXIiLCJ0eXBlYWhlYWROb1Jlc3VsdHMiLCJpbnB1dEZvcm1hdHRlciIsInR5cGVhaGVhZElucHV0Rm9ybWF0dGVyIiwidHlwZWFoZWFkQXBwZW5kVG9Cb2R5IiwiZm9jdXNGaXJzdCIsInR5cGVhaGVhZEZvY3VzRmlyc3QiLCJzZWxlY3RPbkV4YWN0IiwidHlwZWFoZWFkU2VsZWN0T25FeGFjdCIsInBhcnNlZE1vZGVsIiwiaW52b2tlTW9kZWxTZXR0ZXIiLCIkc2V0TW9kZWxWYWx1ZSIsIiRvcHRpb25zIiwiZ2V0dGVyU2V0dGVyIiwiJCQkcCIsInBhcnNlclJlc3VsdCIsInR5cGVhaGVhZCIsInBvcHVwSWQiLCJhcmlhLWF1dG9jb21wbGV0ZSIsImFyaWEtb3ducyIsInBvcFVwRWwiLCJtb3ZlLWluLXByb2dyZXNzIiwicXVlcnkiLCJ0eXBlYWhlYWRUZW1wbGF0ZVVybCIsInR5cGVhaGVhZFBvcHVwVGVtcGxhdGVVcmwiLCJyZXNldE1hdGNoZXMiLCJhY3RpdmVJZHgiLCJnZXRNYXRjaElkIiwiaW5wdXRJc0V4YWN0TWF0Y2giLCJpbnB1dFZhbHVlIiwidG9VcHBlckNhc2UiLCJnZXRNYXRjaGVzQXN5bmMiLCJsb2NhbHMiLCJvbkN1cnJlbnRSZXF1ZXN0IiwidGltZW91dFByb21pc2UiLCJzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0IiwiY2FuY2VsUHJldmlvdXNUaW1lb3V0IiwiY2FuZGlkYXRlVmlld1ZhbHVlIiwiZW1wdHlWaWV3VmFsdWUiLCIkbW9kZWwiLCIkaXRlbSIsIiRsYWJlbCIsInR5cGVhaGVhZEZvY3VzT25TZWxlY3QiLCJkaXNtaXNzQ2xpY2tIYW5kbGVyIiwicG9wdXBUZW1wbGF0ZVVybCIsIm1hdGNoSWR4Iiwic2VsZWN0QWN0aXZlIiwic2VsZWN0TWF0Y2giLCJjbG9uZWRFbGVtZW50IiwiZXNjYXBlUmVnZXhwIiwicXVlcnlUb0VzY2FwZSIsImNvbnRhaW5zSHRtbCIsIm1hdGNoSXRlbSIsImlzU2FuaXRpemVQcmVzZW50IiwidHJ1c3RBc0h0bWwiLCIkdGVtcGxhdGVDYWNoZSIsIiQkY3NwIiwicHJlcGVuZCIsInNhdmUiLCJkaXNhYmxlU2F2ZSIsImVyciIsImFwaUF1dGgiLCJhcGlHb29nbGVQaWNrZXIiLCJ2aWV3SWQiLCJvblBpY2tlckFjdGlvbiIsImdvb2dsZSIsInBpY2tlciIsIlJlc3BvbnNlIiwiQUNUSU9OIiwiQWN0aW9uIiwiUElDS0VEIiwiZGVidWciLCJET0NVTUVOVFMiLCJDQU5DRUwiLCJjcmVhdGVQaWNrZXIiLCJvcmlnaW4iLCJyZWZlcnJlciIsImxvY2F0aW9uIiwiaG9zdG5hbWUiLCJwcm90b2NvbCIsImhvc3QiLCJQaWNrZXJCdWlsZGVyIiwic2V0T3JpZ2luIiwiYWRkVmlldyIsInNldE9BdXRoVG9rZW4iLCJnZXRBdXRoVG9rZW4iLCJzZXRDYWxsYmFjayIsImJ1aWxkIiwic2V0VmlzaWJsZSIsImF1dGhvcml6ZSIsImF1dGhSZXN1bHQiLCJnYXBpTG9hZGVyIiwiZ0FwaSIsImluZm8iLCJnYXBpTG9hZGVkIiwiZ2FwaSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJvYXV0aEFQSUxvYWRlciIsIkNMSUVOVF9JRCIsIlNDT1BFIiwib2F1dGhUb2tlbiIsImF0dGVtcHRJbW1lZGlhdGUiLCJhdXRob3JpemVEZWZlcnJlZCIsImNsaWVudF9pZCIsImltbWVkaWF0ZSIsImF1dGgiLCJhY2Nlc3NfdG9rZW4iLCJwaWNrZXJMb2FkZXIiLCJjbG9zZXN0U2xpZGVyIiwibWF0Y2hlc1NlbGVjdG9yIiwid2Via2l0TWF0Y2hlc1NlbGVjdG9yIiwibW96TWF0Y2hlc1NlbGVjdG9yIiwibXNNYXRjaGVzU2VsZWN0b3IiLCJnZXRPZmZzZXQiLCJmaXhlZFBvc2l0aW9uIiwic2Nyb2xsWCIsInNjcm9sbFkiLCJyZWN0Iiwib2Zmc2V0TGVmdCIsInN0cmluZ1BhcnNlcnMiLCJyZSIsImV4ZWNSZXN1bHQiLCJIZWxwZXIiLCJyZ2IiLCJ0b1JHQiIsInIiLCJnIiwicmdiYSIsImhleCIsInRvSGV4IiwiUkdCdG9IU0IiLCJTIiwiViIsIkMiLCJzZXRDb2xvciIsImV4ZWMiLCJzZXRIdWUiLCJzZXRTYXR1cmF0aW9uIiwic2V0TGlnaHRuZXNzIiwic2V0QWxwaGEiLCJSIiwiRyIsIkIiLCJYIiwiYWJzIiwic2xpZGVyIiwibWF4TGVmdCIsIm1heFRvcCIsImNhbGxMZWZ0IiwiY2FsbFRvcCIsImtub2IiLCJwb2ludGVyIiwiZ2V0U2xpZGVyIiwiZ2V0TGVmdFBvc2l0aW9uIiwicGFnZVgiLCJnZXRUb3BQb3NpdGlvbiIsInBhZ2VZIiwic2V0U2xpZGVyIiwidGFyZ2V0T2Zmc2V0Iiwib2Zmc2V0WCIsImNsaWVudFgiLCJvZmZzZXRZIiwiY2xpZW50WSIsInNldEtub2IiLCJDb2xvciIsIlNsaWRlciIsImJpbmRNb3VzZUV2ZW50cyIsIm1vdXNlbW92ZSIsIm1vdXNldXAiLCJwcmV2aWV3Q29sb3IiLCJjb2xvcnBpY2tlclByZXZpZXciLCJwaWNrZXJDb2xvciIsInRoaXNGb3JtYXQiLCJzbGlkZXJTYXR1cmF0aW9uIiwic2xpZGVyQWxwaGEiLCJiYWNrZ3JvdW5kQ29sb3IiLCJuZXdDb2xvciIsIndpdGhJbnB1dCIsInBpY2tlckNvbG9ySW5wdXQiLCJlbWl0RXZlbnQiLCJ1cGRhdGUiLCJvbWl0SW5uZXJJbnB1dCIsInBpY2tlckNvbG9yUG9pbnRlcnMiLCJnZXRDb2xvcnBpY2tlclRlbXBsYXRlUG9zaXRpb24iLCJwb3NpdGlvblZhbHVlIiwicG9zaXRpb25PZmZzZXQiLCJjb2xvcnBpY2tlclBhcmVudCIsImRvY3VtZW50TW91c2Vkb3duSGFuZGxlciIsImhpZGVDb2xvcnBpY2tlclRlbXBsYXRlIiwic2hvd0NvbG9ycGlja2VyVGVtcGxhdGUiLCJjb2xvcnBpY2tlclRlbXBsYXRlIiwiaW5saW5lIiwiY29sb3JwaWNrZXJJc09wZW4iLCJjb2xvcnBpY2tlciIsImlzQmFja2dyb3VuZFNldHRpbmciLCJiYWNrZ3JvdW5kU2V0dGluZyIsImNvbG9ycGlja2VyUG9zaXRpb24iLCJjb2xvcnBpY2tlcklubGluZSIsImNvbG9ycGlja2VyRml4ZWRQb3NpdGlvbiIsImNvbG9ycGlja2VyV2l0aElucHV0IiwiaW5wdXRUZW1wbGF0ZSIsImNsb3NlQnV0dG9uIiwic2xpZGVySHVlIiwiY29sb3JwaWNrZXJDbG9zZU9uU2VsZWN0Iiwic2hvdWxkQmVPcGVuIiwiVEVNUExBVEVTIiwiX2luaXQiLCIkYnRuQWxpZ25tZW50Iiwic2V0QWxpZ25tZW50IiwiYWxpZ25tZW50IiwiZ2V0QWxpZ25tZW50IiwiJHByaW1hcnlJY29uIiwiY3VycmVudENsYXNzIiwibmV3Q2xhc3MiLCJkZWZhdWx0QWxpZ25tZW50IiwiX3BsdWdpbk5hbWUiLCJXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHIiwiZmFtaWxpZXMiLCJzaXplcyIsImhpZGVMYWJlbCIsImZpbGVUeXBlIiwiaGFzVmFsaWRFeHRlbnNpb24iLCJleHRlbnNpb25zIiwidGVzdFVybCIsInRlc3RJbWFnZSIsImltYWdlIiwiSW1hZ2UiLCJpbnZhbGlkVHlwZSIsInVybFJlZ0V4cCIsImRvVmFsaWRhdGlvbiIsImZvcmNlZFZhbGlkIiwiYWxsb3dJbml0RW1wdHkiLCJpbml0RW1wdHkiLCJnb29nbGVGb250TG9hZGVyIiwiZm9udERhdGEiLCJwcmV2aWV3VGV4dCIsInZlcnRpY2FsQWxpZ24iLCJpbml0VGlueU1DRSIsInRpbnltY2VPcHRpb25zIiwiZm9udF9mb3JtYXRzIiwiZ29vZ2xlRm9udExpc3QiLCJmb250c2l6ZV9mb3JtYXRzIiwiY3VzdG9tU2l6ZSIsIm1lbnViYXIiLCJwbHVnaW5zIiwic2tpbl91cmwiLCJzdGF0dXNiYXIiLCJ0b29sYmFyIiwic2V0dXAiLCJlZGl0b3IiLCJhZGRWZXJ0aWNhbEFsaWduQnV0dG9ucyIsImluaXRUb29sYmFyIiwiX2lzTG9hZGluZyIsImFyZ3MiLCJpbml0Q29tbWFuZHMiLCJpbml0X2luc3RhbmNlX2NhbGxiYWNrIiwib2xkQXBwbHkiLCJmb3JtYXR0ZXIiLCJvbGRSZW1vdmUiLCJ2YXJzIiwiY29tbWFuZCIsImZpcmUiLCJmb250IiwiZXhlY0NvbW1hbmQiLCJmYW1pbHkiLCJmb3JlY29sb3IiLCJiYWNrY29sb3IiLCJib2xkIiwidG9nZ2xlQnV0dG9uIiwiaXRhbGljIiwidW5kZXJsaW5lIiwiJGN1c3RvbUZvbnQiLCJnZXRGb250VHlwZSIsIiRjdXN0b21Gb250U2l6ZSIsInRvZ2dsZVZlcnRpY2FsQnV0dG9ucyIsImRlZmF1bHRGb250IiwidXBkYXRlUHJldmlldyIsIiR0ZXh0Q29udGFpbmVyIiwiJHRleHQiLCJnZXRDdXN0b21Gb250RmFtaWx5IiwicG9wIiwibG9hZEN1c3RvbUZvbnQiLCJzaGVldCIsInJ1bGUiLCJzdHlsZVNoZWV0cyIsImFkZFJ1bGUiLCJhZGRCdXR0b24iLCJvbmNsaWNrIiwiYWRkQ29tbWFuZCIsImdldEZvbnRzIiwiZm9udHMiLCJjdXN0b21Gb250U2l6ZSIsImFwcGx5Q3VzdG9tRm9udCIsImFwcGx5Q3VzdG9tRm9udFNpemUiLCJ0aW55bWNlIiwiYWN0aXZlRWRpdG9yIiwid2F0Y2giLCIkd2F0Y2hHcm91cCIsIm5ld1ZhbHVlcyIsImFuZ3VsYXJMb2FkIiwiZm9udHNBcGkiLCJmb250QmFzZVVybCIsImV4Y2x1ZGUiLCJzcGFjZXMiLCJpdGVtcyIsInVpVGlueW1jZUNvbmZpZyIsImdlbmVyYXRlZElkcyIsIklEX0FUVFIiLCJiYXNlVXJsIiwiYmFzZVVSTCIsInRvZ2dsZURpc2FibGUiLCJlbnN1cmVJbnN0YW5jZSIsInRpbnlJbnN0YW5jZSIsImdldEJvZHkiLCJzZXR0aW5ncyIsImV4cHJlc3Npb24iLCJmb3JtIiwidXBkYXRlVmlldyIsIiRzZXQiLCJ1aVRpbnltY2UiLCJzZXR1cE9wdGlvbnMiLCJlZCIsIiRzZXRQcmlzdGluZSIsImdldFRydXN0ZWRIdG1sIiwiZ2V0RG9jIiwiZWlkIiwicGFyZW50RWxlbWVudCIsImNvbHVtbiIsImRlZmF1bHRTZXR0aW5ncyIsImZvbnRTdHlsZSIsImhlYWRlclRleHQiLCJjb2xvckNvbmRpdGlvbiIsImNvbHVtbnMiLCJjb2x1bW5OYW1lcyIsInJlbW92ZUNvbHVtbiIsImNvbHVtbnNMaXN0Iiwic2V0VmFsaWRpdHkiLCJ1cGRhdGVDb2x1bW5zIiwiY29sdW1uc1dhdGNoZXIiLCJjb2x1bW5OYW1lc1dhdGNoZXIiLCJ2IiwiYWRkQ29sdW1uIiwiY29uc29sZSIsImxvZyIsInNlbGVjdGVkQ29sdW1uIiwiZGVmYXVsdFNldHRpbmciLCJieSIsInNwZWVkIiwicHVkIiwic2V0dGluZ3NTYXZlciIsInNldHRpbmdzR2V0dGVyIiwic2V0dGluZ3NDbG9zZXIiLCJhZGRpdGlvbmFsUGFyYW1zIiwiYWxlcnRzIiwiZ2V0QWRkaXRpb25hbFBhcmFtIiwiZGVmYXVsdFZhbCIsInNldEFkZGl0aW9uYWxQYXJhbSIsImxvYWRBZGRpdGlvbmFsUGFyYW1zIiwiZ2V0QWRkaXRpb25hbFBhcmFtcyIsInNldEFkZGl0aW9uYWxQYXJhbXMiLCJzYXZlU2V0dGluZ3MiLCJjbG9zZVNldHRpbmdzIiwiZ2V0UGFyYW1zIiwiJGVsbSIsIiR3YXRjaENvbGxlY3Rpb24iLCJuZXdBbGVydHMiLCJvbGRBbGVydHMiLCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0UiLCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRSIsImdldFN0b3JhZ2VVcmxEYXRhIiwiZ2V0U3RvcmFnZVR5cGUiLCJzdG9yYWdlVXJsIiwiZ2V0Q29tcGFueUlkIiwicCIsInN0ciIsInBhaXIiLCJkZWNvZGVVUklDb21wb25lbnQiLCJjb21wYW55SWQiLCJmaWxlTmFtZSIsImZvbGRlciIsImdhZGdldHMiLCJsb2FkRm9udHMiLCJ1cmxzIiwiYWxsRm9udHMiLCJnZXRHb29nbGVGb250cyIsInJlc3AiLCJzdWJzZXRzIiwiZ2V0Rm9udHNVc2VkIiwiZmFtaWx5TGlzdCIsImZvbnRzVXNlZCIsImkxOG4iLCJmYWxsYmFja0xuZyIsInJlc0dldFBhdGgiLCJpc0ltYWdlIiwiZ2FkZ2V0c0FwaSIsInNldHRpbmdzUGFyc2VyIiwicHJvY2Vzc1NldHRpbmdzIiwibmV3U2V0dGluZ3MiLCJjb3B5IiwicnNXIiwicnNIIiwibGF5b3V0VVJMIiwiZW5jb2RlUGFyYW1zIiwiYWRkaXRpb25hbFBhcmFtc1N0ciIsImVuY29kZUFkZGl0aW9uYWxQYXJhbXMiLCJycGMiLCJKU09OIiwic3RyaW5naWZ5IiwiZGVmYXVsdEFkZGl0aW9uYWxQYXJhbXMiLCJwYXJzZUFkZGl0aW9uYWxQYXJhbXMiLCJkZWZhdWx0UGFyYW1zIiwicGFyc2VQYXJhbXMiLCJzZWFyY2giLCJzdHJpcFByZWZpeCIsImVuY29kZVVSSUNvbXBvbmVudCIsInBhcmFtc1N0ciIsInZpc3VhbGl6YXRpb24iLCJzZXRPbkxvYWRDYWxsYmFjayIsImdvb2dsZVNoZWV0IiwiZ2V0V29ya1NoZWV0cyIsImZpbGVJZCIsInNoZWV0cyIsInB1Ymxpc2hlZCIsImN1cnJlbnRTaGVldCIsInNwcmVhZHNoZWV0IiwidGFiSWQiLCJzaG93UHJldmlldyIsImdldENvbHVtbnMiLCJzZXR0aW5nc0Zvcm0iLCJzZWxlY3Rpb24iLCJuZXdVcmwiLCJvbGRVcmwiLCJkb2NOYW1lIiwiZW5jb2RlVVJJIiwic2V0U2VsZWN0aW9uIiwicHJldmlld0ZpbGUiLCJyZXRyeUZpbGUiLCJjbGVhclNlbGVjdGlvbiIsImV2ZW5Sb3dDb2xvciIsImhlYWRlciIsIm9kZFJvd0NvbG9yIiwicm93SGVpZ2h0IiwiY29sb3IiLCJzaG93Q29sdW1uIiwic2hvd1JvdyIsImNlbGxzIiwic3RhcnRDZWxsIiwiZW5kQ2VsbCIsImhhc0hlYWRlciIsIlNQUkVBRFNIRUVUX0FQSV9XT1JLU0hFRVRTIiwiU1BSRUFEU0hFRVRfQVBJX1NVRkZJWCIsImZpbHRlclNoZWV0cyIsImZlZWQiLCJlbnRyeSIsIiR0IiwiYXBpIiwidmlzdWFsaXphdGlvbkFwaSIsImNvbmZpZ3VyZUNvbHVtbnMiLCJjZWxsVmFsdWUiLCJjb2x1bW5MYWJlbCIsImNvbHVtbklkIiwiZGF0YVRhYmxlIiwiZ2V0RGF0YVRhYmxlIiwiY29sdW1uSW5kZXhlcyIsImdldE51bWJlck9mQ29sdW1ucyIsImdldE51bWJlck9mUm93cyIsImdldFZhbHVlIiwiZ2V0Q29sdW1uTGFiZWwiLCJnZXRDb2x1bW5JZCIsImdldENvbHVtblR5cGUiLCJ2aXoiLCJRdWVyeSIsInNldFF1ZXJ5Iiwic2VuZCIsImlzRXJyb3IiLCJnZXRNZXNzYWdlIl0sIm1hcHBpbmdzIjoiQUE0eVVBLFFBQVNBLHNCQUNQQyxZQUFhLENBRWIsSUFBSUMsR0FBTUMsU0FBU0MsWUFBWSxTQUMvQkYsR0FBSUcsVUFBVSxlQUFlLEdBQU0sR0FFbkNDLE9BQU9DLGNBQWNMLEdBdHlVdkJNLFFBQVFDLE9BQU8sMEJBQTJCLE9BRXpDQyxLQUFLLGFBQWMsU0FBVUMsR0FFNUIsR0FBSUMsR0FBTUQsRUFBV0UsYUFDakJDLEVBQVVILEVBQVdHLFVBRXJCQyxFQUFvQyxXQUN0QyxHQUFJQyxHQUFZTCxF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RCxFQUFpQnpsQixJQU5sQzdqQyxFQUFTWSxPQUFPLG1CQVlmWixFQUFTSyxTQUdYOUQiLCJmaWxlIjoianMvc2V0dGluZ3MubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBhbmd1bGFyLXRyYW5zbGF0ZSAtIHYyLjUuMiAtIDIwMTQtMTItMTBcbiAqIGh0dHA6Ly9naXRodWIuY29tL2FuZ3VsYXItdHJhbnNsYXRlL2FuZ3VsYXItdHJhbnNsYXRlXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQgOyBMaWNlbnNlZCBNSVRcbiAqL1xuLyoqXG4gKiBAbmdkb2Mgb3ZlcnZpZXdcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGVcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRoZSBtYWluIG1vZHVsZSB3aGljaCBob2xkcyBldmVyeXRoaW5nIHRvZ2V0aGVyLlxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScsIFsnbmcnXSlcblxuLnJ1bihbJyR0cmFuc2xhdGUnLCBmdW5jdGlvbiAoJHRyYW5zbGF0ZSkge1xuXG4gIHZhciBrZXkgPSAkdHJhbnNsYXRlLnN0b3JhZ2VLZXkoKSxcbiAgICAgIHN0b3JhZ2UgPSAkdHJhbnNsYXRlLnN0b3JhZ2UoKTtcblxuICB2YXIgZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHByZWZlcnJlZCA9ICR0cmFuc2xhdGUucHJlZmVycmVkTGFuZ3VhZ2UoKTtcbiAgICBpZiAoYW5ndWxhci5pc1N0cmluZyhwcmVmZXJyZWQpKSB7XG4gICAgICAkdHJhbnNsYXRlLnVzZShwcmVmZXJyZWQpO1xuICAgICAgLy8gJHRyYW5zbGF0ZS51c2UoKSB3aWxsIGFsc28gcmVtZW1iZXIgdGhlIGxhbmd1YWdlLlxuICAgICAgLy8gU28sIHdlIGRvbid0IG5lZWQgdG8gY2FsbCBzdG9yYWdlLnB1dCgpIGhlcmUuXG4gICAgfSBlbHNlIHtcbiAgICAgIHN0b3JhZ2UucHV0KGtleSwgJHRyYW5zbGF0ZS51c2UoKSk7XG4gICAgfVxuICB9O1xuXG4gIGlmIChzdG9yYWdlKSB7XG4gICAgaWYgKCFzdG9yYWdlLmdldChrZXkpKSB7XG4gICAgICBmYWxsYmFja0Zyb21JbmNvcnJlY3RTdG9yYWdlVmFsdWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHRyYW5zbGF0ZS51c2Uoc3RvcmFnZS5nZXQoa2V5KSlbJ2NhdGNoJ10oZmFsbGJhY2tGcm9tSW5jb3JyZWN0U3RvcmFnZVZhbHVlKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZygkdHJhbnNsYXRlLnByZWZlcnJlZExhbmd1YWdlKCkpKSB7XG4gICAgJHRyYW5zbGF0ZS51c2UoJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSgpKTtcbiAgfVxufV0pO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gKiBAZGVzY3JpcHRpb25cbiAqXG4gKiAkdHJhbnNsYXRlUHJvdmlkZXIgYWxsb3dzIGRldmVsb3BlcnMgdG8gcmVnaXN0ZXIgdHJhbnNsYXRpb24tdGFibGVzLCBhc3luY2hyb25vdXMgbG9hZGVyc1xuICogYW5kIHNpbWlsYXIgdG8gY29uZmlndXJlIHRyYW5zbGF0aW9uIGJlaGF2aW9yIGRpcmVjdGx5IGluc2lkZSBvZiBhIG1vZHVsZS5cbiAqXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJykucHJvdmlkZXIoJyR0cmFuc2xhdGUnLCBbJyRTVE9SQUdFX0tFWScsIGZ1bmN0aW9uICgkU1RPUkFHRV9LRVkpIHtcblxuICB2YXIgJHRyYW5zbGF0aW9uVGFibGUgPSB7fSxcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSxcbiAgICAgICRhdmFpbGFibGVMYW5ndWFnZUtleXMgPSBbXSxcbiAgICAgICRsYW5ndWFnZUtleUFsaWFzZXMsXG4gICAgICAkZmFsbGJhY2tMYW5ndWFnZSxcbiAgICAgICRmYWxsYmFja1dhc1N0cmluZyxcbiAgICAgICR1c2VzLFxuICAgICAgJG5leHRMYW5nLFxuICAgICAgJHN0b3JhZ2VGYWN0b3J5LFxuICAgICAgJHN0b3JhZ2VLZXkgPSAkU1RPUkFHRV9LRVksXG4gICAgICAkc3RvcmFnZVByZWZpeCxcbiAgICAgICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSxcbiAgICAgICRpbnRlcnBvbGF0aW9uRmFjdG9yeSxcbiAgICAgICRpbnRlcnBvbGF0b3JGYWN0b3JpZXMgPSBbXSxcbiAgICAgICRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kgPSBmYWxzZSxcbiAgICAgICRsb2FkZXJGYWN0b3J5LFxuICAgICAgJGNsb2FrQ2xhc3NOYW1lID0gJ3RyYW5zbGF0ZS1jbG9haycsXG4gICAgICAkbG9hZGVyT3B0aW9ucyxcbiAgICAgICRub3RGb3VuZEluZGljYXRvckxlZnQsXG4gICAgICAkbm90Rm91bmRJbmRpY2F0b3JSaWdodCxcbiAgICAgICRwb3N0Q29tcGlsaW5nRW5hYmxlZCA9IGZhbHNlLFxuICAgICAgTkVTVEVEX09CSkVDVF9ERUxJTUlURVIgPSAnLicsXG4gICAgICBsb2FkZXJDYWNoZTtcblxuICB2YXIgdmVyc2lvbiA9ICcyLjUuMic7XG5cbiAgLy8gdHJpZXMgdG8gZGV0ZXJtaW5lIHRoZSBicm93c2VycyBsYW5ndWFnZVxuICB2YXIgZ2V0Rmlyc3RCcm93c2VyTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG5hdiA9IHdpbmRvdy5uYXZpZ2F0b3IsXG4gICAgICAgIGJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cyA9IFsnbGFuZ3VhZ2UnLCAnYnJvd3Nlckxhbmd1YWdlJywgJ3N5c3RlbUxhbmd1YWdlJywgJ3VzZXJMYW5ndWFnZSddLFxuICAgICAgICBpLFxuICAgICAgICBsYW5ndWFnZTtcblxuICAgIC8vIHN1cHBvcnQgZm9yIEhUTUwgNS4xIFwibmF2aWdhdG9yLmxhbmd1YWdlc1wiXG4gICAgaWYgKGFuZ3VsYXIuaXNBcnJheShuYXYubGFuZ3VhZ2VzKSkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IG5hdi5sYW5ndWFnZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGFuZ3VhZ2UgPSBuYXYubGFuZ3VhZ2VzW2ldO1xuICAgICAgICBpZiAobGFuZ3VhZ2UgJiYgbGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgcmV0dXJuIGxhbmd1YWdlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gc3VwcG9ydCBmb3Igb3RoZXIgd2VsbCBrbm93biBwcm9wZXJ0aWVzIGluIGJyb3dzZXJzXG4gICAgZm9yIChpID0gMDsgaSA8IGJyb3dzZXJMYW5ndWFnZVByb3BlcnR5S2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAgbGFuZ3VhZ2UgPSBuYXZbYnJvd3Nlckxhbmd1YWdlUHJvcGVydHlLZXlzW2ldXTtcbiAgICAgIGlmIChsYW5ndWFnZSAmJiBsYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIGxhbmd1YWdlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBudWxsO1xuICB9O1xuICBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZS5kaXNwbGF5TmFtZSA9ICdhbmd1bGFyLXRyYW5zbGF0ZS9zZXJ2aWNlOiBnZXRGaXJzdEJyb3dzZXJMYW5ndWFnZSc7XG5cbiAgLy8gdHJpZXMgdG8gZGV0ZXJtaW5lIHRoZSBicm93c2VycyBsb2NhbGVcbiAgdmFyIGdldExvY2FsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gKGdldEZpcnN0QnJvd3Nlckxhbmd1YWdlKCkgfHwgJycpLnNwbGl0KCctJykuam9pbignXycpO1xuICB9O1xuICBnZXRMb2NhbGUuZGlzcGxheU5hbWUgPSAnYW5ndWxhci10cmFuc2xhdGUvc2VydmljZTogZ2V0TG9jYWxlJztcblxuICAvKipcbiAgICogQG5hbWUgaW5kZXhPZlxuICAgKiBAcHJpdmF0ZVxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogaW5kZXhPZiBwb2x5ZmlsbC4gS2luZGEgc29ydGEuXG4gICAqXG4gICAqIEBwYXJhbSB7YXJyYXl9IGFycmF5IEFycmF5IHRvIHNlYXJjaCBpbi5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHNlYXJjaEVsZW1lbnQgRWxlbWVudCB0byBzZWFyY2ggZm9yLlxuICAgKlxuICAgKiBAcmV0dXJucyB7aW50fSBJbmRleCBvZiBzZWFyY2ggZWxlbWVudC5cbiAgICovXG4gIHZhciBpbmRleE9mID0gZnVuY3Rpb24oYXJyYXksIHNlYXJjaEVsZW1lbnQpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChhcnJheVtpXSA9PT0gc2VhcmNoRWxlbWVudCkge1xuICAgICAgICByZXR1cm4gaTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmFtZSB0cmltXG4gICAqIEBwcml2YXRlXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiB0cmltIHBvbHlmaWxsXG4gICAqXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFRoZSBzdHJpbmcgc3RyaXBwZWQgb2Ygd2hpdGVzcGFjZSBmcm9tIGJvdGggZW5kc1xuICAgKi9cbiAgdmFyIHRyaW0gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gIH07XG5cbiAgdmFyIG5lZ290aWF0ZUxvY2FsZSA9IGZ1bmN0aW9uIChwcmVmZXJyZWQpIHtcblxuICAgIHZhciBhdmFpbCA9IFtdLFxuICAgICAgICBsb2NhbGUgPSBhbmd1bGFyLmxvd2VyY2FzZShwcmVmZXJyZWQpLFxuICAgICAgICBpID0gMCxcbiAgICAgICAgbiA9ICRhdmFpbGFibGVMYW5ndWFnZUtleXMubGVuZ3RoO1xuXG4gICAgZm9yICg7IGkgPCBuOyBpKyspIHtcbiAgICAgIGF2YWlsLnB1c2goYW5ndWxhci5sb3dlcmNhc2UoJGF2YWlsYWJsZUxhbmd1YWdlS2V5c1tpXSkpO1xuICAgIH1cblxuICAgIGlmIChpbmRleE9mKGF2YWlsLCBsb2NhbGUpID4gLTEpIHtcbiAgICAgIHJldHVybiBwcmVmZXJyZWQ7XG4gICAgfVxuXG4gICAgaWYgKCRsYW5ndWFnZUtleUFsaWFzZXMpIHtcbiAgICAgIHZhciBhbGlhcztcbiAgICAgIGZvciAodmFyIGxhbmdLZXlBbGlhcyBpbiAkbGFuZ3VhZ2VLZXlBbGlhc2VzKSB7XG4gICAgICAgIHZhciBoYXNXaWxkY2FyZEtleSA9IGZhbHNlO1xuICAgICAgICB2YXIgaGFzRXhhY3RLZXkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoJGxhbmd1YWdlS2V5QWxpYXNlcywgbGFuZ0tleUFsaWFzKSAmJlxuICAgICAgICAgIGFuZ3VsYXIubG93ZXJjYXNlKGxhbmdLZXlBbGlhcykgPT09IGFuZ3VsYXIubG93ZXJjYXNlKHByZWZlcnJlZCk7XG5cbiAgICAgICAgaWYgKGxhbmdLZXlBbGlhcy5zbGljZSgtMSkgPT09ICcqJykge1xuICAgICAgICAgIGhhc1dpbGRjYXJkS2V5ID0gbGFuZ0tleUFsaWFzLnNsaWNlKDAsIC0xKSA9PT0gcHJlZmVycmVkLnNsaWNlKDAsIGxhbmdLZXlBbGlhcy5sZW5ndGgtMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGhhc0V4YWN0S2V5IHx8IGhhc1dpbGRjYXJkS2V5KSB7XG4gICAgICAgICAgYWxpYXMgPSAkbGFuZ3VhZ2VLZXlBbGlhc2VzW2xhbmdLZXlBbGlhc107XG4gICAgICAgICAgaWYgKGluZGV4T2YoYXZhaWwsIGFuZ3VsYXIubG93ZXJjYXNlKGFsaWFzKSkgPiAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIGFsaWFzO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBwYXJ0cyA9IHByZWZlcnJlZC5zcGxpdCgnXycpO1xuXG4gICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEgJiYgaW5kZXhPZihhdmFpbCwgYW5ndWxhci5sb3dlcmNhc2UocGFydHNbMF0pKSA+IC0xKSB7XG4gICAgICByZXR1cm4gcGFydHNbMF07XG4gICAgfVxuXG4gICAgLy8gSWYgZXZlcnl0aGluZyBmYWlscywganVzdCByZXR1cm4gdGhlIHByZWZlcnJlZCwgdW5jaGFuZ2VkLlxuICAgIHJldHVybiBwcmVmZXJyZWQ7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN0cmFuc2xhdGlvbnNcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBSZWdpc3RlcnMgYSBuZXcgdHJhbnNsYXRpb24gdGFibGUgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGtleS5cbiAgICpcbiAgICogVG8gcmVnaXN0ZXIgYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UsIHBhc3MgYSBkZWZpbmVkIGxhbmd1YWdlXG4gICAqIGtleSBhcyBmaXJzdCBwYXJhbWV0ZXIuXG4gICAqXG4gICAqIDxwcmU+XG4gICAqICAvLyByZWdpc3RlciB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgbGFuZ3VhZ2U6ICdkZV9ERSdcbiAgICogICR0cmFuc2xhdGVQcm92aWRlci50cmFuc2xhdGlvbnMoJ2RlX0RFJywge1xuICAgKiAgICAnR1JFRVRJTkcnOiAnSGFsbG8gV2VsdCEnXG4gICAqICB9KTtcbiAgICpcbiAgICogIC8vIHJlZ2lzdGVyIGFub3RoZXIgb25lXG4gICAqICAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25zKCdlbl9VUycsIHtcbiAgICogICAgJ0dSRUVUSU5HJzogJ0hlbGxvIHdvcmxkISdcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogV2hlbiByZWdpc3RlcmluZyBtdWx0aXBsZSB0cmFuc2xhdGlvbiB0YWJsZXMgZm9yIGZvciB0aGUgc2FtZSBsYW5ndWFnZSBrZXksXG4gICAqIHRoZSBhY3R1YWwgdHJhbnNsYXRpb24gdGFibGUgZ2V0cyBleHRlbmRlZC4gVGhpcyBhbGxvd3MgeW91IHRvIGRlZmluZSBtb2R1bGVcbiAgICogc3BlY2lmaWMgdHJhbnNsYXRpb24gd2hpY2ggb25seSBnZXQgYWRkZWQsIG9uY2UgYSBzcGVjaWZpYyBtb2R1bGUgaXMgbG9hZGVkIGluXG4gICAqIHlvdXIgYXBwLlxuICAgKlxuICAgKiBJbnZva2luZyB0aGlzIG1ldGhvZCB3aXRoIG5vIGFyZ3VtZW50cyByZXR1cm5zIHRoZSB0cmFuc2xhdGlvbiB0YWJsZSB3aGljaCB3YXNcbiAgICogcmVnaXN0ZXJlZCB3aXRoIG5vIGxhbmd1YWdlIGtleS4gSW52b2tpbmcgaXQgd2l0aCBhIGxhbmd1YWdlIGtleSByZXR1cm5zIHRoZVxuICAgKiByZWxhdGVkIHRyYW5zbGF0aW9uIHRhYmxlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKiBAcGFyYW0ge29iamVjdH0gdHJhbnNsYXRpb25UYWJsZSBBIHBsYWluIG9sZCBKYXZhU2NyaXB0IG9iamVjdCB0aGF0IHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiB0YWJsZS5cbiAgICpcbiAgICovXG4gIHZhciB0cmFuc2xhdGlvbnMgPSBmdW5jdGlvbiAobGFuZ0tleSwgdHJhbnNsYXRpb25UYWJsZSkge1xuXG4gICAgaWYgKCFsYW5nS2V5ICYmICF0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICByZXR1cm4gJHRyYW5zbGF0aW9uVGFibGU7XG4gICAgfVxuXG4gICAgaWYgKGxhbmdLZXkgJiYgIXRyYW5zbGF0aW9uVGFibGUpIHtcbiAgICAgIGlmIChhbmd1bGFyLmlzU3RyaW5nKGxhbmdLZXkpKSB7XG4gICAgICAgIHJldHVybiAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFhbmd1bGFyLmlzT2JqZWN0KCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKSkge1xuICAgICAgICAkdHJhbnNsYXRpb25UYWJsZVtsYW5nS2V5XSA9IHt9O1xuICAgICAgfVxuICAgICAgYW5ndWxhci5leHRlbmQoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0sIGZsYXRPYmplY3QodHJhbnNsYXRpb25UYWJsZSkpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICB0aGlzLnRyYW5zbGF0aW9ucyA9IHRyYW5zbGF0aW9ucztcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2Nsb2FrQ2xhc3NOYW1lXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICpcbiAgICogTGV0J3MgeW91IGNoYW5nZSB0aGUgY2xhc3MgbmFtZSBmb3IgYHRyYW5zbGF0ZS1jbG9ha2AgZGlyZWN0aXZlLlxuICAgKiBEZWZhdWx0IGNsYXNzIG5hbWUgaXMgYHRyYW5zbGF0ZS1jbG9ha2AuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lIHRyYW5zbGF0ZS1jbG9hayBjbGFzcyBuYW1lXG4gICAqL1xuICB0aGlzLmNsb2FrQ2xhc3NOYW1lID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICBpZiAoIW5hbWUpIHtcbiAgICAgIHJldHVybiAkY2xvYWtDbGFzc05hbWU7XG4gICAgfVxuICAgICRjbG9ha0NsYXNzTmFtZSA9IG5hbWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuYW1lIGZsYXRPYmplY3RcbiAgICogQHByaXZhdGVcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIEZsYXRzIGFuIG9iamVjdC4gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHRvIGZsYXR0ZW4gZ2l2ZW4gdHJhbnNsYXRpb24gZGF0YSB3aXRoXG4gICAqIG5hbWVzcGFjZXMsIHNvIHRoZXkgYXJlIGxhdGVyIGFjY2Vzc2libGUgdmlhIGRvdCBub3RhdGlvbi5cbiAgICovXG4gIHZhciBmbGF0T2JqZWN0ID0gZnVuY3Rpb24gKGRhdGEsIHBhdGgsIHJlc3VsdCwgcHJldktleSkge1xuICAgIHZhciBrZXksIGtleVdpdGhQYXRoLCBrZXlXaXRoU2hvcnRQYXRoLCB2YWw7XG5cbiAgICBpZiAoIXBhdGgpIHtcbiAgICAgIHBhdGggPSBbXTtcbiAgICB9XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIHJlc3VsdCA9IHt9O1xuICAgIH1cbiAgICBmb3IgKGtleSBpbiBkYXRhKSB7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFsID0gZGF0YVtrZXldO1xuICAgICAgaWYgKGFuZ3VsYXIuaXNPYmplY3QodmFsKSkge1xuICAgICAgICBmbGF0T2JqZWN0KHZhbCwgcGF0aC5jb25jYXQoa2V5KSwgcmVzdWx0LCBrZXkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5V2l0aFBhdGggPSBwYXRoLmxlbmd0aCA/ICgnJyArIHBhdGguam9pbihORVNURURfT0JKRUNUX0RFTElNSVRFUikgKyBORVNURURfT0JKRUNUX0RFTElNSVRFUiArIGtleSkgOiBrZXk7XG4gICAgICAgIGlmKHBhdGgubGVuZ3RoICYmIGtleSA9PT0gcHJldktleSl7XG4gICAgICAgICAgLy8gQ3JlYXRlIHNob3J0Y3V0IHBhdGggKGZvby5iYXIgPT0gZm9vLmJhci5iYXIpXG4gICAgICAgICAga2V5V2l0aFNob3J0UGF0aCA9ICcnICsgcGF0aC5qb2luKE5FU1RFRF9PQkpFQ1RfREVMSU1JVEVSKTtcbiAgICAgICAgICAvLyBMaW5rIGl0IHRvIG9yaWdpbmFsIHBhdGhcbiAgICAgICAgICByZXN1bHRba2V5V2l0aFNob3J0UGF0aF0gPSAnQDonICsga2V5V2l0aFBhdGg7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2tleVdpdGhQYXRoXSA9IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2FkZEludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBBZGRzIGludGVycG9sYXRpb24gc2VydmljZXMgdG8gYW5ndWxhci10cmFuc2xhdGUsIHNvIGl0IGNhbiBtYW5hZ2UgdGhlbS5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGZhY3RvcnkgSW50ZXJwb2xhdGlvbiBzZXJ2aWNlIGZhY3RvcnlcbiAgICovXG4gIHRoaXMuYWRkSW50ZXJwb2xhdGlvbiA9IGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgJGludGVycG9sYXRvckZhY3Rvcmllcy5wdXNoKGZhY3RvcnkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb25cbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgaW50ZXJwb2xhdGlvbiBmdW5jdGlvbmFsaXR5IG9mIG1lc3NhZ2Vmb3JtYXQuanMuXG4gICAqIFRoaXMgaXMgdXNlZnVsIHdoZW4gaGF2aW5nIGhpZ2ggbGV2ZWwgcGx1cmFsaXphdGlvbiBhbmQgZ2VuZGVyIHNlbGVjdGlvbi5cbiAgICovXG4gIHRoaXMudXNlTWVzc2FnZUZvcm1hdEludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlSW50ZXJwb2xhdGlvbignJHRyYW5zbGF0ZU1lc3NhZ2VGb3JtYXRJbnRlcnBvbGF0aW9uJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VJbnRlcnBvbGF0aW9uXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgd2hpY2ggaW50ZXJwb2xhdGlvbiBzdHlsZSB0byB1c2UgYXMgZGVmYXVsdCwgYXBwbGljYXRpb24td2lkZS5cbiAgICogU2ltcGx5IHBhc3MgYSBmYWN0b3J5L3NlcnZpY2UgbmFtZS4gVGhlIGludGVycG9sYXRpb24gc2VydmljZSBoYXMgdG8gaW1wbGVtZW50XG4gICAqIHRoZSBjb3JyZWN0IGludGVyZmFjZS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY3RvcnkgSW50ZXJwb2xhdGlvbiBzZXJ2aWNlIG5hbWUuXG4gICAqL1xuICB0aGlzLnVzZUludGVycG9sYXRpb24gPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRpbnRlcnBvbGF0aW9uRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VTYW5pdGl6ZVN0cmF0ZWd5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogU2ltcGx5IHNldHMgYSBzYW5pdGF0aW9uIHN0cmF0ZWd5IHR5cGUuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZSBTdHJhdGVneSB0eXBlLlxuICAgKi9cbiAgdGhpcy51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkaW50ZXJwb2xhdGlvblNhbml0aXphdGlvblN0cmF0ZWd5ID0gdmFsdWU7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3ByZWZlcnJlZExhbmd1YWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgdGhlIG1vZHVsZSB3aGljaCBvZiB0aGUgcmVnaXN0ZXJlZCB0cmFuc2xhdGlvbiB0YWJsZXMgdG8gdXNlIGZvciB0cmFuc2xhdGlvblxuICAgKiBhdCBpbml0aWFsIHN0YXJ0dXAgYnkgcGFzc2luZyBhIGxhbmd1YWdlIGtleS4gU2ltaWxhciB0byBgJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZWBcbiAgICogb25seSB0aGF0IGl0IHNheXMgd2hpY2ggbGFuZ3VhZ2UgdG8gKipwcmVmZXIqKi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqXG4gICAqL1xuICB0aGlzLnByZWZlcnJlZExhbmd1YWdlID0gZnVuY3Rpb24obGFuZ0tleSkge1xuICAgIHNldHVwUHJlZmVycmVkTGFuZ3VhZ2UobGFuZ0tleSk7XG4gICAgcmV0dXJuIHRoaXM7XG5cbiAgfTtcbiAgdmFyIHNldHVwUHJlZmVycmVkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgIGlmIChsYW5nS2V5KSB7XG4gICAgICAkcHJlZmVycmVkTGFuZ3VhZ2UgPSBsYW5nS2V5O1xuICAgIH1cbiAgICByZXR1cm4gJHByZWZlcnJlZExhbmd1YWdlO1xuICB9O1xuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3RyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuIGluZGljYXRvciB3aGljaCBpcyB1c2VkIHdoZW4gYSB0cmFuc2xhdGlvbiBpc24ndCBmb3VuZC4gRS5nLiB3aGVuXG4gICAqIHNldHRpbmcgdGhlIGluZGljYXRvciBhcyAnWCcgYW5kIG9uZSB0cmllcyB0byB0cmFuc2xhdGUgYSB0cmFuc2xhdGlvbiBpZFxuICAgKiBjYWxsZWQgYE5PVF9GT1VORGAsIHRoaXMgd2lsbCByZXN1bHQgaW4gYFggTk9UX0ZPVU5EIFhgLlxuICAgKlxuICAgKiBJbnRlcm5hbGx5IHRoaXMgbWV0aG9kcyBzZXRzIGEgbGVmdCBpbmRpY2F0b3IgYW5kIGEgcmlnaHQgaW5kaWNhdG9yIHVzaW5nXG4gICAqIGAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnQoKWAgYW5kXG4gICAqIGAkdHJhbnNsYXRlUHJvdmlkZXIudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvclJpZ2h0KClgLlxuICAgKlxuICAgKiAqKk5vdGUqKjogVGhlc2UgbWV0aG9kcyBhdXRvbWF0aWNhbGx5IGFkZCBhIHdoaXRlc3BhY2UgYmV0d2VlbiB0aGUgaW5kaWNhdG9yc1xuICAgKiBhbmQgdGhlIHRyYW5zbGF0aW9uIGlkLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gaW5kaWNhdG9yIEFuIGluZGljYXRvciwgY291bGQgYmUgYW55IHN0cmluZy5cbiAgICovXG4gIHRoaXMudHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvciA9IGZ1bmN0aW9uIChpbmRpY2F0b3IpIHtcbiAgICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0KGluZGljYXRvcik7XG4gICAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQoaW5kaWNhdG9yKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnRcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuIGluZGljYXRvciB3aGljaCBpcyB1c2VkIHdoZW4gYSB0cmFuc2xhdGlvbiBpc24ndCBmb3VuZCBsZWZ0IHRvIHRoZVxuICAgKiB0cmFuc2xhdGlvbiBpZC5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGluZGljYXRvciBBbiBpbmRpY2F0b3IuXG4gICAqL1xuICB0aGlzLnRyYW5zbGF0aW9uTm90Rm91bmRJbmRpY2F0b3JMZWZ0ID0gZnVuY3Rpb24gKGluZGljYXRvcikge1xuICAgIGlmICghaW5kaWNhdG9yKSB7XG4gICAgICByZXR1cm4gJG5vdEZvdW5kSW5kaWNhdG9yTGVmdDtcbiAgICB9XG4gICAgJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCA9IGluZGljYXRvcjtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAvKipcbiAgICogbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdHJhbnNsYXRpb25Ob3RGb3VuZEluZGljYXRvckxlZnRcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXRzIGFuIGluZGljYXRvciB3aGljaCBpcyB1c2VkIHdoZW4gYSB0cmFuc2xhdGlvbiBpc24ndCBmb3VuZCByaWdodCB0byB0aGVcbiAgICogdHJhbnNsYXRpb24gaWQuXG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBpbmRpY2F0b3IgQW4gaW5kaWNhdG9yLlxuICAgKi9cbiAgdGhpcy50cmFuc2xhdGlvbk5vdEZvdW5kSW5kaWNhdG9yUmlnaHQgPSBmdW5jdGlvbiAoaW5kaWNhdG9yKSB7XG4gICAgaWYgKCFpbmRpY2F0b3IpIHtcbiAgICAgIHJldHVybiAkbm90Rm91bmRJbmRpY2F0b3JSaWdodDtcbiAgICB9XG4gICAgJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHQgPSBpbmRpY2F0b3I7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNmYWxsYmFja0xhbmd1YWdlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgdGhlIG1vZHVsZSB3aGljaCBvZiB0aGUgcmVnaXN0ZXJlZCB0cmFuc2xhdGlvbiB0YWJsZXMgdG8gdXNlIHdoZW4gbWlzc2luZyB0cmFuc2xhdGlvbnNcbiAgICogYXQgaW5pdGlhbCBzdGFydHVwIGJ5IHBhc3NpbmcgYSBsYW5ndWFnZSBrZXkuIFNpbWlsYXIgdG8gYCR0cmFuc2xhdGVQcm92aWRlciN1c2VgXG4gICAqIG9ubHkgdGhhdCBpdCBzYXlzIHdoaWNoIGxhbmd1YWdlIHRvICoqZmFsbGJhY2sqKi5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd8fGFycmF5fSBsYW5nS2V5IEEgbGFuZ3VhZ2Uga2V5LlxuICAgKlxuICAgKi9cbiAgdGhpcy5mYWxsYmFja0xhbmd1YWdlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBmYWxsYmFja1N0YWNrKGxhbmdLZXkpO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIHZhciBmYWxsYmFja1N0YWNrID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICBpZiAobGFuZ0tleSkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNTdHJpbmcobGFuZ0tleSkpIHtcbiAgICAgICAgJGZhbGxiYWNrV2FzU3RyaW5nID0gdHJ1ZTtcbiAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UgPSBbIGxhbmdLZXkgXTtcbiAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc0FycmF5KGxhbmdLZXkpKSB7XG4gICAgICAgICRmYWxsYmFja1dhc1N0cmluZyA9IGZhbHNlO1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZSA9IGxhbmdLZXk7XG4gICAgICB9XG4gICAgICBpZiAoYW5ndWxhci5pc1N0cmluZygkcHJlZmVycmVkTGFuZ3VhZ2UpICAmJiBpbmRleE9mKCRmYWxsYmFja0xhbmd1YWdlLCAkcHJlZmVycmVkTGFuZ3VhZ2UpIDwgMCkge1xuICAgICAgICAkZmFsbGJhY2tMYW5ndWFnZS5wdXNoKCRwcmVmZXJyZWRMYW5ndWFnZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoJGZhbGxiYWNrV2FzU3RyaW5nKSB7XG4gICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZVswXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAkZmFsbGJhY2tMYW5ndWFnZTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBTZXQgd2hpY2ggdHJhbnNsYXRpb24gdGFibGUgdG8gdXNlIGZvciB0cmFuc2xhdGlvbiBieSBnaXZlbiBsYW5ndWFnZSBrZXkuIFdoZW5cbiAgICogdHJ5aW5nIHRvICd1c2UnIGEgbGFuZ3VhZ2Ugd2hpY2ggaXNuJ3QgcHJvdmlkZWQsIGl0J2xsIHRocm93IGFuIGVycm9yLlxuICAgKlxuICAgKiBZb3UgYWN0dWFsbHkgZG9uJ3QgaGF2ZSB0byB1c2UgdGhpcyBtZXRob2Qgc2luY2UgYCR0cmFuc2xhdGVQcm92aWRlciNwcmVmZXJyZWRMYW5ndWFnZWBcbiAgICogZG9lcyB0aGUgam9iIHRvby5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkuXG4gICAqL1xuICB0aGlzLnVzZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgaWYgKGxhbmdLZXkpIHtcbiAgICAgIGlmICghJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0gJiYgKCEkbG9hZGVyRmFjdG9yeSkpIHtcbiAgICAgICAgLy8gb25seSB0aHJvdyBhbiBlcnJvciwgd2hlbiBub3QgbG9hZGluZyB0cmFuc2xhdGlvbiBkYXRhIGFzeW5jaHJvbm91c2x5XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIiR0cmFuc2xhdGVQcm92aWRlciBjb3VsZG4ndCBmaW5kIHRyYW5zbGF0aW9uVGFibGUgZm9yIGxhbmdLZXk6ICdcIiArIGxhbmdLZXkgKyBcIidcIik7XG4gICAgICB9XG4gICAgICAkdXNlcyA9IGxhbmdLZXk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgcmV0dXJuICR1c2VzO1xuICB9O1xuXG4gLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNzdG9yYWdlS2V5XG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgdGhlIG1vZHVsZSB3aGljaCBrZXkgbXVzdCByZXByZXNlbnQgdGhlIGNob29zZWQgbGFuZ3VhZ2UgYnkgYSB1c2VyIGluIHRoZSBzdG9yYWdlLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IEEga2V5IGZvciB0aGUgc3RvcmFnZS5cbiAgICovXG4gIHZhciBzdG9yYWdlS2V5ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIGlmICgkc3RvcmFnZVByZWZpeCkge1xuICAgICAgICByZXR1cm4gJHN0b3JhZ2VQcmVmaXggKyAkc3RvcmFnZUtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAkc3RvcmFnZUtleTtcbiAgICB9XG4gICAgJHN0b3JhZ2VLZXkgPSBrZXk7XG4gIH07XG5cbiAgdGhpcy5zdG9yYWdlS2V5ID0gc3RvcmFnZUtleTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVVybExvYWRlclxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBgJHRyYW5zbGF0ZVVybExvYWRlcmAgZXh0ZW5zaW9uIHNlcnZpY2UgYXMgbG9hZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gdXJsIFVybFxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICovXG4gIHRoaXMudXNlVXJsTG9hZGVyID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnVzZUxvYWRlcignJHRyYW5zbGF0ZVVybExvYWRlcicsIGFuZ3VsYXIuZXh0ZW5kKHsgdXJsOiB1cmwgfSwgb3B0aW9ucykpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjdXNlU3RhdGljRmlsZXNMb2FkZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVTdGF0aWNGaWxlc0xvYWRlcmAgZXh0ZW5zaW9uIHNlcnZpY2UgYXMgbG9hZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdD19IG9wdGlvbnMgT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvYmplY3RcbiAgICovXG4gIHRoaXMudXNlU3RhdGljRmlsZXNMb2FkZXIgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLnVzZUxvYWRlcignJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyJywgb3B0aW9ucyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VMb2FkZXJcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYW55IG90aGVyIHNlcnZpY2UgYXMgbG9hZGVyLlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gbG9hZGVyRmFjdG9yeSBGYWN0b3J5IG5hbWUgdG8gdXNlXG4gICAqIEBwYXJhbSB7T2JqZWN0PX0gb3B0aW9ucyBPcHRpb25hbCBjb25maWd1cmF0aW9uIG9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VMb2FkZXIgPSBmdW5jdGlvbiAobG9hZGVyRmFjdG9yeSwgb3B0aW9ucykge1xuICAgICRsb2FkZXJGYWN0b3J5ID0gbG9hZGVyRmFjdG9yeTtcbiAgICAkbG9hZGVyT3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VMb2NhbFN0b3JhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVMb2NhbFN0b3JhZ2VgIHNlcnZpY2UgYXMgc3RvcmFnZSBsYXllci5cbiAgICpcbiAgICovXG4gIHRoaXMudXNlTG9jYWxTdG9yYWdlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZVN0b3JhZ2UoJyR0cmFuc2xhdGVMb2NhbFN0b3JhZ2UnKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUNvb2tpZVN0b3JhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgYCR0cmFuc2xhdGVDb29raWVTdG9yYWdlYCBzZXJ2aWNlIGFzIHN0b3JhZ2UgbGF5ZXIuXG4gICAqL1xuICB0aGlzLnVzZUNvb2tpZVN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNlU3RvcmFnZSgnJHRyYW5zbGF0ZUNvb2tpZVN0b3JhZ2UnKTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZVN0b3JhZ2VcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUZWxscyBhbmd1bGFyLXRyYW5zbGF0ZSB0byB1c2UgY3VzdG9tIHNlcnZpY2UgYXMgc3RvcmFnZSBsYXllci5cbiAgICovXG4gIHRoaXMudXNlU3RvcmFnZSA9IGZ1bmN0aW9uIChzdG9yYWdlRmFjdG9yeSkge1xuICAgICRzdG9yYWdlRmFjdG9yeSA9IHN0b3JhZ2VGYWN0b3J5O1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXIjc3RvcmFnZVByZWZpeFxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgcHJlZml4IGZvciBzdG9yYWdlIGtleS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHByZWZpeCBTdG9yYWdlIGtleSBwcmVmaXhcbiAgICovXG4gIHRoaXMuc3RvcmFnZVByZWZpeCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBpZiAoIXByZWZpeCkge1xuICAgICAgcmV0dXJuIHByZWZpeDtcbiAgICB9XG4gICAgJHN0b3JhZ2VQcmVmaXggPSBwcmVmaXg7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogVGVsbHMgYW5ndWxhci10cmFuc2xhdGUgdG8gdXNlIGJ1aWx0LWluIGxvZyBoYW5kbGVyIHdoZW4gdHJ5aW5nIHRvIHRyYW5zbGF0ZVxuICAgKiBhIHRyYW5zbGF0aW9uIElkIHdoaWNoIGRvZXNuJ3QgZXhpc3QuXG4gICAqXG4gICAqIFRoaXMgaXMgYWN0dWFsbHkgYSBzaG9ydGN1dCBtZXRob2QgZm9yIGB1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyKClgLlxuICAgKlxuICAgKi9cbiAgdGhpcy51c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIoJyR0cmFuc2xhdGVNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyTG9nJyk7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VNaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogRXhwZWN0cyBhIGZhY3RvcnkgbmFtZSB3aGljaCBsYXRlciBnZXRzIGluc3RhbnRpYXRlZCB3aXRoIGAkaW5qZWN0b3JgLlxuICAgKiBUaGlzIG1ldGhvZCBjYW4gYmUgdXNlZCB0byB0ZWxsIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHVzZSBhIGN1c3RvbVxuICAgKiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyLiBKdXN0IGJ1aWxkIGEgZmFjdG9yeSB3aGljaCByZXR1cm5zIGEgZnVuY3Rpb25cbiAgICogYW5kIGV4cGVjdHMgYSB0cmFuc2xhdGlvbiBpZCBhcyBhcmd1bWVudC5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogPHByZT5cbiAgICogIGFwcC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuICAgKiAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlcignY3VzdG9tSGFuZGxlcicpO1xuICAgKiAgfSk7XG4gICAqXG4gICAqICBhcHAuZmFjdG9yeSgnY3VzdG9tSGFuZGxlcicsIGZ1bmN0aW9uIChkZXAxLCBkZXAyKSB7XG4gICAqICAgIHJldHVybiBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgKiAgICAgIC8vIHNvbWV0aGluZyB3aXRoIHRyYW5zbGF0aW9uSWQgYW5kIGRlcDEgYW5kIGRlcDJcbiAgICogICAgfTtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY3RvcnkgRmFjdG9yeSBuYW1lXG4gICAqL1xuICB0aGlzLnVzZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgPSBmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgICRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciN1c2VQb3N0Q29tcGlsaW5nXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogSWYgcG9zdCBjb21waWxpbmcgaXMgZW5hYmxlZCwgYWxsIHRyYW5zbGF0ZWQgdmFsdWVzIHdpbGwgYmUgcHJvY2Vzc2VkXG4gICAqIGFnYWluIHdpdGggQW5ndWxhckpTJyAkY29tcGlsZS5cbiAgICpcbiAgICogRXhhbXBsZTpcbiAgICogPHByZT5cbiAgICogIGFwcC5jb25maWcoZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlcikge1xuICAgKiAgICAkdHJhbnNsYXRlUHJvdmlkZXIudXNlUG9zdENvbXBpbGluZyh0cnVlKTtcbiAgICogIH0pO1xuICAgKiA8L3ByZT5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGZhY3RvcnkgRmFjdG9yeSBuYW1lXG4gICAqL1xuICB0aGlzLnVzZVBvc3RDb21waWxpbmcgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAkcG9zdENvbXBpbGluZ0VuYWJsZWQgPSAhKCF2YWx1ZSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHRvIHRyeSB0byBkZXRlcm1pbmUgb24gaXRzIG93biB3aGljaCBsYW5ndWFnZSBrZXlcbiAgICogdG8gc2V0IGFzIHByZWZlcnJlZCBsYW5ndWFnZS4gV2hlbiBgZm5gIGlzIGdpdmVuLCBhbmd1bGFyLXRyYW5zbGF0ZSB1c2VzIGl0XG4gICAqIHRvIGRldGVybWluZSBhIGxhbmd1YWdlIGtleSwgb3RoZXJ3aXNlIGl0IHVzZXMgdGhlIGJ1aWx0LWluIGBnZXRMb2NhbGUoKWBcbiAgICogbWV0aG9kLlxuICAgKlxuICAgKiBUaGUgYGdldExvY2FsZSgpYCByZXR1cm5zIGEgbGFuZ3VhZ2Uga2V5IGluIHRoZSBmb3JtYXQgYFtsYW5nXV9bY291bnRyeV1gIG9yXG4gICAqIGBbbGFuZ11gIGRlcGVuZGluZyBvbiB3aGF0IHRoZSBicm93c2VyIHByb3ZpZGVzLlxuICAgKlxuICAgKiBVc2UgdGhpcyBtZXRob2QgYXQgeW91ciBvd24gcmlzaywgc2luY2Ugbm90IGFsbCBicm93c2VycyByZXR1cm4gYSB2YWxpZFxuICAgKiBsb2NhbGUuXG4gICAqXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gZm4gRnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGEgYnJvd3NlcidzIGxvY2FsZVxuICAgKi9cbiAgdGhpcy5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChmbikge1xuXG4gICAgdmFyIGxvY2FsZSA9IChmbiAmJiBhbmd1bGFyLmlzRnVuY3Rpb24oZm4pKSA/IGZuKCkgOiBnZXRMb2NhbGUoKTtcblxuICAgIGlmICghJGF2YWlsYWJsZUxhbmd1YWdlS2V5cy5sZW5ndGgpIHtcbiAgICAgICRwcmVmZXJyZWRMYW5ndWFnZSA9IGxvY2FsZTtcbiAgICB9IGVsc2Uge1xuICAgICAgJHByZWZlcnJlZExhbmd1YWdlID0gbmVnb3RpYXRlTG9jYWxlKGxvY2FsZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNyZWdpc3RlckF2YWlsYWJsZUxhbmd1YWdlS2V5c1xuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlUHJvdmlkZXJcbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFJlZ2lzdGVycyBhIHNldCBvZiBsYW5ndWFnZSBrZXlzIHRoZSBhcHAgd2lsbCB3b3JrIHdpdGguIFVzZSB0aGlzIG1ldGhvZCBpblxuICAgKiBjb21iaW5hdGlvbiB3aXRoXG4gICAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSBkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZX0uXG4gICAqIFdoZW4gYXZhaWxhYmxlIGxhbmd1YWdlcyBrZXlzIGFyZSByZWdpc3RlcmVkLCBhbmd1bGFyLXRyYW5zbGF0ZVxuICAgKiB0cmllcyB0byBmaW5kIHRoZSBiZXN0IGZpdHRpbmcgbGFuZ3VhZ2Uga2V5IGRlcGVuZGluZyBvbiB0aGUgYnJvd3NlcnMgbG9jYWxlLFxuICAgKiBjb25zaWRlcmluZyB5b3VyIGxhbmd1YWdlIGtleSBjb252ZW50aW9uLlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gbGFuZ3VhZ2VLZXlzIEFycmF5IG9mIGxhbmd1YWdlIGtleXMgdGhlIHlvdXIgYXBwIHdpbGwgdXNlXG4gICAqIEBwYXJhbSB7b2JqZWN0PX0gYWxpYXNlcyBBbGlhcyBtYXAuXG4gICAqL1xuICB0aGlzLnJlZ2lzdGVyQXZhaWxhYmxlTGFuZ3VhZ2VLZXlzID0gZnVuY3Rpb24gKGxhbmd1YWdlS2V5cywgYWxpYXNlcykge1xuICAgIGlmIChsYW5ndWFnZUtleXMpIHtcbiAgICAgICRhdmFpbGFibGVMYW5ndWFnZUtleXMgPSBsYW5ndWFnZUtleXM7XG4gICAgICBpZiAoYWxpYXNlcykge1xuICAgICAgICAkbGFuZ3VhZ2VLZXlBbGlhc2VzID0gYWxpYXNlcztcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZXR1cm4gJGF2YWlsYWJsZUxhbmd1YWdlS2V5cztcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI3VzZUxvYWRlckNhY2hlXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlclxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmVnaXN0ZXJzIGEgY2FjaGUgZm9yIGludGVybmFsICRodHRwIGJhc2VkIGxvYWRlcnMuXG4gICAqIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVQcm92aWRlciNkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSBkZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZX0uXG4gICAqIFdoZW4gZmFsc2UgdGhlIGNhY2hlIHdpbGwgYmUgZGlzYWJsZWQgKGRlZmF1bHQpLiBXaGVuIHRydWUgb3IgdW5kZWZpbmVkXG4gICAqIHRoZSBjYWNoZSB3aWxsIGJlIGEgZGVmYXVsdCAoc2VlICRjYWNoZUZhY3RvcnkpLiBXaGVuIGFuIG9iamVjdCBpdCB3aWxsXG4gICAqIGJlIHRyZWF0IGFzIGEgY2FjaGUgb2JqZWN0IGl0c2VsZjogdGhlIHVzYWdlIGlzICRodHRwKHtjYWNoZTogY2FjaGV9KVxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gY2FjaGUgYm9vbGVhbiwgc3RyaW5nIG9yIGNhY2hlLW9iamVjdFxuICAgKi9cbiAgdGhpcy51c2VMb2FkZXJDYWNoZSA9IGZ1bmN0aW9uIChjYWNoZSkge1xuICAgIGlmIChjYWNoZSA9PT0gZmFsc2UpIHtcbiAgICAgIC8vIGRpc2FibGUgY2FjaGVcbiAgICAgIGxvYWRlckNhY2hlID0gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSBpZiAoY2FjaGUgPT09IHRydWUpIHtcbiAgICAgIC8vIGVuYWJsZSBjYWNoZSB1c2luZyBBSlMgZGVmYXVsdHNcbiAgICAgIGxvYWRlckNhY2hlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZihjYWNoZSkgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAvLyBlbmFibGUgY2FjaGUgdXNpbmcgZGVmYXVsdFxuICAgICAgbG9hZGVyQ2FjaGUgPSAnJHRyYW5zbGF0aW9uQ2FjaGUnO1xuICAgIH0gZWxzZSBpZiAoY2FjaGUpIHtcbiAgICAgIC8vIGVuYWJsZSBjYWNoZSB1c2luZyBnaXZlbiBvbmUgKHNlZSAkY2FjaGVGYWN0b3J5KVxuICAgICAgbG9hZGVyQ2FjaGUgPSBjYWNoZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgLyoqXG4gICAqIEBuZ2RvYyBvYmplY3RcbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAqIEByZXF1aXJlcyAkaW50ZXJwb2xhdGVcbiAgICogQHJlcXVpcmVzICRsb2dcbiAgICogQHJlcXVpcmVzICRyb290U2NvcGVcbiAgICogQHJlcXVpcmVzICRxXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBUaGUgYCR0cmFuc2xhdGVgIHNlcnZpY2UgaXMgdGhlIGFjdHVhbCBjb3JlIG9mIGFuZ3VsYXItdHJhbnNsYXRlLiBJdCBleHBlY3RzIGEgdHJhbnNsYXRpb24gaWRcbiAgICogYW5kIG9wdGlvbmFsIGludGVycG9sYXRlIHBhcmFtZXRlcnMgdG8gdHJhbnNsYXRlIGNvbnRlbnRzLlxuICAgKlxuICAgKiA8cHJlPlxuICAgKiAgJHRyYW5zbGF0ZSgnSEVBRExJTkVfVEVYVCcpLnRoZW4oZnVuY3Rpb24gKHRyYW5zbGF0aW9uKSB7XG4gICAqICAgICRzY29wZS50cmFuc2xhdGVkVGV4dCA9IHRyYW5zbGF0aW9uO1xuICAgKiAgfSk7XG4gICAqIDwvcHJlPlxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ3xhcnJheX0gdHJhbnNsYXRpb25JZCBBIHRva2VuIHdoaWNoIHJlcHJlc2VudHMgYSB0cmFuc2xhdGlvbiBpZFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSBvcHRpb25hbGx5IGFuIGFycmF5IG9mIHRyYW5zbGF0aW9uIGlkcyB3aGljaFxuICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRzIHRoYXQgdGhlIGZ1bmN0aW9uIHJldHVybnMgYW4gb2JqZWN0IHdoZXJlIGVhY2gga2V5XG4gICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzIHRoZSB0cmFuc2xhdGlvbiBpZCBhbmQgdGhlIHZhbHVlIHRoZSB0cmFuc2xhdGlvbi5cbiAgICogQHBhcmFtIHtvYmplY3Q9fSBpbnRlcnBvbGF0ZVBhcmFtcyBBbiBvYmplY3QgaGFzaCBmb3IgZHluYW1pYyB2YWx1ZXNcbiAgICogQHBhcmFtIHtzdHJpbmd9IGludGVycG9sYXRpb25JZCBUaGUgaWQgb2YgdGhlIGludGVycG9sYXRpb24gdG8gdXNlXG4gICAqIEByZXR1cm5zIHtvYmplY3R9IHByb21pc2VcbiAgICovXG4gIHRoaXMuJGdldCA9IFtcbiAgICAnJGxvZycsXG4gICAgJyRpbmplY3RvcicsXG4gICAgJyRyb290U2NvcGUnLFxuICAgICckcScsXG4gICAgZnVuY3Rpb24gKCRsb2csICRpbmplY3RvciwgJHJvb3RTY29wZSwgJHEpIHtcblxuICAgICAgdmFyIFN0b3JhZ2UsXG4gICAgICAgICAgZGVmYXVsdEludGVycG9sYXRvciA9ICRpbmplY3Rvci5nZXQoJGludGVycG9sYXRpb25GYWN0b3J5IHx8ICckdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24nKSxcbiAgICAgICAgICBwZW5kaW5nTG9hZGVyID0gZmFsc2UsXG4gICAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcCA9IHt9LFxuICAgICAgICAgIGxhbmdQcm9taXNlcyA9IHt9LFxuICAgICAgICAgIGZhbGxiYWNrSW5kZXgsXG4gICAgICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbjtcblxuICAgICAgdmFyICR0cmFuc2xhdGUgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkge1xuXG4gICAgICAgIC8vIER1Y2sgZGV0ZWN0aW9uOiBJZiB0aGUgZmlyc3QgYXJndW1lbnQgaXMgYW4gYXJyYXksIGEgYnVuY2ggb2YgdHJhbnNsYXRpb25zIHdhcyByZXF1ZXN0ZWQuXG4gICAgICAgIC8vIFRoZSByZXN1bHQgaXMgYW4gb2JqZWN0LlxuICAgICAgICBpZiAoYW5ndWxhci5pc0FycmF5KHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgLy8gSW5zcGlyZWQgYnkgUS5hbGxTZXR0bGVkIGJ5IEtyaXMgS293YWxcbiAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20va3Jpc2tvd2FsL3EvYmxvYi9iMGZhNzI5ODA3MTdkYzIwMmZmYzNjYmYwM2I5MzZlMTBlYmJiOWQ3L3EuanMjTDE1NTMtMTU2M1xuICAgICAgICAgIC8vIFRoaXMgdHJhbnNmb3JtcyBhbGwgcHJvbWlzZXMgcmVnYXJkbGVzcyByZXNvbHZlZCBvciByZWplY3RlZFxuICAgICAgICAgIHZhciB0cmFuc2xhdGVBbGwgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZHMpIHtcbiAgICAgICAgICAgIHZhciByZXN1bHRzID0ge307IC8vIHN0b3JpbmcgdGhlIGFjdHVhbCByZXN1bHRzXG4gICAgICAgICAgICB2YXIgcHJvbWlzZXMgPSBbXTsgLy8gcHJvbWlzZXMgdG8gd2FpdCBmb3JcbiAgICAgICAgICAgIC8vIFdyYXBzIHRoZSBwcm9taXNlIGEpIGJlaW5nIGFsd2F5cyByZXNvbHZlZCBhbmQgYikgc3RvcmluZyB0aGUgbGluayBpZC0+dmFsdWVcbiAgICAgICAgICAgIHZhciB0cmFuc2xhdGUgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICAgICAgICB2YXIgcmVnYXJkbGVzcyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHNbdHJhbnNsYXRpb25JZF0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKFt0cmFuc2xhdGlvbklkLCB2YWx1ZV0pO1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAvLyB3ZSBkb24ndCBjYXJlIHdoZXRoZXIgdGhlIHByb21pc2Ugd2FzIHJlc29sdmVkIG9yIHJlamVjdGVkOyBqdXN0IHN0b3JlIHRoZSB2YWx1ZXNcbiAgICAgICAgICAgICAgJHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKS50aGVuKHJlZ2FyZGxlc3MsIHJlZ2FyZGxlc3MpO1xuICAgICAgICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgYyA9IHRyYW5zbGF0aW9uSWRzLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuICAgICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRyYW5zbGF0ZSh0cmFuc2xhdGlvbklkc1tpXSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gd2FpdCBmb3IgYWxsIChpbmNsdWRpbmcgc3RvcmluZyB0byByZXN1bHRzKVxuICAgICAgICAgICAgcmV0dXJuICRxLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIC8vIHJldHVybiB0aGUgcmVzdWx0c1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0ZUFsbCh0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgLy8gdHJpbSBvZmYgYW55IHdoaXRlc3BhY2VcbiAgICAgICAgaWYgKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICB0cmFuc2xhdGlvbklkID0gdHJpbS5hcHBseSh0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwcm9taXNlVG9XYWl0Rm9yID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcHJvbWlzZSA9ICRwcmVmZXJyZWRMYW5ndWFnZSA/XG4gICAgICAgICAgICBsYW5nUHJvbWlzZXNbJHByZWZlcnJlZExhbmd1YWdlXSA6XG4gICAgICAgICAgICBsYW5nUHJvbWlzZXNbJHVzZXNdO1xuXG4gICAgICAgICAgZmFsbGJhY2tJbmRleCA9IDA7XG5cbiAgICAgICAgICBpZiAoJHN0b3JhZ2VGYWN0b3J5ICYmICFwcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZXJlJ3Mgbm8gcGVuZGluZyBwcm9taXNlIGZvciAkcHJlZmVycmVkTGFuZ3VhZ2Ugb3JcbiAgICAgICAgICAgIC8vICR1c2VzLiBNYXliZSB0aGVyZSdzIG9uZSBwZW5kaW5nIGZvciBhIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbVxuICAgICAgICAgICAgLy8gc3RvcmFnZS5cbiAgICAgICAgICAgIHZhciBsYW5nS2V5ID0gU3RvcmFnZS5nZXQoJHN0b3JhZ2VLZXkpO1xuICAgICAgICAgICAgcHJvbWlzZSA9IGxhbmdQcm9taXNlc1tsYW5nS2V5XTtcblxuICAgICAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IGluZGV4T2YoJGZhbGxiYWNrTGFuZ3VhZ2UsIGxhbmdLZXkpO1xuICAgICAgICAgICAgICAgIC8vIG1heWJlIHRoZSBsYW5ndWFnZSBmcm9tIHN0b3JhZ2UgaXMgYWxzbyBkZWZpbmVkIGFzIGZhbGxiYWNrIGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgLy8gd2UgaW5jcmVhc2UgdGhlIGZhbGxiYWNrIGxhbmd1YWdlIGluZGV4IHRvIG5vdCBzZWFyY2ggaW4gdGhhdCBsYW5ndWFnZVxuICAgICAgICAgICAgICAgIC8vIGFzIGZhbGxiYWNrLCBzaW5jZSBpdCdzIHByb2JhYmx5IHRoZSBmaXJzdCB1c2VkIGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgLy8gaW4gdGhhdCBjYXNlIHRoZSBpbmRleCBzdGFydHMgYWZ0ZXIgdGhlIGZpcnN0IGVsZW1lbnRcbiAgICAgICAgICAgICAgICBmYWxsYmFja0luZGV4ID0gKGluZGV4ID09PSAwKSA/IDEgOiAwO1xuXG4gICAgICAgICAgICAgICAgLy8gYnV0IHdlIGNhbiBtYWtlIHN1cmUgdG8gQUxXQVlTIGZhbGxiYWNrIHRvIHByZWZlcnJlZCBsYW5ndWFnZSBhdCBsZWFzdFxuICAgICAgICAgICAgICAgIGlmIChpbmRleE9mKCRmYWxsYmFja0xhbmd1YWdlLCAkcHJlZmVycmVkTGFuZ3VhZ2UpIDwgMCkge1xuICAgICAgICAgICAgICAgICAgJGZhbGxiYWNrTGFuZ3VhZ2UucHVzaCgkcHJlZmVycmVkTGFuZ3VhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgIH0oKSk7XG5cbiAgICAgICAgaWYgKCFwcm9taXNlVG9XYWl0Rm9yKSB7XG4gICAgICAgICAgLy8gbm8gcHJvbWlzZSB0byB3YWl0IGZvcj8gb2theS4gVGhlbiB0aGVyZSdzIG5vIGxvYWRlciByZWdpc3RlcmVkXG4gICAgICAgICAgLy8gbm9yIGlzIGEgb25lIHBlbmRpbmcgZm9yIGxhbmd1YWdlIHRoYXQgY29tZXMgZnJvbSBzdG9yYWdlLlxuICAgICAgICAgIC8vIFdlIGNhbiBqdXN0IHRyYW5zbGF0ZS5cbiAgICAgICAgICBkZXRlcm1pbmVUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKS50aGVuKGRlZmVycmVkLnJlc29sdmUsIGRlZmVycmVkLnJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJvbWlzZVRvV2FpdEZvci50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGRldGVybWluZVRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpLnRoZW4oZGVmZXJyZWQucmVzb2x2ZSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgICB9LCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSBhcHBseU5vdEZvdW5kSW5kaWNhdG9yc1xuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEFwcGxpZXMgbm90IGZvdW50IGluZGljYXRvcnMgdG8gZ2l2ZW4gdHJhbnNsYXRpb24gaWQsIGlmIG5lZWRlZC5cbiAgICAgICAqIFRoaXMgZnVuY3Rpb24gZ2V0cyBvbmx5IGV4ZWN1dGVkLCBpZiBhIHRyYW5zbGF0aW9uIGlkIGRvZXNuJ3QgZXhpc3QsXG4gICAgICAgKiB3aGljaCBpcyB3aHkgYSB0cmFuc2xhdGlvbiBpZCBpcyBleHBlY3RlZCBhcyBhcmd1bWVudC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHJhbnNsYXRpb25JZCBUcmFuc2xhdGlvbiBpZC5cbiAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFNhbWUgYXMgZ2l2ZW4gdHJhbnNsYXRpb24gaWQgYnV0IGFwcGxpZWQgd2l0aCBub3QgZm91bmRcbiAgICAgICAqIGluZGljYXRvcnMuXG4gICAgICAgKi9cbiAgICAgIHZhciBhcHBseU5vdEZvdW5kSW5kaWNhdG9ycyA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgIC8vIGFwcGx5aW5nIG5vdEZvdW5kSW5kaWNhdG9yc1xuICAgICAgICBpZiAoJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCkge1xuICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSBbJG5vdEZvdW5kSW5kaWNhdG9yTGVmdCwgdHJhbnNsYXRpb25JZF0uam9pbignICcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkbm90Rm91bmRJbmRpY2F0b3JSaWdodCkge1xuICAgICAgICAgIHRyYW5zbGF0aW9uSWQgPSBbdHJhbnNsYXRpb25JZCwgJG5vdEZvdW5kSW5kaWNhdG9yUmlnaHRdLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgdXNlTGFuZ3VhZ2VcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBNYWtlcyBhY3R1YWwgdXNlIG9mIGEgbGFuZ3VhZ2UgYnkgc2V0dGluZyBhIGdpdmVuIGxhbmd1YWdlIGtleSBhcyB1c2VkXG4gICAgICAgKiBsYW5ndWFnZSBhbmQgaW5mb3JtcyByZWdpc3RlcmVkIGludGVycG9sYXRvcnMgdG8gYWxzbyB1c2UgdGhlIGdpdmVuXG4gICAgICAgKiBrZXkgYXMgbG9jYWxlLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7a2V5fSBMb2NhbGUga2V5LlxuICAgICAgICovXG4gICAgICB2YXIgdXNlTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICR1c2VzID0ga2V5O1xuICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlQ2hhbmdlU3VjY2VzcycsIHtsYW5ndWFnZToga2V5fSk7XG5cbiAgICAgICAgaWYgKCRzdG9yYWdlRmFjdG9yeSkge1xuICAgICAgICAgIFN0b3JhZ2UucHV0KCR0cmFuc2xhdGUuc3RvcmFnZUtleSgpLCAkdXNlcyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gaW5mb3JtIGRlZmF1bHQgaW50ZXJwb2xhdG9yXG4gICAgICAgIGRlZmF1bHRJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcbiAgICAgICAgLy8gaW5mb3JtIGFsbCBvdGhlcnMgdG9vIVxuICAgICAgICBhbmd1bGFyLmZvckVhY2goaW50ZXJwb2xhdG9ySGFzaE1hcCwgZnVuY3Rpb24gKGludGVycG9sYXRvciwgaWQpIHtcbiAgICAgICAgICBpbnRlcnBvbGF0b3JIYXNoTWFwW2lkXS5zZXRMb2NhbGUoJHVzZXMpO1xuICAgICAgICB9KTtcbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGxvYWRBc3luY1xuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIEtpY2tzIG9mIHJlZ2lzdGVyZWQgYXN5bmMgbG9hZGVyIHVzaW5nIGAkaW5qZWN0b3JgIGFuZCBhcHBsaWVzIGV4aXN0aW5nXG4gICAgICAgKiBsb2FkZXIgb3B0aW9ucy4gV2hlbiByZXNvbHZlZCwgaXQgdXBkYXRlcyB0cmFuc2xhdGlvbiB0YWJsZXMgYWNjb3JkaW5nbHlcbiAgICAgICAqIG9yIHJlamVjdHMgd2l0aCBnaXZlbiBsYW5ndWFnZSBrZXkuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBMYW5ndWFnZSBrZXkuXG4gICAgICAgKiBAcmV0dXJuIHtQcm9taXNlfSBBIHByb21pc2UuXG4gICAgICAgKi9cbiAgICAgIHZhciBsb2FkQXN5bmMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICgha2V5KSB7XG4gICAgICAgICAgdGhyb3cgJ05vIGxhbmd1YWdlIGtleSBzcGVjaWZpZWQgZm9yIGxvYWRpbmcuJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZUxvYWRpbmdTdGFydCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgIHBlbmRpbmdMb2FkZXIgPSB0cnVlO1xuXG4gICAgICAgIHZhciBjYWNoZSA9IGxvYWRlckNhY2hlO1xuICAgICAgICBpZiAodHlwZW9mKGNhY2hlKSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAvLyBnZXR0aW5nIG9uLWRlbWFuZCBpbnN0YW5jZSBvZiBsb2FkZXJcbiAgICAgICAgICBjYWNoZSA9ICRpbmplY3Rvci5nZXQoY2FjaGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGxvYWRlck9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgJGxvYWRlck9wdGlvbnMsIHtcbiAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAkaHR0cDogYW5ndWxhci5leHRlbmQoe30sIHtcbiAgICAgICAgICAgIGNhY2hlOiBjYWNoZVxuICAgICAgICAgIH0sICRsb2FkZXJPcHRpb25zLiRodHRwKVxuICAgICAgICB9KTtcblxuICAgICAgICAkaW5qZWN0b3IuZ2V0KCRsb2FkZXJGYWN0b3J5KShsb2FkZXJPcHRpb25zKS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgdmFyIHRyYW5zbGF0aW9uVGFibGUgPSB7fTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ1N1Y2Nlc3MnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuXG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShkYXRhKSkge1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGRhdGEsIGZ1bmN0aW9uICh0YWJsZSkge1xuICAgICAgICAgICAgICBhbmd1bGFyLmV4dGVuZCh0cmFuc2xhdGlvblRhYmxlLCBmbGF0T2JqZWN0KHRhYmxlKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYW5ndWxhci5leHRlbmQodHJhbnNsYXRpb25UYWJsZSwgZmxhdE9iamVjdChkYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBlbmRpbmdMb2FkZXIgPSBmYWxzZTtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHtcbiAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgdGFibGU6IHRyYW5zbGF0aW9uVGFibGVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ0VuZCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ0Vycm9yJywge2xhbmd1YWdlOiBrZXl9KTtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3Qoa2V5KTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlTG9hZGluZ0VuZCcsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIGlmICgkc3RvcmFnZUZhY3RvcnkpIHtcbiAgICAgICAgU3RvcmFnZSA9ICRpbmplY3Rvci5nZXQoJHN0b3JhZ2VGYWN0b3J5KTtcblxuICAgICAgICBpZiAoIVN0b3JhZ2UuZ2V0IHx8ICFTdG9yYWdlLnB1dCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCB1c2Ugc3RvcmFnZSBcXCcnICsgJHN0b3JhZ2VGYWN0b3J5ICsgJ1xcJywgbWlzc2luZyBnZXQoKSBvciBwdXQoKSBtZXRob2QhJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gYXBwbHkgYWRkaXRpb25hbCBzZXR0aW5nc1xuICAgICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihkZWZhdWx0SW50ZXJwb2xhdG9yLnVzZVNhbml0aXplVmFsdWVTdHJhdGVneSkpIHtcbiAgICAgICAgZGVmYXVsdEludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3koJGludGVycG9sYXRpb25TYW5pdGl6YXRpb25TdHJhdGVneSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGlmIHdlIGhhdmUgYWRkaXRpb25hbCBpbnRlcnBvbGF0aW9ucyB0aGF0IHdlcmUgYWRkZWQgdmlhXG4gICAgICAvLyAkdHJhbnNsYXRlUHJvdmlkZXIuYWRkSW50ZXJwb2xhdGlvbigpLCB3ZSBoYXZlIHRvIG1hcCdlbVxuICAgICAgaWYgKCRpbnRlcnBvbGF0b3JGYWN0b3JpZXMubGVuZ3RoKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaCgkaW50ZXJwb2xhdG9yRmFjdG9yaWVzLCBmdW5jdGlvbiAoaW50ZXJwb2xhdG9yRmFjdG9yeSkge1xuICAgICAgICAgIHZhciBpbnRlcnBvbGF0b3IgPSAkaW5qZWN0b3IuZ2V0KGludGVycG9sYXRvckZhY3RvcnkpO1xuICAgICAgICAgIC8vIHNldHRpbmcgaW5pdGlhbCBsb2NhbGUgZm9yIGVhY2ggaW50ZXJwb2xhdGlvbiBzZXJ2aWNlXG4gICAgICAgICAgaW50ZXJwb2xhdG9yLnNldExvY2FsZSgkcHJlZmVycmVkTGFuZ3VhZ2UgfHwgJHVzZXMpO1xuICAgICAgICAgIC8vIGFwcGx5IGFkZGl0aW9uYWwgc2V0dGluZ3NcbiAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKGludGVycG9sYXRvci51c2VTYW5pdGl6ZVZhbHVlU3RyYXRlZ3kpKSB7XG4gICAgICAgICAgICBpbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5KCRpbnRlcnBvbGF0aW9uU2FuaXRpemF0aW9uU3RyYXRlZ3kpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBtYWtlJ2VtIHJlY29nbml6YWJsZSB0aHJvdWdoIGlkXG4gICAgICAgICAgaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0b3IuZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXIoKV0gPSBpbnRlcnBvbGF0b3I7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvKipcbiAgICAgICAqIEBuYW1lIGdldFRyYW5zbGF0aW9uVGFibGVcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSB0cmFuc2xhdGlvbiB0YWJsZVxuICAgICAgICogb3IgaXMgcmVqZWN0ZWQgaWYgYW4gZXJyb3Igb2NjdXJyZWQuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIGxhbmdLZXlcbiAgICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9XG4gICAgICAgKi9cbiAgICAgIHZhciBnZXRUcmFuc2xhdGlvblRhYmxlID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCgkdHJhbnNsYXRpb25UYWJsZSwgbGFuZ0tleSkpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldKTtcbiAgICAgICAgfSBlbHNlIGlmIChsYW5nUHJvbWlzZXNbbGFuZ0tleV0pIHtcbiAgICAgICAgICBsYW5nUHJvbWlzZXNbbGFuZ0tleV0udGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgdHJhbnNsYXRpb25zKGRhdGEua2V5LCBkYXRhLnRhYmxlKTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZGF0YS50YWJsZSk7XG4gICAgICAgICAgfSwgZGVmZXJyZWQucmVqZWN0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvblxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgYSBwcm9taXNlIHRoYXQgd2lsbCByZXNvbHZlIHRvIHRoZSB0cmFuc2xhdGlvblxuICAgICAgICogb3IgYmUgcmVqZWN0ZWQgaWYgbm8gdHJhbnNsYXRpb24gd2FzIGZvdW5kIGZvciB0aGUgbGFuZ3VhZ2UuXG4gICAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGN1cnJlbnRseSBvbmx5IHVzZWQgZm9yIGZhbGxiYWNrIGxhbmd1YWdlIHRyYW5zbGF0aW9uLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBsYW5nS2V5IFRoZSBsYW5ndWFnZSB0byB0cmFuc2xhdGUgdG8uXG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7US5wcm9taXNlfVxuICAgICAgICovXG4gICAgICB2YXIgZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uIChsYW5nS2V5LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgZ2V0VHJhbnNsYXRpb25UYWJsZShsYW5nS2V5KS50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvblRhYmxlKSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0cmFuc2xhdGlvblRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgICAgSW50ZXJwb2xhdG9yLnNldExvY2FsZShsYW5nS2V5KTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25JZF0sIGludGVycG9sYXRlUGFyYW1zKSk7XG4gICAgICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LCBkZWZlcnJlZC5yZWplY3QpO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSBnZXRGYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudFxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgYSB0cmFuc2xhdGlvblxuICAgICAgICogVGhpcyBmdW5jdGlvbiBpcyBjdXJyZW50bHkgb25seSB1c2VkIGZvciBmYWxsYmFjayBsYW5ndWFnZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gbGFuZ0tleSBUaGUgbGFuZ3VhZ2UgdG8gdHJhbnNsYXRlIHRvLlxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEBwYXJhbSBpbnRlcnBvbGF0ZVBhcmFtc1xuICAgICAgICogQHBhcmFtIEludGVycG9sYXRvclxuICAgICAgICogQHJldHVybnMge3N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgICAqL1xuICAgICAgdmFyIGdldEZhbGxiYWNrVHJhbnNsYXRpb25JbnN0YW50ID0gZnVuY3Rpb24gKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpIHtcbiAgICAgICAgdmFyIHJlc3VsdCwgdHJhbnNsYXRpb25UYWJsZSA9ICR0cmFuc2xhdGlvblRhYmxlW2xhbmdLZXldO1xuXG4gICAgICAgIGlmICh0cmFuc2xhdGlvblRhYmxlICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0cmFuc2xhdGlvblRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIEludGVycG9sYXRvci5zZXRMb2NhbGUobGFuZ0tleSk7XG4gICAgICAgICAgcmVzdWx0ID0gSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uVGFibGVbdHJhbnNsYXRpb25JZF0sIGludGVycG9sYXRlUGFyYW1zKTtcbiAgICAgICAgICBJbnRlcnBvbGF0b3Iuc2V0TG9jYWxlKCR1c2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG5cbiAgICAgIC8qKlxuICAgICAgICogQG5hbWUgdHJhbnNsYXRlQnlIYW5kbGVyXG4gICAgICAgKiBAcHJpdmF0ZVxuICAgICAgICpcbiAgICAgICAqIFRyYW5zbGF0ZSBieSBtaXNzaW5nIHRyYW5zbGF0aW9uIGhhbmRsZXIuXG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHRyYW5zbGF0aW9uSWRcbiAgICAgICAqIEByZXR1cm5zIHRyYW5zbGF0aW9uIGNyZWF0ZWQgYnkgJG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXIgb3IgdHJhbnNsYXRpb25JZCBpcyAkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlciBpc1xuICAgICAgICogYWJzZW50XG4gICAgICAgKi9cbiAgICAgIHZhciB0cmFuc2xhdGVCeUhhbmRsZXIgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCkge1xuICAgICAgICAvLyBJZiB3ZSBoYXZlIGEgaGFuZGxlciBmYWN0b3J5IC0gd2UgbWlnaHQgYWxzbyBjYWxsIGl0IGhlcmUgdG8gZGV0ZXJtaW5lIGlmIGl0IHByb3ZpZGVzXG4gICAgICAgIC8vIGEgZGVmYXVsdCB0ZXh0IGZvciBhIHRyYW5zbGF0aW9uaWQgdGhhdCBjYW4ndCBiZSBmb3VuZCBhbnl3aGVyZSBpbiBvdXIgdGFibGVzXG4gICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0U3RyaW5nID0gJGluamVjdG9yLmdldCgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkpKHRyYW5zbGF0aW9uSWQsICR1c2VzKTtcbiAgICAgICAgICBpZiAocmVzdWx0U3RyaW5nICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRTdHJpbmc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2xhdGlvbklkO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZVxuICAgICAgICogQHByaXZhdGVcbiAgICAgICAqXG4gICAgICAgKiBSZWN1cnNpdmUgaGVscGVyIGZ1bmN0aW9uIGZvciBmYWxsYmFja1RyYW5zbGF0aW9uIHRoYXQgd2lsbCBzZXF1ZW50aWFsbHkgbG9va1xuICAgICAgICogZm9yIGEgdHJhbnNsYXRpb24gaW4gdGhlIGZhbGxiYWNrTGFuZ3VhZ2VzIHN0YXJ0aW5nIHdpdGggZmFsbGJhY2tMYW5ndWFnZUluZGV4LlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSBmYWxsYmFja0xhbmd1YWdlSW5kZXhcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9IFByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgdG8gdGhlIHRyYW5zbGF0aW9uLlxuICAgICAgICovXG4gICAgICB2YXIgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoZmFsbGJhY2tMYW5ndWFnZUluZGV4LCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgaWYgKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCA8ICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBsYW5nS2V5ID0gJGZhbGxiYWNrTGFuZ3VhZ2VbZmFsbGJhY2tMYW5ndWFnZUluZGV4XTtcbiAgICAgICAgICBnZXRGYWxsYmFja1RyYW5zbGF0aW9uKGxhbmdLZXksIHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBJbnRlcnBvbGF0b3IpLnRoZW4oXG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlLFxuICAgICAgICAgICAgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAvLyBMb29rIGluIHRoZSBuZXh0IGZhbGxiYWNrIGxhbmd1YWdlIGZvciBhIHRyYW5zbGF0aW9uLlxuICAgICAgICAgICAgICAvLyBJdCBkZWxheXMgdGhlIHJlc29sdmluZyBieSBwYXNzaW5nIGFub3RoZXIgcHJvbWlzZSB0byByZXNvbHZlLlxuICAgICAgICAgICAgICByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZShmYWxsYmFja0xhbmd1YWdlSW5kZXggKyAxLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKS50aGVuKGRlZmVycmVkLnJlc29sdmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gTm8gdHJhbnNsYXRpb24gZm91bmQgaW4gYW55IGZhbGxiYWNrIGxhbmd1YWdlXG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGVCeUhhbmRsZXIodHJhbnNsYXRpb25JZCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmFtZSByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnRcbiAgICAgICAqIEBwcml2YXRlXG4gICAgICAgKlxuICAgICAgICogUmVjdXJzaXZlIGhlbHBlciBmdW5jdGlvbiBmb3IgZmFsbGJhY2tUcmFuc2xhdGlvbiB0aGF0IHdpbGwgc2VxdWVudGlhbGx5IGxvb2tcbiAgICAgICAqIGZvciBhIHRyYW5zbGF0aW9uIGluIHRoZSBmYWxsYmFja0xhbmd1YWdlcyBzdGFydGluZyB3aXRoIGZhbGxiYWNrTGFuZ3VhZ2VJbmRleC5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0gZmFsbGJhY2tMYW5ndWFnZUluZGV4XG4gICAgICAgKiBAcGFyYW0gdHJhbnNsYXRpb25JZFxuICAgICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zXG4gICAgICAgKiBAcGFyYW0gSW50ZXJwb2xhdG9yXG4gICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSB0cmFuc2xhdGlvblxuICAgICAgICovXG4gICAgICB2YXIgcmVzb2x2ZUZvckZhbGxiYWNrTGFuZ3VhZ2VJbnN0YW50ID0gZnVuY3Rpb24gKGZhbGxiYWNrTGFuZ3VhZ2VJbmRleCwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcikge1xuICAgICAgICB2YXIgcmVzdWx0O1xuXG4gICAgICAgIGlmIChmYWxsYmFja0xhbmd1YWdlSW5kZXggPCAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICB2YXIgbGFuZ0tleSA9ICRmYWxsYmFja0xhbmd1YWdlW2ZhbGxiYWNrTGFuZ3VhZ2VJbmRleF07XG4gICAgICAgICAgcmVzdWx0ID0gZ2V0RmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQobGFuZ0tleSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICAgICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHJlc29sdmVGb3JGYWxsYmFja0xhbmd1YWdlSW5zdGFudChmYWxsYmFja0xhbmd1YWdlSW5kZXggKyAxLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNsYXRlcyB3aXRoIHRoZSB1c2FnZSBvZiB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtRLnByb21pc2V9IFByb21pc2UsIHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHRyYW5zbGF0aW9uLlxuICAgICAgICovXG4gICAgICB2YXIgZmFsbGJhY2tUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIGZhbGxiYWNrTGFuZ3VhZ2Ugd2l0aCBpbmRleCAwXG4gICAgICAgIHJldHVybiByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZSgoc3RhcnRGYWxsYmFja0l0ZXJhdGlvbj4wID8gc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA6IGZhbGxiYWNrSW5kZXgpLCB0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKTtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogVHJhbnNsYXRlcyB3aXRoIHRoZSB1c2FnZSBvZiB0aGUgZmFsbGJhY2sgbGFuZ3VhZ2VzLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB0cmFuc2xhdGlvbklkXG4gICAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXNcbiAgICAgICAqIEBwYXJhbSBJbnRlcnBvbGF0b3JcbiAgICAgICAqIEByZXR1cm5zIHtTdHJpbmd9IHRyYW5zbGF0aW9uXG4gICAgICAgKi9cbiAgICAgIHZhciBmYWxsYmFja1RyYW5zbGF0aW9uSW5zdGFudCA9IGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKSB7XG4gICAgICAgIC8vIFN0YXJ0IHdpdGggdGhlIGZhbGxiYWNrTGFuZ3VhZ2Ugd2l0aCBpbmRleCAwXG4gICAgICAgIHJldHVybiByZXNvbHZlRm9yRmFsbGJhY2tMYW5ndWFnZUluc3RhbnQoKHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24+MCA/IHN0YXJ0RmFsbGJhY2tJdGVyYXRpb24gOiBmYWxsYmFja0luZGV4KSwgdHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICB9O1xuXG4gICAgICB2YXIgZGV0ZXJtaW5lVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkge1xuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgdmFyIHRhYmxlID0gJHVzZXMgPyAkdHJhbnNsYXRpb25UYWJsZVskdXNlc10gOiAkdHJhbnNsYXRpb25UYWJsZSxcbiAgICAgICAgICAgIEludGVycG9sYXRvciA9IChpbnRlcnBvbGF0aW9uSWQpID8gaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0aW9uSWRdIDogZGVmYXVsdEludGVycG9sYXRvcjtcblxuICAgICAgICAvLyBpZiB0aGUgdHJhbnNsYXRpb24gaWQgZXhpc3RzLCB3ZSBjYW4ganVzdCBpbnRlcnBvbGF0ZSBpdFxuICAgICAgICBpZiAodGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IHRhYmxlW3RyYW5zbGF0aW9uSWRdO1xuXG4gICAgICAgICAgLy8gSWYgdXNpbmcgbGluaywgcmVydW4gJHRyYW5zbGF0ZSB3aXRoIGxpbmtlZCB0cmFuc2xhdGlvbklkIGFuZCByZXR1cm4gaXRcbiAgICAgICAgICBpZiAodHJhbnNsYXRpb24uc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG5cbiAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb24uc3Vic3RyKDIpLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKVxuICAgICAgICAgICAgICAudGhlbihkZWZlcnJlZC5yZXNvbHZlLCBkZWZlcnJlZC5yZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbiwgaW50ZXJwb2xhdGVQYXJhbXMpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcbiAgICAgICAgICAvLyBmb3IgbG9nZ2luZyBwdXJwb3NlcyBvbmx5IChhcyBpbiAkdHJhbnNsYXRlTWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckxvZyksIHZhbHVlIGlzIG5vdCByZXR1cm5lZCB0byBwcm9taXNlXG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xuICAgICAgICAgICAgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIHNpbmNlIHdlIGNvdWxkbid0IHRyYW5zbGF0ZSB0aGUgaW5pdGFsIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCxcbiAgICAgICAgICAvLyB3ZSB0cnkgaXQgbm93IHdpdGggb25lIG9yIG1vcmUgZmFsbGJhY2sgbGFuZ3VhZ2VzLCBpZiBmYWxsYmFjayBsYW5ndWFnZShzKSBpc1xuICAgICAgICAgIC8vIGNvbmZpZ3VyZWQuXG4gICAgICAgICAgaWYgKCR1c2VzICYmICRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgICAgZmFsbGJhY2tUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgSW50ZXJwb2xhdG9yKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICh0cmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cmFuc2xhdGlvbik7XG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24gKF90cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoYXBwbHlOb3RGb3VuZEluZGljYXRvcnMoX3RyYW5zbGF0aW9uSWQpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2UgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlciAmJiBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIC8vIGxvb2tzIGxpa2UgdGhlIHJlcXVlc3RlZCB0cmFuc2xhdGlvbiBpZCBkb2Vzbid0IGV4aXN0cy5cbiAgICAgICAgICAgIC8vIE5vdywgaWYgdGhlcmUgaXMgYSByZWdpc3RlcmVkIGhhbmRsZXIgZm9yIG1pc3NpbmcgdHJhbnNsYXRpb25zIGFuZCBub1xuICAgICAgICAgICAgLy8gYXN5bmNMb2FkZXIgaXMgcGVuZGluZywgd2UgZXhlY3V0ZSB0aGUgaGFuZGxlclxuICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb24pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCkge1xuXG4gICAgICAgIHZhciByZXN1bHQsIHRhYmxlID0gJHVzZXMgPyAkdHJhbnNsYXRpb25UYWJsZVskdXNlc10gOiAkdHJhbnNsYXRpb25UYWJsZSxcbiAgICAgICAgICAgIEludGVycG9sYXRvciA9IChpbnRlcnBvbGF0aW9uSWQpID8gaW50ZXJwb2xhdG9ySGFzaE1hcFtpbnRlcnBvbGF0aW9uSWRdIDogZGVmYXVsdEludGVycG9sYXRvcjtcblxuICAgICAgICAvLyBpZiB0aGUgdHJhbnNsYXRpb24gaWQgZXhpc3RzLCB3ZSBjYW4ganVzdCBpbnRlcnBvbGF0ZSBpdFxuICAgICAgICBpZiAodGFibGUgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhYmxlLCB0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIHZhciB0cmFuc2xhdGlvbiA9IHRhYmxlW3RyYW5zbGF0aW9uSWRdO1xuXG4gICAgICAgICAgLy8gSWYgdXNpbmcgbGluaywgcmVydW4gJHRyYW5zbGF0ZSB3aXRoIGxpbmtlZCB0cmFuc2xhdGlvbklkIGFuZCByZXR1cm4gaXRcbiAgICAgICAgICBpZiAodHJhbnNsYXRpb24uc3Vic3RyKDAsIDIpID09PSAnQDonKSB7XG4gICAgICAgICAgICByZXN1bHQgPSBkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQodHJhbnNsYXRpb24uc3Vic3RyKDIpLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gSW50ZXJwb2xhdG9yLmludGVycG9sYXRlKHRyYW5zbGF0aW9uLCBpbnRlcnBvbGF0ZVBhcmFtcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyVHJhbnNsYXRpb247XG4gICAgICAgICAgLy8gZm9yIGxvZ2dpbmcgcHVycG9zZXMgb25seSAoYXMgaW4gJHRyYW5zbGF0ZU1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJMb2cpLCB2YWx1ZSBpcyBub3QgcmV0dXJuZWQgdG8gcHJvbWlzZVxuICAgICAgICAgIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIpIHtcbiAgICAgICAgICAgIG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbiA9IHRyYW5zbGF0ZUJ5SGFuZGxlcih0cmFuc2xhdGlvbklkKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBzaW5jZSB3ZSBjb3VsZG4ndCB0cmFuc2xhdGUgdGhlIGluaXRhbCByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQsXG4gICAgICAgICAgLy8gd2UgdHJ5IGl0IG5vdyB3aXRoIG9uZSBvciBtb3JlIGZhbGxiYWNrIGxhbmd1YWdlcywgaWYgZmFsbGJhY2sgbGFuZ3VhZ2UocykgaXNcbiAgICAgICAgICAvLyBjb25maWd1cmVkLlxuICAgICAgICAgIGlmICgkdXNlcyAmJiAkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZhbGxiYWNrSW5kZXggPSAwO1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsbGJhY2tUcmFuc2xhdGlvbkluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIEludGVycG9sYXRvcik7XG4gICAgICAgICAgfSBlbHNlIGlmICgkbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlckZhY3RvcnkgJiYgIXBlbmRpbmdMb2FkZXIgJiYgbWlzc2luZ1RyYW5zbGF0aW9uSGFuZGxlclRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAvLyBsb29rcyBsaWtlIHRoZSByZXF1ZXN0ZWQgdHJhbnNsYXRpb24gaWQgZG9lc24ndCBleGlzdHMuXG4gICAgICAgICAgICAvLyBOb3csIGlmIHRoZXJlIGlzIGEgcmVnaXN0ZXJlZCBoYW5kbGVyIGZvciBtaXNzaW5nIHRyYW5zbGF0aW9ucyBhbmQgbm9cbiAgICAgICAgICAgIC8vIGFzeW5jTG9hZGVyIGlzIHBlbmRpbmcsIHdlIGV4ZWN1dGUgdGhlIGhhbmRsZXJcbiAgICAgICAgICAgIHJlc3VsdCA9IG1pc3NpbmdUcmFuc2xhdGlvbkhhbmRsZXJUcmFuc2xhdGlvbjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0ID0gYXBwbHlOb3RGb3VuZEluZGljYXRvcnModHJhbnNsYXRpb25JZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcHJlZmVycmVkTGFuZ3VhZ2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGxhbmd1YWdlIGtleSBmb3IgdGhlIHByZWZlcnJlZCBsYW5ndWFnZS5cbiAgICAgICAqXG4gICAgICAgKiBAcGFyYW0ge3N0cmluZ30gbGFuZ0tleSBsYW5ndWFnZSBTdHJpbmcgb3IgQXJyYXkgdG8gYmUgdXNlZCBhcyBwcmVmZXJyZWRMYW5ndWFnZSAoY2hhbmdpbmcgYXQgcnVudGltZSlcbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IHByZWZlcnJlZCBsYW5ndWFnZSBrZXlcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5wcmVmZXJyZWRMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIGlmKGxhbmdLZXkpIHtcbiAgICAgICAgICBzZXR1cFByZWZlcnJlZExhbmd1YWdlKGxhbmdLZXkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkcHJlZmVycmVkTGFuZ3VhZ2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2Nsb2FrQ2xhc3NOYW1lXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBjb25maWd1cmVkIGNsYXNzIG5hbWUgZm9yIGB0cmFuc2xhdGUtY2xvYWtgIGRpcmVjdGl2ZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGNsb2FrQ2xhc3NOYW1lXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkY2xvYWtDbGFzc05hbWU7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2ZhbGxiYWNrTGFuZ3VhZ2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGxhbmd1YWdlIGtleSBmb3IgdGhlIGZhbGxiYWNrIGxhbmd1YWdlcyBvciBzZXRzIGEgbmV3IGZhbGxiYWNrIHN0YWNrLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbGFuZ0tleSBsYW5ndWFnZSBTdHJpbmcgb3IgQXJyYXkgb2YgZmFsbGJhY2sgbGFuZ3VhZ2VzIHRvIGJlIHVzZWQgKHRvIGNoYW5nZSBzdGFjayBhdCBydW50aW1lKVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ3x8YXJyYXl9IGZhbGxiYWNrIGxhbmd1YWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLmZhbGxiYWNrTGFuZ3VhZ2UgPSBmdW5jdGlvbiAobGFuZ0tleSkge1xuICAgICAgICBpZiAobGFuZ0tleSAhPT0gdW5kZWZpbmVkICYmIGxhbmdLZXkgIT09IG51bGwpIHtcbiAgICAgICAgICBmYWxsYmFja1N0YWNrKGxhbmdLZXkpO1xuXG4gICAgICAgICAgLy8gYXMgd2UgbWlnaHQgaGF2ZSBhbiBhc3luYyBsb2FkZXIgaW5pdGlhdGVkIGFuZCBhIG5ldyB0cmFuc2xhdGlvbiBsYW5ndWFnZSBtaWdodCBoYXZlIGJlZW4gZGVmaW5lZFxuICAgICAgICAgIC8vIHdlIG5lZWQgdG8gYWRkIHRoZSBwcm9taXNlIHRvIHRoZSBzdGFjayBhbHNvLiBTbyAtIGl0ZXJhdGUuXG4gICAgICAgICAgaWYgKCRsb2FkZXJGYWN0b3J5KSB7XG4gICAgICAgICAgICBpZiAoJGZhbGxiYWNrTGFuZ3VhZ2UgJiYgJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICghbGFuZ1Byb21pc2VzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSkge1xuICAgICAgICAgICAgICAgICAgbGFuZ1Byb21pc2VzWyRmYWxsYmFja0xhbmd1YWdlW2ldXSA9IGxvYWRBc3luYygkZmFsbGJhY2tMYW5ndWFnZVtpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgICR0cmFuc2xhdGUudXNlKCR0cmFuc2xhdGUudXNlKCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkZmFsbGJhY2tXYXNTdHJpbmcpIHtcbiAgICAgICAgICByZXR1cm4gJGZhbGxiYWNrTGFuZ3VhZ2VbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuICRmYWxsYmFja0xhbmd1YWdlO1xuICAgICAgICB9XG5cbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdXNlRmFsbGJhY2tMYW5ndWFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogU2V0cyB0aGUgZmlyc3Qga2V5IG9mIHRoZSBmYWxsYmFjayBsYW5ndWFnZSBzdGFjayB0byBiZSB1c2VkIGZvciB0cmFuc2xhdGlvbi5cbiAgICAgICAqIFRoZXJlZm9yZSBhbGwgbGFuZ3VhZ2VzIGluIHRoZSBmYWxsYmFjayBhcnJheSBCRUZPUkUgdGhpcyBrZXkgd2lsbCBiZSBza2lwcGVkIVxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gbGFuZ0tleSBDb250YWlucyB0aGUgbGFuZ0tleSB0aGUgaXRlcmF0aW9uIHNoYWxsIHN0YXJ0IHdpdGguIFNldCB0byBmYWxzZSBpZiB5b3Ugd2FudCB0b1xuICAgICAgICogZ2V0IGJhY2sgdG8gdGhlIHdob2xlIHN0YWNrXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUudXNlRmFsbGJhY2tMYW5ndWFnZSA9IGZ1bmN0aW9uIChsYW5nS2V5KSB7XG4gICAgICAgIGlmIChsYW5nS2V5ICE9PSB1bmRlZmluZWQgJiYgbGFuZ0tleSAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmICghbGFuZ0tleSkge1xuICAgICAgICAgICAgc3RhcnRGYWxsYmFja0l0ZXJhdGlvbiA9IDA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBsYW5nS2V5UG9zaXRpb24gPSBpbmRleE9mKCRmYWxsYmFja0xhbmd1YWdlLCBsYW5nS2V5KTtcbiAgICAgICAgICAgIGlmIChsYW5nS2V5UG9zaXRpb24gPiAtMSkge1xuICAgICAgICAgICAgICBzdGFydEZhbGxiYWNrSXRlcmF0aW9uID0gbGFuZ0tleVBvc2l0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICB9XG5cbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcHJvcG9zZWRMYW5ndWFnZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgbGFuZ3VhZ2Uga2V5IG9mIGxhbmd1YWdlIHRoYXQgaXMgY3VycmVudGx5IGxvYWRlZCBhc3luY2hyb25vdXNseS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGxhbmd1YWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnByb3Bvc2VkTGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAkbmV4dExhbmc7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3N0b3JhZ2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgcmVnaXN0ZXJlZCBzdG9yYWdlLlxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge29iamVjdH0gU3RvcmFnZVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnN0b3JhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBTdG9yYWdlO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSN1c2VcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFRlbGxzIGFuZ3VsYXItdHJhbnNsYXRlIHdoaWNoIGxhbmd1YWdlIHRvIHVzZSBieSBnaXZlbiBsYW5ndWFnZSBrZXkuIFRoaXMgbWV0aG9kIGlzXG4gICAgICAgKiB1c2VkIHRvIGNoYW5nZSBsYW5ndWFnZSBhdCBydW50aW1lLiBJdCBhbHNvIHRha2VzIGNhcmUgb2Ygc3RvcmluZyB0aGUgbGFuZ3VhZ2VcbiAgICAgICAqIGtleSBpbiBhIGNvbmZpZ3VyZWQgc3RvcmUgdG8gbGV0IHlvdXIgYXBwIHJlbWVtYmVyIHRoZSBjaG9vc2VkIGxhbmd1YWdlLlxuICAgICAgICpcbiAgICAgICAqIFdoZW4gdHJ5aW5nIHRvICd1c2UnIGEgbGFuZ3VhZ2Ugd2hpY2ggaXNuJ3QgYXZhaWxhYmxlIGl0IHRyaWVzIHRvIGxvYWQgaXRcbiAgICAgICAqIGFzeW5jaHJvbm91c2x5IHdpdGggcmVnaXN0ZXJlZCBsb2FkZXJzLlxuICAgICAgICpcbiAgICAgICAqIFJldHVybnMgcHJvbWlzZSBvYmplY3Qgd2l0aCBsb2FkZWQgbGFuZ3VhZ2UgZmlsZSBkYXRhXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogJHRyYW5zbGF0ZS51c2UoXCJlbl9VU1wiKS50aGVuKGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICogICAkc2NvcGUudGV4dCA9ICR0cmFuc2xhdGUoXCJIRUxMT1wiKTtcbiAgICAgICAqIH0pO1xuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgTGFuZ3VhZ2Uga2V5XG4gICAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IExhbmd1YWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnVzZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFrZXkpIHtcbiAgICAgICAgICByZXR1cm4gJHVzZXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VTdGFydCcsIHtsYW5ndWFnZToga2V5fSk7XG5cbiAgICAgICAgLy8gVHJ5IHRvIGdldCB0aGUgYWxpYXNlZCBsYW5ndWFnZSBrZXlcbiAgICAgICAgdmFyIGFsaWFzZWRLZXkgPSBuZWdvdGlhdGVMb2NhbGUoa2V5KTtcbiAgICAgICAgaWYgKGFsaWFzZWRLZXkpIHtcbiAgICAgICAgICBrZXkgPSBhbGlhc2VkS2V5O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaWYgdGhlcmUgaXNuJ3QgYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgdGhlIGxhbmd1YWdlIHdlJ3ZlIHJlcXVlc3RlZCxcbiAgICAgICAgLy8gd2UgbG9hZCBpdCBhc3luY2hyb25vdXNseVxuICAgICAgICBpZiAoISR0cmFuc2xhdGlvblRhYmxlW2tleV0gJiYgJGxvYWRlckZhY3RvcnkgJiYgIWxhbmdQcm9taXNlc1trZXldKSB7XG4gICAgICAgICAgJG5leHRMYW5nID0ga2V5O1xuICAgICAgICAgIGxhbmdQcm9taXNlc1trZXldID0gbG9hZEFzeW5jKGtleSkudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyh0cmFuc2xhdGlvbi5rZXksIHRyYW5zbGF0aW9uLnRhYmxlKTtcbiAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUodHJhbnNsYXRpb24ua2V5KTtcblxuICAgICAgICAgICAgdXNlTGFuZ3VhZ2UodHJhbnNsYXRpb24ua2V5KTtcbiAgICAgICAgICAgIGlmICgkbmV4dExhbmcgPT09IGtleSkge1xuICAgICAgICAgICAgICAkbmV4dExhbmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgaWYgKCRuZXh0TGFuZyA9PT0ga2V5KSB7XG4gICAgICAgICAgICAgICRuZXh0TGFuZyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFcnJvcicsIHtsYW5ndWFnZToga2V5fSk7XG4gICAgICAgICAgICBkZWZlcnJlZC5yZWplY3Qoa2V5KTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCB7bGFuZ3VhZ2U6IGtleX0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoa2V5KTtcbiAgICAgICAgICB1c2VMYW5ndWFnZShrZXkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3N0b3JhZ2VLZXlcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgdGhlIGtleSBmb3IgdGhlIHN0b3JhZ2UuXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBzdG9yYWdlIGtleVxuICAgICAgICovXG4gICAgICAkdHJhbnNsYXRlLnN0b3JhZ2VLZXkgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzdG9yYWdlS2V5KCk7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2lzUG9zdENvbXBpbGluZ0VuYWJsZWRcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgd2hldGhlciBwb3N0IGNvbXBpbGluZyBpcyBlbmFibGVkIG9yIG5vdFxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge2Jvb2x9IHN0b3JhZ2Uga2V5XG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUuaXNQb3N0Q29tcGlsaW5nRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuICRwb3N0Q29tcGlsaW5nRW5hYmxlZDtcbiAgICAgIH07XG5cbiAgICAgIC8qKlxuICAgICAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAgICAgKiBAbmFtZSBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjcmVmcmVzaFxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmVmcmVzaGVzIGEgdHJhbnNsYXRpb24gdGFibGUgcG9pbnRlZCBieSB0aGUgZ2l2ZW4gbGFuZ0tleS4gSWYgbGFuZ0tleSBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAgICogdGhlIG1vZHVsZSB3aWxsIGRyb3AgYWxsIGV4aXN0ZW50IHRyYW5zbGF0aW9uIHRhYmxlcyBhbmQgbG9hZCBuZXcgdmVyc2lvbiBvZiB0aG9zZSB3aGljaFxuICAgICAgICogYXJlIGN1cnJlbnRseSBpbiB1c2UuXG4gICAgICAgKlxuICAgICAgICogUmVmcmVzaCBtZWFucyB0aGF0IHRoZSBtb2R1bGUgd2lsbCBkcm9wIHRhcmdldCB0cmFuc2xhdGlvbiB0YWJsZSBhbmQgdHJ5IHRvIGxvYWQgaXQgYWdhaW4uXG4gICAgICAgKlxuICAgICAgICogSW4gY2FzZSB0aGVyZSBhcmUgbm8gbG9hZGVycyByZWdpc3RlcmVkIHRoZSByZWZyZXNoKCkgbWV0aG9kIHdpbGwgdGhyb3cgYW4gRXJyb3IuXG4gICAgICAgKlxuICAgICAgICogSWYgdGhlIG1vZHVsZSBpcyBhYmxlIHRvIHJlZnJlc2ggdHJhbnNsYXRpb24gdGFibGVzIHJlZnJlc2goKSBtZXRob2Qgd2lsbCBicm9hZGNhc3RcbiAgICAgICAqICR0cmFuc2xhdGVSZWZyZXNoU3RhcnQgYW5kICR0cmFuc2xhdGVSZWZyZXNoRW5kIGV2ZW50cy5cbiAgICAgICAqXG4gICAgICAgKiBAZXhhbXBsZVxuICAgICAgICogLy8gdGhpcyB3aWxsIGRyb3AgYWxsIGN1cnJlbnRseSBleGlzdGVudCB0cmFuc2xhdGlvbiB0YWJsZXMgYW5kIHJlbG9hZCB0aG9zZSB3aGljaCBhcmVcbiAgICAgICAqIC8vIGN1cnJlbnRseSBpbiB1c2VcbiAgICAgICAqICR0cmFuc2xhdGUucmVmcmVzaCgpO1xuICAgICAgICogLy8gdGhpcyB3aWxsIHJlZnJlc2ggYSB0cmFuc2xhdGlvbiB0YWJsZSBmb3IgdGhlIGVuX1VTIGxhbmd1YWdlXG4gICAgICAgKiAkdHJhbnNsYXRlLnJlZnJlc2goJ2VuX1VTJyk7XG4gICAgICAgKlxuICAgICAgICogQHBhcmFtIHtzdHJpbmd9IGxhbmdLZXkgQSBsYW5ndWFnZSBrZXkgb2YgdGhlIHRhYmxlLCB3aGljaCBoYXMgdG8gYmUgcmVmcmVzaGVkXG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7cHJvbWlzZX0gUHJvbWlzZSwgd2hpY2ggd2lsbCBiZSByZXNvbHZlZCBpbiBjYXNlIGEgdHJhbnNsYXRpb24gdGFibGVzIHJlZnJlc2hpbmdcbiAgICAgICAqIHByb2Nlc3MgaXMgZmluaXNoZWQgc3VjY2Vzc2Z1bGx5LCBhbmQgcmVqZWN0IGlmIG5vdC5cbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5yZWZyZXNoID0gZnVuY3Rpb24gKGxhbmdLZXkpIHtcbiAgICAgICAgaWYgKCEkbG9hZGVyRmFjdG9yeSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCByZWZyZXNoIHRyYW5zbGF0aW9uIHRhYmxlLCBubyBsb2FkZXIgcmVnaXN0ZXJlZCEnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG5cbiAgICAgICAgZnVuY3Rpb24gcmVzb2x2ZSgpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hFbmQnLCB7bGFuZ3VhZ2U6IGxhbmdLZXl9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlamVjdCgpIHtcbiAgICAgICAgICBkZWZlcnJlZC5yZWplY3QoKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRlbWl0KCckdHJhbnNsYXRlUmVmcmVzaEVuZCcsIHtsYW5ndWFnZTogbGFuZ0tleX0pO1xuICAgICAgICB9XG5cbiAgICAgICAgJHJvb3RTY29wZS4kZW1pdCgnJHRyYW5zbGF0ZVJlZnJlc2hTdGFydCcsIHtsYW5ndWFnZTogbGFuZ0tleX0pO1xuXG4gICAgICAgIGlmICghbGFuZ0tleSkge1xuICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gbGFuZ3VhZ2Uga2V5IHNwZWNpZmllZCB3ZSByZWZyZXNoIEFMTCBUSEUgVEhJTkdTIVxuICAgICAgICAgIHZhciB0YWJsZXMgPSBbXSwgbG9hZGluZ0tleXMgPSB7fTtcblxuICAgICAgICAgIC8vIHJlbG9hZCByZWdpc3RlcmVkIGZhbGxiYWNrIGxhbmd1YWdlc1xuICAgICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICB0YWJsZXMucHVzaChsb2FkQXN5bmMoJGZhbGxiYWNrTGFuZ3VhZ2VbaV0pKTtcbiAgICAgICAgICAgICAgbG9hZGluZ0tleXNbJGZhbGxiYWNrTGFuZ3VhZ2VbaV1dID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyByZWxvYWQgY3VycmVudGx5IHVzZWQgbGFuZ3VhZ2VcbiAgICAgICAgICBpZiAoJHVzZXMgJiYgIWxvYWRpbmdLZXlzWyR1c2VzXSkge1xuICAgICAgICAgICAgdGFibGVzLnB1c2gobG9hZEFzeW5jKCR1c2VzKSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgJHEuYWxsKHRhYmxlcykudGhlbihmdW5jdGlvbiAodGFibGVEYXRhKSB7XG4gICAgICAgICAgICBhbmd1bGFyLmZvckVhY2godGFibGVEYXRhLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICBpZiAoJHRyYW5zbGF0aW9uVGFibGVbZGF0YS5rZXldKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlICR0cmFuc2xhdGlvblRhYmxlW2RhdGEua2V5XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoJHVzZXMpIHtcbiAgICAgICAgICAgICAgdXNlTGFuZ3VhZ2UoJHVzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0gZWxzZSBpZiAoJHRyYW5zbGF0aW9uVGFibGVbbGFuZ0tleV0pIHtcblxuICAgICAgICAgIGxvYWRBc3luYyhsYW5nS2V5KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbnMoZGF0YS5rZXksIGRhdGEudGFibGUpO1xuICAgICAgICAgICAgaWYgKGxhbmdLZXkgPT09ICR1c2VzKSB7XG4gICAgICAgICAgICAgIHVzZUxhbmd1YWdlKCR1c2VzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9LCByZWplY3QpO1xuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI2luc3RhbnRcbiAgICAgICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVcbiAgICAgICAqXG4gICAgICAgKiBAZGVzY3JpcHRpb25cbiAgICAgICAqIFJldHVybnMgYSB0cmFuc2xhdGlvbiBpbnN0YW50bHkgZnJvbSB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgbG9hZGVkIHRyYW5zbGF0aW9uLiBBbGwgcnVsZXNcbiAgICAgICAqIHJlZ2FyZGluZyB0aGUgY3VycmVudCBsYW5ndWFnZSwgdGhlIHByZWZlcnJlZCBsYW5ndWFnZSBvZiBldmVuIGZhbGxiYWNrIGxhbmd1YWdlcyB3aWxsIGJlXG4gICAgICAgKiB1c2VkIGV4Y2VwdCBhbnkgcHJvbWlzZSBoYW5kbGluZy4gSWYgYSBsYW5ndWFnZSB3YXMgbm90IGZvdW5kLCBhbiBhc3luY2hyb25vdXMgbG9hZGluZ1xuICAgICAgICogd2lsbCBiZSBpbnZva2VkIGluIHRoZSBiYWNrZ3JvdW5kLlxuICAgICAgICpcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfGFycmF5fSB0cmFuc2xhdGlvbklkIEEgdG9rZW4gd2hpY2ggcmVwcmVzZW50cyBhIHRyYW5zbGF0aW9uIGlkXG4gICAgICAgKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBUaGlzIGNhbiBiZSBvcHRpb25hbGx5IGFuIGFycmF5IG9mIHRyYW5zbGF0aW9uIGlkcyB3aGljaFxuICAgICAgICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0cyB0aGF0IHRoZSBmdW5jdGlvbidzIHByb21pc2UgcmV0dXJucyBhbiBvYmplY3Qgd2hlcmVcbiAgICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVhY2gga2V5IGlzIHRoZSB0cmFuc2xhdGlvbiBpZCBhbmQgdGhlIHZhbHVlIHRoZSB0cmFuc2xhdGlvbi5cbiAgICAgICAqIEBwYXJhbSB7b2JqZWN0fSBpbnRlcnBvbGF0ZVBhcmFtcyBQYXJhbXNcbiAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbnRlcnBvbGF0aW9uSWQgVGhlIGlkIG9mIHRoZSBpbnRlcnBvbGF0aW9uIHRvIHVzZVxuICAgICAgICpcbiAgICAgICAqIEByZXR1cm4ge3N0cmluZ30gdHJhbnNsYXRpb25cbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5pbnN0YW50ID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uSWQpIHtcblxuICAgICAgICAvLyBEZXRlY3QgdW5kZWZpbmVkIGFuZCBudWxsIHZhbHVlcyB0byBzaG9ydGVuIHRoZSBleGVjdXRpb24gYW5kIHByZXZlbnQgZXhjZXB0aW9uc1xuICAgICAgICBpZiAodHJhbnNsYXRpb25JZCA9PT0gbnVsbCB8fCBhbmd1bGFyLmlzVW5kZWZpbmVkKHRyYW5zbGF0aW9uSWQpKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEdWNrIGRldGVjdGlvbjogSWYgdGhlIGZpcnN0IGFyZ3VtZW50IGlzIGFuIGFycmF5LCBhIGJ1bmNoIG9mIHRyYW5zbGF0aW9ucyB3YXMgcmVxdWVzdGVkLlxuICAgICAgICAvLyBUaGUgcmVzdWx0IGlzIGFuIG9iamVjdC5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheSh0cmFuc2xhdGlvbklkKSkge1xuICAgICAgICAgIHZhciByZXN1bHRzID0ge307XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGMgPSB0cmFuc2xhdGlvbklkLmxlbmd0aDsgaSA8IGM7IGkrKykge1xuICAgICAgICAgICAgcmVzdWx0c1t0cmFuc2xhdGlvbklkW2ldXSA9ICR0cmFuc2xhdGUuaW5zdGFudCh0cmFuc2xhdGlvbklkW2ldLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbklkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBXZSBkaXNjYXJkZWQgdW5hY2NlcHRhYmxlIHZhbHVlcy4gU28gd2UganVzdCBuZWVkIHRvIHZlcmlmeSBpZiB0cmFuc2xhdGlvbklkIGlzIGVtcHR5IFN0cmluZ1xuICAgICAgICBpZiAoYW5ndWxhci5pc1N0cmluZyh0cmFuc2xhdGlvbklkKSAmJiB0cmFuc2xhdGlvbklkLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb25JZDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRyaW0gb2ZmIGFueSB3aGl0ZXNwYWNlXG4gICAgICAgIGlmICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgdHJhbnNsYXRpb25JZCA9IHRyaW0uYXBwbHkodHJhbnNsYXRpb25JZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgcmVzdWx0LCBwb3NzaWJsZUxhbmdLZXlzID0gW107XG4gICAgICAgIGlmICgkcHJlZmVycmVkTGFuZ3VhZ2UpIHtcbiAgICAgICAgICBwb3NzaWJsZUxhbmdLZXlzLnB1c2goJHByZWZlcnJlZExhbmd1YWdlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJHVzZXMpIHtcbiAgICAgICAgICBwb3NzaWJsZUxhbmdLZXlzLnB1c2goJHVzZXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmICgkZmFsbGJhY2tMYW5ndWFnZSAmJiAkZmFsbGJhY2tMYW5ndWFnZS5sZW5ndGgpIHtcbiAgICAgICAgICBwb3NzaWJsZUxhbmdLZXlzID0gcG9zc2libGVMYW5nS2V5cy5jb25jYXQoJGZhbGxiYWNrTGFuZ3VhZ2UpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBkID0gcG9zc2libGVMYW5nS2V5cy5sZW5ndGg7IGogPCBkOyBqKyspIHtcbiAgICAgICAgICB2YXIgcG9zc2libGVMYW5nS2V5ID0gcG9zc2libGVMYW5nS2V5c1tqXTtcbiAgICAgICAgICBpZiAoJHRyYW5zbGF0aW9uVGFibGVbcG9zc2libGVMYW5nS2V5XSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiAkdHJhbnNsYXRpb25UYWJsZVtwb3NzaWJsZUxhbmdLZXldW3RyYW5zbGF0aW9uSWRdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICByZXN1bHQgPSBkZXRlcm1pbmVUcmFuc2xhdGlvbkluc3RhbnQodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIGludGVycG9sYXRpb25JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgcmVzdWx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFyZXN1bHQgJiYgcmVzdWx0ICE9PSAnJykge1xuICAgICAgICAgIC8vIFJldHVybiB0cmFuc2xhdGlvbiBvZiBkZWZhdWx0IGludGVycG9sYXRvciBpZiBub3QgZm91bmQgYW55dGhpbmcuXG4gICAgICAgICAgcmVzdWx0ID0gZGVmYXVsdEludGVycG9sYXRvci5pbnRlcnBvbGF0ZSh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcyk7XG4gICAgICAgICAgaWYgKCRtaXNzaW5nVHJhbnNsYXRpb25IYW5kbGVyRmFjdG9yeSAmJiAhcGVuZGluZ0xvYWRlcikge1xuICAgICAgICAgICAgcmVzdWx0ID0gdHJhbnNsYXRlQnlIYW5kbGVyKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICAvKipcbiAgICAgICAqIEBuZ2RvYyBmdW5jdGlvblxuICAgICAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlI3ZlcnNpb25JbmZvXG4gICAgICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlXG4gICAgICAgKlxuICAgICAgICogQGRlc2NyaXB0aW9uXG4gICAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IHZlcnNpb24gaW5mb3JtYXRpb24gZm9yIHRoZSBhbmd1bGFyLXRyYW5zbGF0ZSBsaWJyYXJ5XG4gICAgICAgKlxuICAgICAgICogQHJldHVybiB7c3RyaW5nfSBhbmd1bGFyLXRyYW5zbGF0ZSB2ZXJzaW9uXG4gICAgICAgKi9cbiAgICAgICR0cmFuc2xhdGUudmVyc2lvbkluZm8gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgICAgfTtcblxuICAgICAgLyoqXG4gICAgICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICAgICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZSNsb2FkZXJDYWNoZVxuICAgICAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICAgICAgICpcbiAgICAgICAqIEBkZXNjcmlwdGlvblxuICAgICAgICogUmV0dXJucyB0aGUgZGVmaW5lZCBsb2FkZXJDYWNoZS5cbiAgICAgICAqXG4gICAgICAgKiBAcmV0dXJuIHtib29sZWFufHN0cmluZ3xvYmplY3R9IGN1cnJlbnQgdmFsdWUgb2YgbG9hZGVyQ2FjaGVcbiAgICAgICAqL1xuICAgICAgJHRyYW5zbGF0ZS5sb2FkZXJDYWNoZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGxvYWRlckNhY2hlO1xuICAgICAgfTtcblxuICAgICAgaWYgKCRsb2FkZXJGYWN0b3J5KSB7XG5cbiAgICAgICAgLy8gSWYgYXQgbGVhc3Qgb25lIGFzeW5jIGxvYWRlciBpcyBkZWZpbmVkIGFuZCB0aGVyZSBhcmUgbm9cbiAgICAgICAgLy8gKGRlZmF1bHQpIHRyYW5zbGF0aW9ucyBhdmFpbGFibGUgd2Ugc2hvdWxkIHRyeSB0byBsb2FkIHRoZW0uXG4gICAgICAgIGlmIChhbmd1bGFyLmVxdWFscygkdHJhbnNsYXRpb25UYWJsZSwge30pKSB7XG4gICAgICAgICAgJHRyYW5zbGF0ZS51c2UoJHRyYW5zbGF0ZS51c2UoKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBbHNvLCBpZiB0aGVyZSBhcmUgYW55IGZhbGxiYWNrIGxhbmd1YWdlIHJlZ2lzdGVyZWQsIHdlIHN0YXJ0XG4gICAgICAgIC8vIGxvYWRpbmcgdGhlbSBhc3luY2hyb25vdXNseSBhcyBzb29uIGFzIHdlIGNhbi5cbiAgICAgICAgaWYgKCRmYWxsYmFja0xhbmd1YWdlICYmICRmYWxsYmFja0xhbmd1YWdlLmxlbmd0aCkge1xuICAgICAgICAgIHZhciBwcm9jZXNzQXN5bmNSZXN1bHQgPSBmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9ucyh0cmFuc2xhdGlvbi5rZXksIHRyYW5zbGF0aW9uLnRhYmxlKTtcbiAgICAgICAgICAgICRyb290U2NvcGUuJGVtaXQoJyR0cmFuc2xhdGVDaGFuZ2VFbmQnLCB7IGxhbmd1YWdlOiB0cmFuc2xhdGlvbi5rZXkgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNsYXRpb247XG4gICAgICAgICAgfTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gJGZhbGxiYWNrTGFuZ3VhZ2UubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIGxhbmdQcm9taXNlc1skZmFsbGJhY2tMYW5ndWFnZVtpXV0gPSBsb2FkQXN5bmMoJGZhbGxiYWNrTGFuZ3VhZ2VbaV0pLnRoZW4ocHJvY2Vzc0FzeW5jUmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuICR0cmFuc2xhdGU7XG4gICAgfVxuICBdO1xufV0pO1xuXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gKiBAcmVxdWlyZXMgJGludGVycG9sYXRlXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2VzIGFuZ3VsYXIncyBgJGludGVycG9sYXRlYCBzZXJ2aWNlcyB0byBpbnRlcnBvbGF0ZSBzdHJpbmdzIGFnYWluc3Qgc29tZSB2YWx1ZXMuXG4gKlxuICogQHJldHVybiB7b2JqZWN0fSAkdHJhbnNsYXRlSW50ZXJwb2xhdG9yIEludGVycG9sYXRvciBzZXJ2aWNlXG4gKi9cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJykuZmFjdG9yeSgnJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uJywgWyckaW50ZXJwb2xhdGUnLCBmdW5jdGlvbiAoJGludGVycG9sYXRlKSB7XG5cbiAgdmFyICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IgPSB7fSxcbiAgICAgICRsb2NhbGUsXG4gICAgICAkaWRlbnRpZmllciA9ICdkZWZhdWx0JyxcbiAgICAgICRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3kgPSBudWxsLFxuICAgICAgLy8gbWFwIG9mIGFsbCBzYW5pdGl6ZSBzdHJhdGVnaWVzXG4gICAgICBzYW5pdGl6ZVZhbHVlU3RyYXRlZ2llcyA9IHtcbiAgICAgICAgZXNjYXBlZDogZnVuY3Rpb24gKHBhcmFtcykge1xuICAgICAgICAgIHZhciByZXN1bHQgPSB7fTtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBhcmFtcywga2V5KSkge1xuICAgICAgICAgICAgICByZXN1bHRba2V5XSA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdj48L2Rpdj4nKS50ZXh0KHBhcmFtc1trZXldKS5odG1sKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgdmFyIHNhbml0aXplUGFyYW1zID0gZnVuY3Rpb24gKHBhcmFtcykge1xuICAgIHZhciByZXN1bHQ7XG4gICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzYW5pdGl6ZVZhbHVlU3RyYXRlZ2llc1skc2FuaXRpemVWYWx1ZVN0cmF0ZWd5XSkpIHtcbiAgICAgIHJlc3VsdCA9IHNhbml0aXplVmFsdWVTdHJhdGVnaWVzWyRzYW5pdGl6ZVZhbHVlU3RyYXRlZ3ldKHBhcmFtcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IHBhcmFtcztcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uI3NldExvY2FsZVxuICAgKiBAbWV0aG9kT2YgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb25cbiAgICpcbiAgICogQGRlc2NyaXB0aW9uXG4gICAqIFNldHMgY3VycmVudCBsb2NhbGUgKHRoaXMgaXMgY3VycmVudGx5IG5vdCB1c2UgaW4gdGhpcyBpbnRlcnBvbGF0aW9uKS5cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvY2FsZSBMYW5ndWFnZSBrZXkgb3IgbG9jYWxlLlxuICAgKi9cbiAgJHRyYW5zbGF0ZUludGVycG9sYXRvci5zZXRMb2NhbGUgPSBmdW5jdGlvbiAobG9jYWxlKSB7XG4gICAgJGxvY2FsZSA9IGxvY2FsZTtcbiAgfTtcblxuICAvKipcbiAgICogQG5nZG9jIGZ1bmN0aW9uXG4gICAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uI2dldEludGVycG9sYXRpb25JZGVudGlmaWVyXG4gICAqIEBtZXRob2RPZiBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGVEZWZhdWx0SW50ZXJwb2xhdGlvblxuICAgKlxuICAgKiBAZGVzY3JpcHRpb25cbiAgICogUmV0dXJucyBhbiBpZGVudGlmaWVyIGZvciB0aGlzIGludGVycG9sYXRpb24gc2VydmljZS5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gJGlkZW50aWZpZXJcbiAgICovXG4gICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IuZ2V0SW50ZXJwb2xhdGlvbklkZW50aWZpZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICRpZGVudGlmaWVyO1xuICB9O1xuXG4gICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IudXNlU2FuaXRpemVWYWx1ZVN0cmF0ZWd5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgJHNhbml0aXplVmFsdWVTdHJhdGVneSA9IHZhbHVlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8qKlxuICAgKiBAbmdkb2MgZnVuY3Rpb25cbiAgICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS4kdHJhbnNsYXRlRGVmYXVsdEludGVycG9sYXRpb24jaW50ZXJwb2xhdGVcbiAgICogQG1ldGhvZE9mIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZURlZmF1bHRJbnRlcnBvbGF0aW9uXG4gICAqXG4gICAqIEBkZXNjcmlwdGlvblxuICAgKiBJbnRlcnBvbGF0ZXMgZ2l2ZW4gc3RyaW5nIGFnYWlucyBnaXZlbiBpbnRlcnBvbGF0ZSBwYXJhbXMgdXNpbmcgYW5ndWxhcnNcbiAgICogYCRpbnRlcnBvbGF0ZWAgc2VydmljZS5cbiAgICpcbiAgICogQHJldHVybnMge3N0cmluZ30gaW50ZXJwb2xhdGVkIHN0cmluZy5cbiAgICovXG4gICR0cmFuc2xhdGVJbnRlcnBvbGF0b3IuaW50ZXJwb2xhdGUgPSBmdW5jdGlvbiAoc3RyaW5nLCBpbnRlcnBvbGF0ZVBhcmFtcykge1xuICAgIGlmICgkc2FuaXRpemVWYWx1ZVN0cmF0ZWd5KSB7XG4gICAgICBpbnRlcnBvbGF0ZVBhcmFtcyA9IHNhbml0aXplUGFyYW1zKGludGVycG9sYXRlUGFyYW1zKTtcbiAgICB9XG4gICAgcmV0dXJuICRpbnRlcnBvbGF0ZShzdHJpbmcpKGludGVycG9sYXRlUGFyYW1zIHx8IHt9KTtcbiAgfTtcblxuICByZXR1cm4gJHRyYW5zbGF0ZUludGVycG9sYXRvcjtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnKS5jb25zdGFudCgnJFNUT1JBR0VfS0VZJywgJ05HX1RSQU5TTEFURV9MQU5HX0tFWScpO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZGlyZWN0aXZlOnRyYW5zbGF0ZVxuICogQHJlcXVpcmVzICRjb21waWxlXG4gKiBAcmVxdWlyZXMgJGZpbHRlclxuICogQHJlcXVpcmVzICRpbnRlcnBvbGF0ZVxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIFRyYW5zbGF0ZXMgZ2l2ZW4gdHJhbnNsYXRpb24gaWQgZWl0aGVyIHRocm91Z2ggYXR0cmlidXRlIG9yIERPTSBjb250ZW50LlxuICogSW50ZXJuYWxseSBpdCB1c2VzIGB0cmFuc2xhdGVgIGZpbHRlciB0byB0cmFuc2xhdGUgdHJhbnNsYXRpb24gaWQuIEl0IHBvc3NpYmxlIHRvXG4gKiBwYXNzIGFuIG9wdGlvbmFsIGB0cmFuc2xhdGUtdmFsdWVzYCBvYmplY3QgbGl0ZXJhbCBhcyBzdHJpbmcgaW50byB0cmFuc2xhdGlvbiBpZC5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZSBUcmFuc2xhdGlvbiBpZCB3aGljaCBjb3VsZCBiZSBlaXRoZXIgc3RyaW5nIG9yIGludGVycG9sYXRlZCBzdHJpbmcuXG4gKiBAcGFyYW0ge3N0cmluZz19IHRyYW5zbGF0ZS12YWx1ZXMgVmFsdWVzIHRvIHBhc3MgaW50byB0cmFuc2xhdGlvbiBpZC4gQ2FuIGJlIHBhc3NlZCBhcyBvYmplY3QgbGl0ZXJhbCBzdHJpbmcgb3IgaW50ZXJwb2xhdGVkIG9iamVjdC5cbiAqIEBwYXJhbSB7c3RyaW5nPX0gdHJhbnNsYXRlLWF0dHItQVRUUiB0cmFuc2xhdGUgVHJhbnNsYXRpb24gaWQgYW5kIHB1dCBpdCBpbnRvIEFUVFIgYXR0cmlidXRlLlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtZGVmYXVsdCB3aWxsIGJlIHVzZWQgdW5sZXNzIHRyYW5zbGF0aW9uIHdhcyBzdWNjZXNzZnVsXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSB0cmFuc2xhdGUtY29tcGlsZSAoZGVmYXVsdCB0cnVlIGlmIHByZXNlbnQpIGRlZmluZXMgbG9jYWxseSBhY3RpdmF0aW9uIG9mIHtAbGluayBwYXNjYWxwcmVjaHQudHJhbnNsYXRlLiR0cmFuc2xhdGUjdXNlUG9zdENvbXBpbGluZ31cbiAqXG4gKiBAZXhhbXBsZVxuICAgPGV4YW1wbGUgbW9kdWxlPVwibmdWaWV3XCI+XG4gICAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICAgIDxkaXYgbmctY29udHJvbGxlcj1cIlRyYW5zbGF0ZUN0cmxcIj5cblxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlPlRSQU5TTEFUSU9OX0lEPC9wcmU+XG4gICAgICAgIDxwcmUgdHJhbnNsYXRlIHRyYW5zbGF0ZS1hdHRyLXRpdGxlPVwiVFJBTlNMQVRJT05fSURcIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGU9XCJ7e3RyYW5zbGF0aW9uSWR9fVwiPjwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT57e3RyYW5zbGF0aW9uSWR9fTwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cIldJVEhfVkFMVUVTXCIgdHJhbnNsYXRlLXZhbHVlcz1cInt2YWx1ZTogNX1cIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLXZhbHVlcz1cInt2YWx1ZTogNX1cIj5XSVRIX1ZBTFVFUzwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZT1cIldJVEhfVkFMVUVTXCIgdHJhbnNsYXRlLXZhbHVlcz1cInt7dmFsdWVzfX1cIj48L3ByZT5cbiAgICAgICAgPHByZSB0cmFuc2xhdGUgdHJhbnNsYXRlLXZhbHVlcz1cInt7dmFsdWVzfX1cIj5XSVRIX1ZBTFVFUzwvcHJlPlxuICAgICAgICA8cHJlIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIldJVEhfVkFMVUVTXCIgdHJhbnNsYXRlLXZhbHVlcz1cInt7dmFsdWVzfX1cIj48L3ByZT5cblxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnLCBbJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnXSlcblxuICAgICAgLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG5cbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLHtcbiAgICAgICAgICAnVFJBTlNMQVRJT05fSUQnOiAnSGVsbG8gdGhlcmUhJyxcbiAgICAgICAgICAnV0lUSF9WQUxVRVMnOiAnVGhlIGZvbGxvd2luZyB2YWx1ZSBpcyBkeW5hbWljOiB7e3ZhbHVlfX0nXG4gICAgICAgIH0pLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xuXG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycpLmNvbnRyb2xsZXIoJ1RyYW5zbGF0ZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAkc2NvcGUudmFsdWVzID0ge1xuICAgICAgICAgIHZhbHVlOiA3OFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY2VuYXJpby5qc1wiPlxuICAgICAgaXQoJ3Nob3VsZCB0cmFuc2xhdGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluamVjdChmdW5jdGlvbiAoJHJvb3RTY29wZSwgJGNvbXBpbGUpIHtcbiAgICAgICAgICAkcm9vdFNjb3BlLnRyYW5zbGF0aW9uSWQgPSAnVFJBTlNMQVRJT05fSUQnO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU9XCJUUkFOU0xBVElPTl9JRFwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU9XCJ7e3RyYW5zbGF0aW9uSWR9fVwiPjwvcD4nKSgkcm9vdFNjb3BlKTtcbiAgICAgICAgICAkcm9vdFNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICBleHBlY3QoZWxlbWVudC50ZXh0KCkpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuXG4gICAgICAgICAgZWxlbWVudCA9ICRjb21waWxlKCc8cCB0cmFuc2xhdGU+VFJBTlNMQVRJT05fSUQ8L3A+JykoJHJvb3RTY29wZSk7XG4gICAgICAgICAgJHJvb3RTY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgZXhwZWN0KGVsZW1lbnQudGV4dCgpKS50b0JlKCdIZWxsbyB0aGVyZSEnKTtcblxuICAgICAgICAgIGVsZW1lbnQgPSAkY29tcGlsZSgnPHAgdHJhbnNsYXRlPnt7dHJhbnNsYXRpb25JZH19PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LnRleHQoKSkudG9CZSgnSGVsbG8gdGhlcmUhJyk7XG5cbiAgICAgICAgICBlbGVtZW50ID0gJGNvbXBpbGUoJzxwIHRyYW5zbGF0ZSB0cmFuc2xhdGUtYXR0ci10aXRsZT1cIlRSQU5TTEFUSU9OX0lEXCI+PC9wPicpKCRyb290U2NvcGUpO1xuICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgIGV4cGVjdChlbGVtZW50LmF0dHIoJ3RpdGxlJykpLnRvQmUoJ0hlbGxvIHRoZXJlIScpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIDwvZmlsZT5cbiAgIDwvZXhhbXBsZT5cbiAqL1xuLmRpcmVjdGl2ZSgndHJhbnNsYXRlJywgWyckdHJhbnNsYXRlJywgJyRxJywgJyRpbnRlcnBvbGF0ZScsICckY29tcGlsZScsICckcGFyc2UnLCAnJHJvb3RTY29wZScsIGZ1bmN0aW9uICgkdHJhbnNsYXRlLCAkcSwgJGludGVycG9sYXRlLCAkY29tcGlsZSwgJHBhcnNlLCAkcm9vdFNjb3BlKSB7XG5cbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0FFJyxcbiAgICBzY29wZTogdHJ1ZSxcbiAgICBjb21waWxlOiBmdW5jdGlvbiAodEVsZW1lbnQsIHRBdHRyKSB7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZXNFeGlzdCA9ICh0QXR0ci50cmFuc2xhdGVWYWx1ZXMpID9cbiAgICAgICAgdEF0dHIudHJhbnNsYXRlVmFsdWVzIDogdW5kZWZpbmVkO1xuXG4gICAgICB2YXIgdHJhbnNsYXRlSW50ZXJwb2xhdGlvbiA9ICh0QXR0ci50cmFuc2xhdGVJbnRlcnBvbGF0aW9uKSA/XG4gICAgICAgIHRBdHRyLnRyYW5zbGF0ZUludGVycG9sYXRpb24gOiB1bmRlZmluZWQ7XG5cbiAgICAgIHZhciB0cmFuc2xhdGVWYWx1ZUV4aXN0ID0gdEVsZW1lbnRbMF0ub3V0ZXJIVE1MLm1hdGNoKC90cmFuc2xhdGUtdmFsdWUtKy9pKTtcblxuICAgICAgdmFyIGludGVycG9sYXRlUmVnRXhwID0gXCJeKC4qKShcIiArICRpbnRlcnBvbGF0ZS5zdGFydFN5bWJvbCgpICsgXCIuKlwiICsgJGludGVycG9sYXRlLmVuZFN5bWJvbCgpICsgXCIpKC4qKVwiLFxuICAgICAgICAgIHdhdGNoZXJSZWdFeHAgPSBcIl4oLiopXCIgKyAkaW50ZXJwb2xhdGUuc3RhcnRTeW1ib2woKSArIFwiKC4qKVwiICsgJGludGVycG9sYXRlLmVuZFN5bWJvbCgpICsgXCIoLiopXCI7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cikge1xuXG4gICAgICAgIHNjb3BlLmludGVycG9sYXRlUGFyYW1zID0ge307XG4gICAgICAgIHNjb3BlLnByZVRleHQgPSBcIlwiO1xuICAgICAgICBzY29wZS5wb3N0VGV4dCA9IFwiXCI7XG4gICAgICAgIHZhciB0cmFuc2xhdGlvbklkcyA9IHt9O1xuXG4gICAgICAgIC8vIEVuc3VyZXMgYW55IGNoYW5nZSBvZiB0aGUgYXR0cmlidXRlIFwidHJhbnNsYXRlXCIgY29udGFpbmluZyB0aGUgaWQgd2lsbFxuICAgICAgICAvLyBiZSByZS1zdG9yZWQgdG8gdGhlIHNjb3BlJ3MgXCJ0cmFuc2xhdGlvbklkXCIuXG4gICAgICAgIC8vIElmIHRoZSBhdHRyaWJ1dGUgaGFzIG5vIGNvbnRlbnQsIHRoZSBlbGVtZW50J3MgdGV4dCB2YWx1ZSAod2hpdGUgc3BhY2VzIHRyaW1tZWQgb2ZmKSB3aWxsIGJlIHVzZWQuXG4gICAgICAgIHZhciBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICBpZiAoYW5ndWxhci5lcXVhbHModHJhbnNsYXRpb25JZCAsICcnKSB8fCAhYW5ndWxhci5pc0RlZmluZWQodHJhbnNsYXRpb25JZCkpIHtcbiAgICAgICAgICAgIC8vIFJlc29sdmUgdHJhbnNsYXRpb24gaWQgYnkgaW5uZXIgaHRtbCBpZiByZXF1aXJlZFxuICAgICAgICAgICAgdmFyIGludGVycG9sYXRlTWF0Y2hlcyA9IGlFbGVtZW50LnRleHQoKS5tYXRjaChpbnRlcnBvbGF0ZVJlZ0V4cCk7XG4gICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSB0cmFuc2xhdGlvbiBpZCBpZiByZXF1aXJlZFxuICAgICAgICAgICAgaWYgKGFuZ3VsYXIuaXNBcnJheShpbnRlcnBvbGF0ZU1hdGNoZXMpKSB7XG4gICAgICAgICAgICAgIHNjb3BlLnByZVRleHQgPSBpbnRlcnBvbGF0ZU1hdGNoZXNbMV07XG4gICAgICAgICAgICAgIHNjb3BlLnBvc3RUZXh0ID0gaW50ZXJwb2xhdGVNYXRjaGVzWzNdO1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSAkaW50ZXJwb2xhdGUoaW50ZXJwb2xhdGVNYXRjaGVzWzJdKShzY29wZS4kcGFyZW50KTtcbiAgICAgICAgICAgICAgd2F0Y2hlck1hdGNoZXMgPSBpRWxlbWVudC50ZXh0KCkubWF0Y2god2F0Y2hlclJlZ0V4cCk7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzQXJyYXkod2F0Y2hlck1hdGNoZXMpICYmIHdhdGNoZXJNYXRjaGVzWzJdICYmIHdhdGNoZXJNYXRjaGVzWzJdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLiR3YXRjaCh3YXRjaGVyTWF0Y2hlc1syXSwgZnVuY3Rpb24gKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSBuZXdWYWx1ZTtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0cmFuc2xhdGlvbklkcy50cmFuc2xhdGUgPSBpRWxlbWVudC50ZXh0KCkucmVwbGFjZSgvXlxccyt8XFxzKyQvZywnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRyYW5zbGF0aW9uSWRzLnRyYW5zbGF0ZSA9IHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9ucygpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBvYnNlcnZlQXR0cmlidXRlVHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodHJhbnNsYXRlQXR0cikge1xuICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKHRyYW5zbGF0ZUF0dHIsIGZ1bmN0aW9uICh0cmFuc2xhdGlvbklkKSB7XG4gICAgICAgICAgICB0cmFuc2xhdGlvbklkc1t0cmFuc2xhdGVBdHRyXSA9IHRyYW5zbGF0aW9uSWQ7XG4gICAgICAgICAgICB1cGRhdGVUcmFuc2xhdGlvbnMoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlJywgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICBvYnNlcnZlRWxlbWVudFRyYW5zbGF0aW9uKHRyYW5zbGF0aW9uSWQpO1xuICAgICAgICB9KTtcblxuICAgICAgICBmb3IgKHZhciB0cmFuc2xhdGVBdHRyIGluIGlBdHRyKSB7XG4gICAgICAgICAgaWYoaUF0dHIuaGFzT3duUHJvcGVydHkodHJhbnNsYXRlQXR0cikgJiYgdHJhbnNsYXRlQXR0ci5zdWJzdHIoMCwgMTMpID09PSAndHJhbnNsYXRlQXR0cicpIHtcbiAgICAgICAgICAgIG9ic2VydmVBdHRyaWJ1dGVUcmFuc2xhdGlvbih0cmFuc2xhdGVBdHRyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpQXR0ci4kb2JzZXJ2ZSgndHJhbnNsYXRlRGVmYXVsdCcsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRlZmF1bHRUZXh0ID0gdmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0cmFuc2xhdGVWYWx1ZXNFeGlzdCkge1xuICAgICAgICAgIGlBdHRyLiRvYnNlcnZlKCd0cmFuc2xhdGVWYWx1ZXMnLCBmdW5jdGlvbiAoaW50ZXJwb2xhdGVQYXJhbXMpIHtcbiAgICAgICAgICAgIGlmIChpbnRlcnBvbGF0ZVBhcmFtcykge1xuICAgICAgICAgICAgICBzY29wZS4kcGFyZW50LiR3YXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXMsICRwYXJzZShpbnRlcnBvbGF0ZVBhcmFtcykoc2NvcGUuJHBhcmVudCkpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0cmFuc2xhdGVWYWx1ZUV4aXN0KSB7XG4gICAgICAgICAgdmFyIG9ic2VydmVWYWx1ZUF0dHJpYnV0ZSA9IGZ1bmN0aW9uIChhdHRyTmFtZSkge1xuICAgICAgICAgICAgaUF0dHIuJG9ic2VydmUoYXR0ck5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IGFuZ3VsYXIubG93ZXJjYXNlKGF0dHJOYW1lLnN1YnN0cigxNCwgMSkpICsgYXR0ck5hbWUuc3Vic3RyKDE1KTtcbiAgICAgICAgICAgICAgc2NvcGUuaW50ZXJwb2xhdGVQYXJhbXNbYXR0cmlidXRlTmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH07XG4gICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBpQXR0cikge1xuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChpQXR0ciwgYXR0cikgJiYgYXR0ci5zdWJzdHIoMCwgMTQpID09PSAndHJhbnNsYXRlVmFsdWUnICYmIGF0dHIgIT09ICd0cmFuc2xhdGVWYWx1ZXMnKSB7XG4gICAgICAgICAgICAgIG9ic2VydmVWYWx1ZUF0dHJpYnV0ZShhdHRyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBNYXN0ZXIgdXBkYXRlIGZ1bmN0aW9uXG4gICAgICAgIHZhciB1cGRhdGVUcmFuc2xhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgZm9yICh2YXIga2V5IGluIHRyYW5zbGF0aW9uSWRzKSB7XG4gICAgICAgICAgICBpZiAodHJhbnNsYXRpb25JZHMuaGFzT3duUHJvcGVydHkoa2V5KSAmJiB0cmFuc2xhdGlvbklkc1trZXldKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZVRyYW5zbGF0aW9uKGtleSwgdHJhbnNsYXRpb25JZHNba2V5XSwgc2NvcGUsIHNjb3BlLmludGVycG9sYXRlUGFyYW1zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gUHV0IHRyYW5zbGF0aW9uIHByb2Nlc3NpbmcgZnVuY3Rpb24gb3V0c2lkZSBsb29wXG4gICAgICAgIHZhciB1cGRhdGVUcmFuc2xhdGlvbiA9IGZ1bmN0aW9uKHRyYW5zbGF0ZUF0dHIsIHRyYW5zbGF0aW9uSWQsIHNjb3BlLCBpbnRlcnBvbGF0ZVBhcmFtcykge1xuICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCwgaW50ZXJwb2xhdGVQYXJhbXMsIHRyYW5zbGF0ZUludGVycG9sYXRpb24pXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodHJhbnNsYXRpb24pIHtcbiAgICAgICAgICAgICAgYXBwbHlUcmFuc2xhdGlvbih0cmFuc2xhdGlvbiwgc2NvcGUsIHRydWUsIHRyYW5zbGF0ZUF0dHIpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICAgYXBwbHlUcmFuc2xhdGlvbih0cmFuc2xhdGlvbklkLCBzY29wZSwgZmFsc2UsIHRyYW5zbGF0ZUF0dHIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGFwcGx5VHJhbnNsYXRpb24gPSBmdW5jdGlvbiAodmFsdWUsIHNjb3BlLCBzdWNjZXNzZnVsLCB0cmFuc2xhdGVBdHRyKSB7XG4gICAgICAgICAgaWYgKHRyYW5zbGF0ZUF0dHIgPT09ICd0cmFuc2xhdGUnKSB7XG4gICAgICAgICAgICAvLyBkZWZhdWx0IHRyYW5zbGF0ZSBpbnRvIGlubmVySFRNTFxuICAgICAgICAgICAgaWYgKCFzdWNjZXNzZnVsICYmIHR5cGVvZiBzY29wZS5kZWZhdWx0VGV4dCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBzY29wZS5kZWZhdWx0VGV4dDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlFbGVtZW50Lmh0bWwoc2NvcGUucHJlVGV4dCArIHZhbHVlICsgc2NvcGUucG9zdFRleHQpO1xuICAgICAgICAgICAgdmFyIGdsb2JhbGx5RW5hYmxlZCA9ICR0cmFuc2xhdGUuaXNQb3N0Q29tcGlsaW5nRW5hYmxlZCgpO1xuICAgICAgICAgICAgdmFyIGxvY2FsbHlEZWZpbmVkID0gdHlwZW9mIHRBdHRyLnRyYW5zbGF0ZUNvbXBpbGUgIT09ICd1bmRlZmluZWQnO1xuICAgICAgICAgICAgdmFyIGxvY2FsbHlFbmFibGVkID0gbG9jYWxseURlZmluZWQgJiYgdEF0dHIudHJhbnNsYXRlQ29tcGlsZSAhPT0gJ2ZhbHNlJztcbiAgICAgICAgICAgIGlmICgoZ2xvYmFsbHlFbmFibGVkICYmICFsb2NhbGx5RGVmaW5lZCkgfHwgbG9jYWxseUVuYWJsZWQpIHtcbiAgICAgICAgICAgICAgJGNvbXBpbGUoaUVsZW1lbnQuY29udGVudHMoKSkoc2NvcGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyB0cmFuc2xhdGUgYXR0cmlidXRlXG4gICAgICAgICAgICBpZiAoIXN1Y2Nlc3NmdWwgJiYgdHlwZW9mIHNjb3BlLmRlZmF1bHRUZXh0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICB2YWx1ZSA9IHNjb3BlLmRlZmF1bHRUZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGF0dHJpYnV0ZU5hbWUgPSBpQXR0ci4kYXR0clt0cmFuc2xhdGVBdHRyXS5zdWJzdHIoMTUpO1xuICAgICAgICAgICAgaUVsZW1lbnQuYXR0cihhdHRyaWJ1dGVOYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLiR3YXRjaCgnaW50ZXJwb2xhdGVQYXJhbXMnLCB1cGRhdGVUcmFuc2xhdGlvbnMsIHRydWUpO1xuXG4gICAgICAgIC8vIEVuc3VyZXMgdGhlIHRleHQgd2lsbCBiZSByZWZyZXNoZWQgYWZ0ZXIgdGhlIGN1cnJlbnQgbGFuZ3VhZ2Ugd2FzIGNoYW5nZWRcbiAgICAgICAgLy8gdy8gJHRyYW5zbGF0ZS51c2UoLi4uKVxuICAgICAgICB2YXIgdW5iaW5kID0gJHJvb3RTY29wZS4kb24oJyR0cmFuc2xhdGVDaGFuZ2VTdWNjZXNzJywgdXBkYXRlVHJhbnNsYXRpb25zKTtcblxuICAgICAgICAvLyBlbnN1cmUgdHJhbnNsYXRpb24gd2lsbCBiZSBsb29rZWQgdXAgYXQgbGVhc3Qgb25lXG4gICAgICAgIGlmIChpRWxlbWVudC50ZXh0KCkubGVuZ3RoKSB7XG4gICAgICAgICAgb2JzZXJ2ZUVsZW1lbnRUcmFuc2xhdGlvbignJyk7XG4gICAgICAgIH1cbiAgICAgICAgdXBkYXRlVHJhbnNsYXRpb25zKCk7XG4gICAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCB1bmJpbmQpO1xuICAgICAgfTtcbiAgICB9XG4gIH07XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCdwYXNjYWxwcmVjaHQudHJhbnNsYXRlJylcbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgcGFzY2FscHJlY2h0LnRyYW5zbGF0ZS5kaXJlY3RpdmU6dHJhbnNsYXRlQ2xvYWtcbiAqIEByZXF1aXJlcyAkcm9vdFNjb3BlXG4gKiBAcmVxdWlyZXMgJHRyYW5zbGF0ZVxuICogQHJlc3RyaWN0IEFcbiAqXG4gKiAkZGVzY3JpcHRpb25cbiAqIEFkZHMgYSBgdHJhbnNsYXRlLWNsb2FrYCBjbGFzcyBuYW1lIHRvIHRoZSBnaXZlbiBlbGVtZW50IHdoZXJlIHRoaXMgZGlyZWN0aXZlXG4gKiBpcyBhcHBsaWVkIGluaXRpYWxseSBhbmQgcmVtb3ZlcyBpdCwgb25jZSBhIGxvYWRlciBoYXMgZmluaXNoZWQgbG9hZGluZy5cbiAqXG4gKiBUaGlzIGRpcmVjdGl2ZSBjYW4gYmUgdXNlZCB0byBwcmV2ZW50IGluaXRpYWwgZmxpY2tlcmluZyB3aGVuIGxvYWRpbmcgdHJhbnNsYXRpb25cbiAqIGRhdGEgYXN5bmNocm9ub3VzbHkuXG4gKlxuICogVGhlIGNsYXNzIG5hbWUgaXMgZGVmaW5lZCBpblxuICoge0BsaW5rIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVByb3ZpZGVyI2Nsb2FrQ2xhc3NOYW1lICR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKX0uXG4gKlxuICogQHBhcmFtIHtzdHJpbmc9fSB0cmFuc2xhdGUtY2xvYWsgSWYgYSB0cmFuc2xhdGlvbklkIGlzIHByb3ZpZGVkLCBpdCB3aWxsIGJlIHVzZWQgZm9yIHNob3dpbmdcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yIGhpZGluZyB0aGUgY2xvYWsuIEJhc2ljYWxseSBpdCByZWxpZXMgb24gdGhlIHRyYW5zbGF0aW9uXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlLlxuICovXG4uZGlyZWN0aXZlKCd0cmFuc2xhdGVDbG9haycsIFsnJHJvb3RTY29wZScsICckdHJhbnNsYXRlJywgZnVuY3Rpb24gKCRyb290U2NvcGUsICR0cmFuc2xhdGUpIHtcblxuICByZXR1cm4ge1xuICAgIGNvbXBpbGU6IGZ1bmN0aW9uICh0RWxlbWVudCkge1xuICAgICAgdmFyIGFwcGx5Q2xvYWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRFbGVtZW50LmFkZENsYXNzKCR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKSk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlQ2xvYWsgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRFbGVtZW50LnJlbW92ZUNsYXNzKCR0cmFuc2xhdGUuY2xvYWtDbGFzc05hbWUoKSk7XG4gICAgICB9LFxuICAgICAgcmVtb3ZlTGlzdGVuZXIgPSAkcm9vdFNjb3BlLiRvbignJHRyYW5zbGF0ZUNoYW5nZUVuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVtb3ZlQ2xvYWsoKTtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIoKTtcbiAgICAgICAgcmVtb3ZlTGlzdGVuZXIgPSBudWxsO1xuICAgICAgfSk7XG4gICAgICBhcHBseUNsb2FrKCk7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbiBsaW5rRm4oc2NvcGUsIGlFbGVtZW50LCBpQXR0cikge1xuICAgICAgICAvLyBSZWdpc3RlciBhIHdhdGNoZXIgZm9yIHRoZSBkZWZpbmVkIHRyYW5zbGF0aW9uIGFsbG93aW5nIGEgZmluZSB0dW5lZCBjbG9ha1xuICAgICAgICBpZiAoaUF0dHIudHJhbnNsYXRlQ2xvYWsgJiYgaUF0dHIudHJhbnNsYXRlQ2xvYWsubGVuZ3RoKSB7XG4gICAgICAgICAgaUF0dHIuJG9ic2VydmUoJ3RyYW5zbGF0ZUNsb2FrJywgZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQpIHtcbiAgICAgICAgICAgICR0cmFuc2xhdGUodHJhbnNsYXRpb25JZCkudGhlbihyZW1vdmVDbG9haywgYXBwbHlDbG9hayk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBmaWx0ZXJcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuZmlsdGVyOnRyYW5zbGF0ZVxuICogQHJlcXVpcmVzICRwYXJzZVxuICogQHJlcXVpcmVzIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVxuICogQGZ1bmN0aW9uXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBVc2VzIGAkdHJhbnNsYXRlYCBzZXJ2aWNlIHRvIHRyYW5zbGF0ZSBjb250ZW50cy4gQWNjZXB0cyBpbnRlcnBvbGF0ZSBwYXJhbWV0ZXJzXG4gKiB0byBwYXNzIGR5bmFtaXplZCB2YWx1ZXMgdGhvdWdoIHRyYW5zbGF0aW9uLlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2xhdGlvbklkIEEgdHJhbnNsYXRpb24gaWQgdG8gYmUgdHJhbnNsYXRlZC5cbiAqIEBwYXJhbSB7Kj19IGludGVycG9sYXRlUGFyYW1zIE9wdGlvbmFsIG9iamVjdCBsaXRlcmFsIChhcyBoYXNoIG9yIHN0cmluZykgdG8gcGFzcyB2YWx1ZXMgaW50byB0cmFuc2xhdGlvbi5cbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUcmFuc2xhdGVkIHRleHQuXG4gKlxuICogQGV4YW1wbGVcbiAgIDxleGFtcGxlIG1vZHVsZT1cIm5nVmlld1wiPlxuICAgIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG4gICAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJUcmFuc2xhdGVDdHJsXCI+XG5cbiAgICAgICAgPHByZT57eyAnVFJBTlNMQVRJT05fSUQnIHwgdHJhbnNsYXRlIH19PC9wcmU+XG4gICAgICAgIDxwcmU+e3sgdHJhbnNsYXRpb25JZCB8IHRyYW5zbGF0ZSB9fTwvcHJlPlxuICAgICAgICA8cHJlPnt7ICdXSVRIX1ZBTFVFUycgfCB0cmFuc2xhdGU6J3t2YWx1ZTogNX0nIH19PC9wcmU+XG4gICAgICAgIDxwcmU+e3sgJ1dJVEhfVkFMVUVTJyB8IHRyYW5zbGF0ZTp2YWx1ZXMgfX08L3ByZT5cblxuICAgICAgPC9kaXY+XG4gICAgPC9maWxlPlxuICAgIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbiAgICAgIGFuZ3VsYXIubW9kdWxlKCduZ1ZpZXcnLCBbJ3Bhc2NhbHByZWNodC50cmFuc2xhdGUnXSlcblxuICAgICAgLmNvbmZpZyhmdW5jdGlvbiAoJHRyYW5zbGF0ZVByb3ZpZGVyKSB7XG5cbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnRyYW5zbGF0aW9ucygnZW4nLCB7XG4gICAgICAgICAgJ1RSQU5TTEFUSU9OX0lEJzogJ0hlbGxvIHRoZXJlIScsXG4gICAgICAgICAgJ1dJVEhfVkFMVUVTJzogJ1RoZSBmb2xsb3dpbmcgdmFsdWUgaXMgZHluYW1pYzoge3t2YWx1ZX19J1xuICAgICAgICB9KTtcbiAgICAgICAgJHRyYW5zbGF0ZVByb3ZpZGVyLnByZWZlcnJlZExhbmd1YWdlKCdlbicpO1xuXG4gICAgICB9KTtcblxuICAgICAgYW5ndWxhci5tb2R1bGUoJ25nVmlldycpLmNvbnRyb2xsZXIoJ1RyYW5zbGF0ZUN0cmwnLCBmdW5jdGlvbiAoJHNjb3BlKSB7XG4gICAgICAgICRzY29wZS50cmFuc2xhdGlvbklkID0gJ1RSQU5TTEFUSU9OX0lEJztcblxuICAgICAgICAkc2NvcGUudmFsdWVzID0ge1xuICAgICAgICAgIHZhbHVlOiA3OFxuICAgICAgICB9O1xuICAgICAgfSk7XG4gICAgPC9maWxlPlxuICAgPC9leGFtcGxlPlxuICovXG4uZmlsdGVyKCd0cmFuc2xhdGUnLCBbJyRwYXJzZScsICckdHJhbnNsYXRlJywgZnVuY3Rpb24gKCRwYXJzZSwgJHRyYW5zbGF0ZSkge1xuICB2YXIgdHJhbnNsYXRlRmlsdGVyID0gZnVuY3Rpb24gKHRyYW5zbGF0aW9uSWQsIGludGVycG9sYXRlUGFyYW1zLCBpbnRlcnBvbGF0aW9uKSB7XG5cbiAgICBpZiAoIWFuZ3VsYXIuaXNPYmplY3QoaW50ZXJwb2xhdGVQYXJhbXMpKSB7XG4gICAgICBpbnRlcnBvbGF0ZVBhcmFtcyA9ICRwYXJzZShpbnRlcnBvbGF0ZVBhcmFtcykodGhpcyk7XG4gICAgfVxuXG4gICAgcmV0dXJuICR0cmFuc2xhdGUuaW5zdGFudCh0cmFuc2xhdGlvbklkLCBpbnRlcnBvbGF0ZVBhcmFtcywgaW50ZXJwb2xhdGlvbik7XG4gIH07XG5cbiAgLy8gU2luY2UgQW5ndWxhckpTIDEuMywgZmlsdGVycyB3aGljaCBhcmUgbm90IHN0YXRlbGVzcyAoZGVwZW5kaW5nIGF0IHRoZSBzY29wZSlcbiAgLy8gaGF2ZSB0byBleHBsaWNpdCBkZWZpbmUgdGhpcyBiZWhhdmlvci5cbiAgdHJhbnNsYXRlRmlsdGVyLiRzdGF0ZWZ1bCA9IHRydWU7XG5cbiAgcmV0dXJuIHRyYW5zbGF0ZUZpbHRlcjtcbn1dKTtcblxuLyogYW5ndWxhci1sb2FkLmpzIC8gdjAuNC4xIC8gKGMpIDIwMTQsIDIwMTUsIDIwMTYgVXJpIFNoYWtlZCAvIE1JVCBMaWNlbmNlICovXG5cbihmdW5jdGlvbiAoKSB7XG5cdCd1c2Ugc3RyaWN0JztcblxuXHRhbmd1bGFyLm1vZHVsZSgnYW5ndWxhckxvYWQnLCBbXSlcblx0XHQuc2VydmljZSgnYW5ndWxhckxvYWQnLCBbJyRkb2N1bWVudCcsICckcScsICckdGltZW91dCcsIGZ1bmN0aW9uICgkZG9jdW1lbnQsICRxLCAkdGltZW91dCkge1xuXHRcdFx0dmFyIGRvY3VtZW50ID0gJGRvY3VtZW50WzBdO1xuXG5cdFx0XHRmdW5jdGlvbiBsb2FkZXIoY3JlYXRlRWxlbWVudCkge1xuXHRcdFx0XHR2YXIgcHJvbWlzZXMgPSB7fTtcblxuXHRcdFx0XHRyZXR1cm4gZnVuY3Rpb24odXJsKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBwcm9taXNlc1t1cmxdID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRcdFx0dmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblx0XHRcdFx0XHRcdHZhciBlbGVtZW50ID0gY3JlYXRlRWxlbWVudCh1cmwpO1xuXG5cdFx0XHRcdFx0XHRlbGVtZW50Lm9ubG9hZCA9IGVsZW1lbnQub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKGUpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGVsZW1lbnQucmVhZHlTdGF0ZSAmJiBlbGVtZW50LnJlYWR5U3RhdGUgIT09ICdjb21wbGV0ZScgJiYgZWxlbWVudC5yZWFkeVN0YXRlICE9PSAnbG9hZGVkJykge1xuXHRcdFx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdCR0aW1lb3V0KGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0XHRkZWZlcnJlZC5yZXNvbHZlKGUpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRlbGVtZW50Lm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0XHRcdFx0XHQkdGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0XHRcdFx0ZGVmZXJyZWQucmVqZWN0KGUpO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH07XG5cblx0XHRcdFx0XHRcdHByb21pc2VzW3VybF0gPSBkZWZlcnJlZC5wcm9taXNlO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybiBwcm9taXNlc1t1cmxdO1xuXHRcdFx0XHR9O1xuXHRcdFx0fVxuXG5cdFx0XHQvKipcblx0XHRcdCAqIER5bmFtaWNhbGx5IGxvYWRzIHRoZSBnaXZlbiBzY3JpcHRcblx0XHRcdCAqIEBwYXJhbSBzcmMgVGhlIHVybCBvZiB0aGUgc2NyaXB0IHRvIGxvYWQgZHluYW1pY2FsbHlcblx0XHRcdCAqIEByZXR1cm5zIHsqfSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCBvbmNlIHRoZSBzY3JpcHQgaGFzIGJlZW4gbG9hZGVkLlxuXHRcdFx0ICovXG5cdFx0XHR0aGlzLmxvYWRTY3JpcHQgPSBsb2FkZXIoZnVuY3Rpb24gKHNyYykge1xuXHRcdFx0XHR2YXIgc2NyaXB0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG5cblx0XHRcdFx0c2NyaXB0LnNyYyA9IHNyYztcblxuXHRcdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG5cdFx0XHRcdHJldHVybiBzY3JpcHQ7XG5cdFx0XHR9KTtcblxuXHRcdFx0LyoqXG5cdFx0XHQgKiBEeW5hbWljYWxseSBsb2FkcyB0aGUgZ2l2ZW4gQ1NTIGZpbGVcblx0XHRcdCAqIEBwYXJhbSBocmVmIFRoZSB1cmwgb2YgdGhlIENTUyB0byBsb2FkIGR5bmFtaWNhbGx5XG5cdFx0XHQgKiBAcmV0dXJucyB7Kn0gUHJvbWlzZSB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgb25jZSB0aGUgQ1NTIGZpbGUgaGFzIGJlZW4gbG9hZGVkLlxuXHRcdFx0ICovXG5cdFx0XHR0aGlzLmxvYWRDU1MgPSBsb2FkZXIoZnVuY3Rpb24gKGhyZWYpIHtcblx0XHRcdFx0dmFyIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGluaycpO1xuXG5cdFx0XHRcdHN0eWxlLnJlbCA9ICdzdHlsZXNoZWV0Jztcblx0XHRcdFx0c3R5bGUudHlwZSA9ICd0ZXh0L2Nzcyc7XG5cdFx0XHRcdHN0eWxlLmhyZWYgPSBocmVmO1xuXG5cdFx0XHRcdGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuXHRcdFx0XHRyZXR1cm4gc3R5bGU7XG5cdFx0XHR9KTtcblx0XHR9XSk7XG59KSgpO1xuXG4vKiFcbiAqIGFuZ3VsYXItdHJhbnNsYXRlIC0gdjIuNS4yIC0gMjAxNC0xMi0xMFxuICogaHR0cDovL2dpdGh1Yi5jb20vYW5ndWxhci10cmFuc2xhdGUvYW5ndWxhci10cmFuc2xhdGVcbiAqIENvcHlyaWdodCAoYykgMjAxNCA7IExpY2Vuc2VkIE1JVFxuICovXG5hbmd1bGFyLm1vZHVsZSgncGFzY2FscHJlY2h0LnRyYW5zbGF0ZScpXG4vKipcbiAqIEBuZ2RvYyBvYmplY3RcbiAqIEBuYW1lIHBhc2NhbHByZWNodC50cmFuc2xhdGUuJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyXG4gKiBAcmVxdWlyZXMgJHFcbiAqIEByZXF1aXJlcyAkaHR0cFxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogQ3JlYXRlcyBhIGxvYWRpbmcgZnVuY3Rpb24gZm9yIGEgdHlwaWNhbCBzdGF0aWMgZmlsZSB1cmwgcGF0dGVybjpcbiAqIFwibGFuZy1lbl9VUy5qc29uXCIsIFwibGFuZy1kZV9ERS5qc29uXCIsIGV0Yy4gVXNpbmcgdGhpcyBidWlsZGVyLFxuICogdGhlIHJlc3BvbnNlIG9mIHRoZXNlIHVybHMgbXVzdCBiZSBhbiBvYmplY3Qgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIE9wdGlvbnMgb2JqZWN0LCB3aGljaCBnZXRzIHByZWZpeCwgc3VmZml4IGFuZCBrZXkuXG4gKi9cbi5mYWN0b3J5KCckdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXInLCBbJyRxJywgJyRodHRwJywgZnVuY3Rpb24gKCRxLCAkaHR0cCkge1xuXG4gIHJldHVybiBmdW5jdGlvbiAob3B0aW9ucykge1xuXG4gICAgaWYgKCFvcHRpb25zIHx8ICghYW5ndWxhci5pc1N0cmluZyhvcHRpb25zLnByZWZpeCkgfHwgIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5zdWZmaXgpKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZG5cXCd0IGxvYWQgc3RhdGljIGZpbGVzLCBubyBwcmVmaXggb3Igc3VmZml4IHNwZWNpZmllZCEnKTtcbiAgICB9XG5cbiAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgJGh0dHAoYW5ndWxhci5leHRlbmQoe1xuICAgICAgdXJsOiBbXG4gICAgICAgIG9wdGlvbnMucHJlZml4LFxuICAgICAgICBvcHRpb25zLmtleSxcbiAgICAgICAgb3B0aW9ucy5zdWZmaXhcbiAgICAgIF0uam9pbignJyksXG4gICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgcGFyYW1zOiAnJ1xuICAgIH0sIG9wdGlvbnMuJGh0dHApKS5zdWNjZXNzKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgIH0pLmVycm9yKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBkZWZlcnJlZC5yZWplY3Qob3B0aW9ucy5rZXkpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gIH07XG59XSk7XG5cblwidXNlIHN0cmljdFwiO1xuLyogZ2xvYmFsIGFuZ3VsYXIsIHdpbmRvdyAqL1xuXG4vKipcbiAqIFJlaW1wbGVtZW50YXRpb24gb2YgJHRyYW5zbGF0ZVN0YXRpY0ZpbGVzTG9hZGVyIHRvIGhhbmRsZSBtaXNzaW5nIGZpbGVzIGFuZCBsb2NhbGUgaGllcmFyY2h5IChlbi9lbl9VUylcbiAqL1xuYW5ndWxhci5tb2R1bGUoXCJwYXNjYWxwcmVjaHQudHJhbnNsYXRlXCIpLmZhY3RvcnkoXCIkdHJhbnNsYXRlU3RhdGljRmlsZXNMb2FkZXJcIiwgW1xuICBcIiRxXCIsXG4gIFwiJGh0dHBcIixcbiAgZnVuY3Rpb24gKCRxLCAkaHR0cCkge1xuICAgIGZ1bmN0aW9uIGxvYWRUcmFuc2xhdGlvbkZpbGUob3B0aW9ucywgZGVmZXJyZWQpIHtcbiAgICAgICRodHRwKGFuZ3VsYXIuZXh0ZW5kKHtcbiAgICAgICAgdXJsOiBbXG4gICAgICAgICAgb3B0aW9ucy5wcmVmaXgsXG4gICAgICAgICAgb3B0aW9ucy5rZXkudG9Mb3dlckNhc2UoKSxcbiAgICAgICAgICBvcHRpb25zLnN1ZmZpeFxuICAgICAgICBdLmpvaW4oXCJcIiksXG4gICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgcGFyYW1zOiBcIlwiXG4gICAgICB9LCBvcHRpb25zLiRodHRwKSkuc3VjY2VzcyhmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGRhdGEpO1xuICAgICAgfSkuZXJyb3IoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZihvcHRpb25zLmtleS5pbmRleE9mKFwiX1wiKSA+PSAwKSB7XG4gICAgICAgICAgdmFyIGtleSA9IG9wdGlvbnMua2V5LnN1YnN0cigwLCBvcHRpb25zLmtleS5sYXN0SW5kZXhPZihcIl9cIikpO1xuICAgICAgICAgIHZhciBvcHRzID0gYW5ndWxhci5leHRlbmQoe30sIG9wdGlvbnMsIHsga2V5OiBrZXkgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgbG9hZFRyYW5zbGF0aW9uRmlsZShvcHRzLCBkZWZlcnJlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShcInt9XCIpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgIGlmICghb3B0aW9ucyB8fCAoIWFuZ3VsYXIuaXNTdHJpbmcob3B0aW9ucy5wcmVmaXgpIHx8ICFhbmd1bGFyLmlzU3RyaW5nKG9wdGlvbnMuc3VmZml4KSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuXFxcInQgbG9hZCBzdGF0aWMgZmlsZXMsIG5vIHByZWZpeCBvciBzdWZmaXggc3BlY2lmaWVkIVwiKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgbG9hZFRyYW5zbGF0aW9uRmlsZShvcHRpb25zLCBkZWZlcnJlZCk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG4gIH1cbl0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIiwgW1wicGFzY2FscHJlY2h0LnRyYW5zbGF0ZVwiLCBcInJpc2V2aXNpb24uY29tbW9uLmkxOG4uY29uZmlnXCJdKVxuLmNvbmZpZyhbXCIkdHJhbnNsYXRlUHJvdmlkZXJcIiwgXCJMT0NBTEVTX1BSRUZJWFwiLCBcIkxPQ0FMRVNfU1VGSVhcIiwgZnVuY3Rpb24gKCR0cmFuc2xhdGVQcm92aWRlciwgTE9DQUxFU19QUkVGSVgsIExPQ0FMRVNfU1VGSVgpIHtcbiAgLy8gVHJpZXMgdG8gZGV0ZXJtaW5lIHRoZSBicm93c2VycyBsb2NhbGVcbiAgJHRyYW5zbGF0ZVByb3ZpZGVyLnVzZVN0YXRpY0ZpbGVzTG9hZGVyKHtcbiAgICBwcmVmaXg6IExPQ0FMRVNfUFJFRklYLFxuICAgIHN1ZmZpeDogTE9DQUxFU19TVUZJWFxuICB9KTtcbiAgXG4gICR0cmFuc2xhdGVQcm92aWRlclxuICAgIC5kZXRlcm1pbmVQcmVmZXJyZWRMYW5ndWFnZSgpXG4gICAgLmZhbGxiYWNrTGFuZ3VhZ2UoXCJlblwiKTtcbn1dKTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGFmZml4LmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWZmaXhcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBBRkZJWCBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgQWZmaXggPSBmdW5jdGlvbiAoZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHRoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCBBZmZpeC5ERUZBVUxUUywgb3B0aW9ucylcblxuICAgIHRoaXMuJHRhcmdldCA9ICQodGhpcy5vcHRpb25zLnRhcmdldClcbiAgICAgIC5vbignc2Nyb2xsLmJzLmFmZml4LmRhdGEtYXBpJywgJC5wcm94eSh0aGlzLmNoZWNrUG9zaXRpb24sIHRoaXMpKVxuICAgICAgLm9uKCdjbGljay5icy5hZmZpeC5kYXRhLWFwaScsICAkLnByb3h5KHRoaXMuY2hlY2tQb3NpdGlvbldpdGhFdmVudExvb3AsIHRoaXMpKVxuXG4gICAgdGhpcy4kZWxlbWVudCAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5hZmZpeGVkICAgICAgPVxuICAgIHRoaXMudW5waW4gICAgICAgID1cbiAgICB0aGlzLnBpbm5lZE9mZnNldCA9IG51bGxcblxuICAgIHRoaXMuY2hlY2tQb3NpdGlvbigpXG4gIH1cblxuICBBZmZpeC5WRVJTSU9OICA9ICczLjIuMCdcblxuICBBZmZpeC5SRVNFVCAgICA9ICdhZmZpeCBhZmZpeC10b3AgYWZmaXgtYm90dG9tJ1xuXG4gIEFmZml4LkRFRkFVTFRTID0ge1xuICAgIG9mZnNldDogMCxcbiAgICB0YXJnZXQ6IHdpbmRvd1xuICB9XG5cbiAgQWZmaXgucHJvdG90eXBlLmdldFBpbm5lZE9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5waW5uZWRPZmZzZXQpIHJldHVybiB0aGlzLnBpbm5lZE9mZnNldFxuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoQWZmaXguUkVTRVQpLmFkZENsYXNzKCdhZmZpeCcpXG4gICAgdmFyIHNjcm9sbFRvcCA9IHRoaXMuJHRhcmdldC5zY3JvbGxUb3AoKVxuICAgIHZhciBwb3NpdGlvbiAgPSB0aGlzLiRlbGVtZW50Lm9mZnNldCgpXG4gICAgcmV0dXJuICh0aGlzLnBpbm5lZE9mZnNldCA9IHBvc2l0aW9uLnRvcCAtIHNjcm9sbFRvcClcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uV2l0aEV2ZW50TG9vcCA9IGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KCQucHJveHkodGhpcy5jaGVja1Bvc2l0aW9uLCB0aGlzKSwgMSlcbiAgfVxuXG4gIEFmZml4LnByb3RvdHlwZS5jaGVja1Bvc2l0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICghdGhpcy4kZWxlbWVudC5pcygnOnZpc2libGUnKSkgcmV0dXJuXG5cbiAgICB2YXIgc2Nyb2xsSGVpZ2h0ID0gJChkb2N1bWVudCkuaGVpZ2h0KClcbiAgICB2YXIgc2Nyb2xsVG9wICAgID0gdGhpcy4kdGFyZ2V0LnNjcm9sbFRvcCgpXG4gICAgdmFyIHBvc2l0aW9uICAgICA9IHRoaXMuJGVsZW1lbnQub2Zmc2V0KClcbiAgICB2YXIgb2Zmc2V0ICAgICAgID0gdGhpcy5vcHRpb25zLm9mZnNldFxuICAgIHZhciBvZmZzZXRUb3AgICAgPSBvZmZzZXQudG9wXG4gICAgdmFyIG9mZnNldEJvdHRvbSA9IG9mZnNldC5ib3R0b21cblxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0ICE9ICdvYmplY3QnKSAgICAgICAgIG9mZnNldEJvdHRvbSA9IG9mZnNldFRvcCA9IG9mZnNldFxuICAgIGlmICh0eXBlb2Ygb2Zmc2V0VG9wID09ICdmdW5jdGlvbicpICAgIG9mZnNldFRvcCAgICA9IG9mZnNldC50b3AodGhpcy4kZWxlbWVudClcbiAgICBpZiAodHlwZW9mIG9mZnNldEJvdHRvbSA9PSAnZnVuY3Rpb24nKSBvZmZzZXRCb3R0b20gPSBvZmZzZXQuYm90dG9tKHRoaXMuJGVsZW1lbnQpXG5cbiAgICB2YXIgYWZmaXggPSB0aGlzLnVucGluICAgIT0gbnVsbCAmJiAoc2Nyb2xsVG9wICsgdGhpcy51bnBpbiA8PSBwb3NpdGlvbi50b3ApID8gZmFsc2UgOlxuICAgICAgICAgICAgICAgIG9mZnNldEJvdHRvbSAhPSBudWxsICYmIChwb3NpdGlvbi50b3AgKyB0aGlzLiRlbGVtZW50LmhlaWdodCgpID49IHNjcm9sbEhlaWdodCAtIG9mZnNldEJvdHRvbSkgPyAnYm90dG9tJyA6XG4gICAgICAgICAgICAgICAgb2Zmc2V0VG9wICAgICE9IG51bGwgJiYgKHNjcm9sbFRvcCA8PSBvZmZzZXRUb3ApID8gJ3RvcCcgOiBmYWxzZVxuXG4gICAgaWYgKHRoaXMuYWZmaXhlZCA9PT0gYWZmaXgpIHJldHVyblxuICAgIGlmICh0aGlzLnVucGluICE9IG51bGwpIHRoaXMuJGVsZW1lbnQuY3NzKCd0b3AnLCAnJylcblxuICAgIHZhciBhZmZpeFR5cGUgPSAnYWZmaXgnICsgKGFmZml4ID8gJy0nICsgYWZmaXggOiAnJylcbiAgICB2YXIgZSAgICAgICAgID0gJC5FdmVudChhZmZpeFR5cGUgKyAnLmJzLmFmZml4JylcblxuICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihlKVxuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5hZmZpeGVkID0gYWZmaXhcbiAgICB0aGlzLnVucGluID0gYWZmaXggPT0gJ2JvdHRvbScgPyB0aGlzLmdldFBpbm5lZE9mZnNldCgpIDogbnVsbFxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLnJlbW92ZUNsYXNzKEFmZml4LlJFU0VUKVxuICAgICAgLmFkZENsYXNzKGFmZml4VHlwZSlcbiAgICAgIC50cmlnZ2VyKCQuRXZlbnQoYWZmaXhUeXBlLnJlcGxhY2UoJ2FmZml4JywgJ2FmZml4ZWQnKSkpXG5cbiAgICBpZiAoYWZmaXggPT0gJ2JvdHRvbScpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub2Zmc2V0KHtcbiAgICAgICAgdG9wOiBzY3JvbGxIZWlnaHQgLSB0aGlzLiRlbGVtZW50LmhlaWdodCgpIC0gb2Zmc2V0Qm90dG9tXG4gICAgICB9KVxuICAgIH1cbiAgfVxuXG5cbiAgLy8gQUZGSVggUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuYWZmaXgnKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmFmZml4JywgKGRhdGEgPSBuZXcgQWZmaXgodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmFmZml4XG5cbiAgJC5mbi5hZmZpeCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmFmZml4LkNvbnN0cnVjdG9yID0gQWZmaXhcblxuXG4gIC8vIEFGRklYIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5hZmZpeC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYWZmaXggPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBBRkZJWCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQod2luZG93KS5vbignbG9hZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAkKCdbZGF0YS1zcHk9XCJhZmZpeFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRzcHkgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSA9ICRzcHkuZGF0YSgpXG5cbiAgICAgIGRhdGEub2Zmc2V0ID0gZGF0YS5vZmZzZXQgfHwge31cblxuICAgICAgaWYgKGRhdGEub2Zmc2V0Qm90dG9tKSBkYXRhLm9mZnNldC5ib3R0b20gPSBkYXRhLm9mZnNldEJvdHRvbVxuICAgICAgaWYgKGRhdGEub2Zmc2V0VG9wKSAgICBkYXRhLm9mZnNldC50b3AgICAgPSBkYXRhLm9mZnNldFRvcFxuXG4gICAgICBQbHVnaW4uY2FsbCgkc3B5LCBkYXRhKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGFsZXJ0LmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jYWxlcnRzXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQUxFUlQgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIGRpc21pc3MgPSAnW2RhdGEtZGlzbWlzcz1cImFsZXJ0XCJdJ1xuICB2YXIgQWxlcnQgICA9IGZ1bmN0aW9uIChlbCkge1xuICAgICQoZWwpLm9uKCdjbGljaycsIGRpc21pc3MsIHRoaXMuY2xvc2UpXG4gIH1cblxuICBBbGVydC5WRVJTSU9OID0gJzMuMi4wJ1xuXG4gIEFsZXJ0LnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzICAgID0gJCh0aGlzKVxuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JylcblxuICAgIGlmICghc2VsZWN0b3IpIHtcbiAgICAgIHNlbGVjdG9yID0gJHRoaXMuYXR0cignaHJlZicpXG4gICAgICBzZWxlY3RvciA9IHNlbGVjdG9yICYmIHNlbGVjdG9yLnJlcGxhY2UoLy4qKD89I1teXFxzXSokKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgfVxuXG4gICAgdmFyICRwYXJlbnQgPSAkKHNlbGVjdG9yKVxuXG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgaWYgKCEkcGFyZW50Lmxlbmd0aCkge1xuICAgICAgJHBhcmVudCA9ICR0aGlzLmhhc0NsYXNzKCdhbGVydCcpID8gJHRoaXMgOiAkdGhpcy5wYXJlbnQoKVxuICAgIH1cblxuICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnY2xvc2UuYnMuYWxlcnQnKSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgIGZ1bmN0aW9uIHJlbW92ZUVsZW1lbnQoKSB7XG4gICAgICAvLyBkZXRhY2ggZnJvbSBwYXJlbnQsIGZpcmUgZXZlbnQgdGhlbiBjbGVhbiB1cCBkYXRhXG4gICAgICAkcGFyZW50LmRldGFjaCgpLnRyaWdnZXIoJ2Nsb3NlZC5icy5hbGVydCcpLnJlbW92ZSgpXG4gICAgfVxuXG4gICAgJC5zdXBwb3J0LnRyYW5zaXRpb24gJiYgJHBhcmVudC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICRwYXJlbnRcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgcmVtb3ZlRWxlbWVudClcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgcmVtb3ZlRWxlbWVudCgpXG4gIH1cblxuXG4gIC8vIEFMRVJUIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMuYWxlcnQnKVxuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmFsZXJ0JywgKGRhdGEgPSBuZXcgQWxlcnQodGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5hbGVydFxuXG4gICQuZm4uYWxlcnQgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5hbGVydC5Db25zdHJ1Y3RvciA9IEFsZXJ0XG5cblxuICAvLyBBTEVSVCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uYWxlcnQubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmFsZXJ0ID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQUxFUlQgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuYWxlcnQuZGF0YS1hcGknLCBkaXNtaXNzLCBBbGVydC5wcm90b3R5cGUuY2xvc2UpXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGJ1dHRvbi5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2J1dHRvbnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBCVVRUT04gUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIEJ1dHRvbiA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy5vcHRpb25zICAgPSAkLmV4dGVuZCh7fSwgQnV0dG9uLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2VcbiAgfVxuXG4gIEJ1dHRvbi5WRVJTSU9OICA9ICczLjIuMCdcblxuICBCdXR0b24uREVGQVVMVFMgPSB7XG4gICAgbG9hZGluZ1RleHQ6ICdsb2FkaW5nLi4uJ1xuICB9XG5cbiAgQnV0dG9uLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgIHZhciBkICAgID0gJ2Rpc2FibGVkJ1xuICAgIHZhciAkZWwgID0gdGhpcy4kZWxlbWVudFxuICAgIHZhciB2YWwgID0gJGVsLmlzKCdpbnB1dCcpID8gJ3ZhbCcgOiAnaHRtbCdcbiAgICB2YXIgZGF0YSA9ICRlbC5kYXRhKClcblxuICAgIHN0YXRlID0gc3RhdGUgKyAnVGV4dCdcblxuICAgIGlmIChkYXRhLnJlc2V0VGV4dCA9PSBudWxsKSAkZWwuZGF0YSgncmVzZXRUZXh0JywgJGVsW3ZhbF0oKSlcblxuICAgICRlbFt2YWxdKGRhdGFbc3RhdGVdID09IG51bGwgPyB0aGlzLm9wdGlvbnNbc3RhdGVdIDogZGF0YVtzdGF0ZV0pXG5cbiAgICAvLyBwdXNoIHRvIGV2ZW50IGxvb3AgdG8gYWxsb3cgZm9ybXMgdG8gc3VibWl0XG4gICAgc2V0VGltZW91dCgkLnByb3h5KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzdGF0ZSA9PSAnbG9hZGluZ1RleHQnKSB7XG4gICAgICAgIHRoaXMuaXNMb2FkaW5nID0gdHJ1ZVxuICAgICAgICAkZWwuYWRkQ2xhc3MoZCkuYXR0cihkLCBkKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlXG4gICAgICAgICRlbC5yZW1vdmVDbGFzcyhkKS5yZW1vdmVBdHRyKGQpXG4gICAgICB9XG4gICAgfSwgdGhpcyksIDApXG4gIH1cblxuICBCdXR0b24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2hhbmdlZCA9IHRydWVcbiAgICB2YXIgJHBhcmVudCA9IHRoaXMuJGVsZW1lbnQuY2xvc2VzdCgnW2RhdGEtdG9nZ2xlPVwiYnV0dG9uc1wiXScpXG5cbiAgICBpZiAoJHBhcmVudC5sZW5ndGgpIHtcbiAgICAgIHZhciAkaW5wdXQgPSB0aGlzLiRlbGVtZW50LmZpbmQoJ2lucHV0JylcbiAgICAgIGlmICgkaW5wdXQucHJvcCgndHlwZScpID09ICdyYWRpbycpIHtcbiAgICAgICAgaWYgKCRpbnB1dC5wcm9wKCdjaGVja2VkJykgJiYgdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnYWN0aXZlJykpIGNoYW5nZWQgPSBmYWxzZVxuICAgICAgICBlbHNlICRwYXJlbnQuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgfVxuICAgICAgaWYgKGNoYW5nZWQpICRpbnB1dC5wcm9wKCdjaGVja2VkJywgIXRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2FjdGl2ZScpKS50cmlnZ2VyKCdjaGFuZ2UnKVxuICAgIH1cblxuICAgIGlmIChjaGFuZ2VkKSB0aGlzLiRlbGVtZW50LnRvZ2dsZUNsYXNzKCdhY3RpdmUnKVxuICB9XG5cblxuICAvLyBCVVRUT04gUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLmJ1dHRvbicpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuYnV0dG9uJywgKGRhdGEgPSBuZXcgQnV0dG9uKHRoaXMsIG9wdGlvbnMpKSlcblxuICAgICAgaWYgKG9wdGlvbiA9PSAndG9nZ2xlJykgZGF0YS50b2dnbGUoKVxuICAgICAgZWxzZSBpZiAob3B0aW9uKSBkYXRhLnNldFN0YXRlKG9wdGlvbilcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYnV0dG9uXG5cbiAgJC5mbi5idXR0b24gICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5idXR0b24uQ29uc3RydWN0b3IgPSBCdXR0b25cblxuXG4gIC8vIEJVVFRPTiBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmJ1dHRvbi5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uYnV0dG9uID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQlVUVE9OIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5idXR0b24uZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlXj1cImJ1dHRvblwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICRidG4gPSAkKGUudGFyZ2V0KVxuICAgIGlmICghJGJ0bi5oYXNDbGFzcygnYnRuJykpICRidG4gPSAkYnRuLmNsb3Nlc3QoJy5idG4nKVxuICAgIFBsdWdpbi5jYWxsKCRidG4sICd0b2dnbGUnKVxuICAgIGUucHJldmVudERlZmF1bHQoKVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBjYXJvdXNlbC5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI2Nhcm91c2VsXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIENvcHlyaWdodCAyMDExLTIwMTQgVHdpdHRlciwgSW5jLlxuICogTGljZW5zZWQgdW5kZXIgTUlUIChodHRwczovL2dpdGh1Yi5jb20vdHdicy9ib290c3RyYXAvYmxvYi9tYXN0ZXIvTElDRU5TRSlcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSAqL1xuXG5cbitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gQ0FST1VTRUwgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIENhcm91c2VsID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ICAgID0gJChlbGVtZW50KS5vbigna2V5ZG93bi5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5rZXlkb3duLCB0aGlzKSlcbiAgICB0aGlzLiRpbmRpY2F0b3JzID0gdGhpcy4kZWxlbWVudC5maW5kKCcuY2Fyb3VzZWwtaW5kaWNhdG9ycycpXG4gICAgdGhpcy5vcHRpb25zICAgICA9IG9wdGlvbnNcbiAgICB0aGlzLnBhdXNlZCAgICAgID1cbiAgICB0aGlzLnNsaWRpbmcgICAgID1cbiAgICB0aGlzLmludGVydmFsICAgID1cbiAgICB0aGlzLiRhY3RpdmUgICAgID1cbiAgICB0aGlzLiRpdGVtcyAgICAgID0gbnVsbFxuXG4gICAgdGhpcy5vcHRpb25zLnBhdXNlID09ICdob3ZlcicgJiYgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uKCdtb3VzZWVudGVyLmJzLmNhcm91c2VsJywgJC5wcm94eSh0aGlzLnBhdXNlLCB0aGlzKSlcbiAgICAgIC5vbignbW91c2VsZWF2ZS5icy5jYXJvdXNlbCcsICQucHJveHkodGhpcy5jeWNsZSwgdGhpcykpXG4gIH1cblxuICBDYXJvdXNlbC5WRVJTSU9OICA9ICczLjIuMCdcblxuICBDYXJvdXNlbC5ERUZBVUxUUyA9IHtcbiAgICBpbnRlcnZhbDogNTAwMCxcbiAgICBwYXVzZTogJ2hvdmVyJyxcbiAgICB3cmFwOiB0cnVlXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUua2V5ZG93biA9IGZ1bmN0aW9uIChlKSB7XG4gICAgc3dpdGNoIChlLndoaWNoKSB7XG4gICAgICBjYXNlIDM3OiB0aGlzLnByZXYoKTsgYnJlYWtcbiAgICAgIGNhc2UgMzk6IHRoaXMubmV4dCgpOyBicmVha1xuICAgICAgZGVmYXVsdDogcmV0dXJuXG4gICAgfVxuXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuY3ljbGUgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUgfHwgKHRoaXMucGF1c2VkID0gZmFsc2UpXG5cbiAgICB0aGlzLmludGVydmFsICYmIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbClcblxuICAgIHRoaXMub3B0aW9ucy5pbnRlcnZhbFxuICAgICAgJiYgIXRoaXMucGF1c2VkXG4gICAgICAmJiAodGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCQucHJveHkodGhpcy5uZXh0LCB0aGlzKSwgdGhpcy5vcHRpb25zLmludGVydmFsKSlcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUuZ2V0SXRlbUluZGV4ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICB0aGlzLiRpdGVtcyA9IGl0ZW0ucGFyZW50KCkuY2hpbGRyZW4oJy5pdGVtJylcbiAgICByZXR1cm4gdGhpcy4kaXRlbXMuaW5kZXgoaXRlbSB8fCB0aGlzLiRhY3RpdmUpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgdmFyIHRoYXQgICAgICAgID0gdGhpc1xuICAgIHZhciBhY3RpdmVJbmRleCA9IHRoaXMuZ2V0SXRlbUluZGV4KHRoaXMuJGFjdGl2ZSA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJykpXG5cbiAgICBpZiAocG9zID4gKHRoaXMuJGl0ZW1zLmxlbmd0aCAtIDEpIHx8IHBvcyA8IDApIHJldHVyblxuXG4gICAgaWYgKHRoaXMuc2xpZGluZykgICAgICAgcmV0dXJuIHRoaXMuJGVsZW1lbnQub25lKCdzbGlkLmJzLmNhcm91c2VsJywgZnVuY3Rpb24gKCkgeyB0aGF0LnRvKHBvcykgfSkgLy8geWVzLCBcInNsaWRcIlxuICAgIGlmIChhY3RpdmVJbmRleCA9PSBwb3MpIHJldHVybiB0aGlzLnBhdXNlKCkuY3ljbGUoKVxuXG4gICAgcmV0dXJuIHRoaXMuc2xpZGUocG9zID4gYWN0aXZlSW5kZXggPyAnbmV4dCcgOiAncHJldicsICQodGhpcy4kaXRlbXNbcG9zXSkpXG4gIH1cblxuICBDYXJvdXNlbC5wcm90b3R5cGUucGF1c2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIGUgfHwgKHRoaXMucGF1c2VkID0gdHJ1ZSlcblxuICAgIGlmICh0aGlzLiRlbGVtZW50LmZpbmQoJy5uZXh0LCAucHJldicpLmxlbmd0aCAmJiAkLnN1cHBvcnQudHJhbnNpdGlvbikge1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZClcbiAgICAgIHRoaXMuY3ljbGUodHJ1ZSlcbiAgICB9XG5cbiAgICB0aGlzLmludGVydmFsID0gY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5uZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgIHJldHVybiB0aGlzLnNsaWRlKCduZXh0JylcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5wcmV2ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnNsaWRpbmcpIHJldHVyblxuICAgIHJldHVybiB0aGlzLnNsaWRlKCdwcmV2JylcbiAgfVxuXG4gIENhcm91c2VsLnByb3RvdHlwZS5zbGlkZSA9IGZ1bmN0aW9uICh0eXBlLCBuZXh0KSB7XG4gICAgdmFyICRhY3RpdmUgICA9IHRoaXMuJGVsZW1lbnQuZmluZCgnLml0ZW0uYWN0aXZlJylcbiAgICB2YXIgJG5leHQgICAgID0gbmV4dCB8fCAkYWN0aXZlW3R5cGVdKClcbiAgICB2YXIgaXNDeWNsaW5nID0gdGhpcy5pbnRlcnZhbFxuICAgIHZhciBkaXJlY3Rpb24gPSB0eXBlID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCdcbiAgICB2YXIgZmFsbGJhY2sgID0gdHlwZSA9PSAnbmV4dCcgPyAnZmlyc3QnIDogJ2xhc3QnXG4gICAgdmFyIHRoYXQgICAgICA9IHRoaXNcblxuICAgIGlmICghJG5leHQubGVuZ3RoKSB7XG4gICAgICBpZiAoIXRoaXMub3B0aW9ucy53cmFwKSByZXR1cm5cbiAgICAgICRuZXh0ID0gdGhpcy4kZWxlbWVudC5maW5kKCcuaXRlbScpW2ZhbGxiYWNrXSgpXG4gICAgfVxuXG4gICAgaWYgKCRuZXh0Lmhhc0NsYXNzKCdhY3RpdmUnKSkgcmV0dXJuICh0aGlzLnNsaWRpbmcgPSBmYWxzZSlcblxuICAgIHZhciByZWxhdGVkVGFyZ2V0ID0gJG5leHRbMF1cbiAgICB2YXIgc2xpZGVFdmVudCA9ICQuRXZlbnQoJ3NsaWRlLmJzLmNhcm91c2VsJywge1xuICAgICAgcmVsYXRlZFRhcmdldDogcmVsYXRlZFRhcmdldCxcbiAgICAgIGRpcmVjdGlvbjogZGlyZWN0aW9uXG4gICAgfSlcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc2xpZGVFdmVudClcbiAgICBpZiAoc2xpZGVFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLnNsaWRpbmcgPSB0cnVlXG5cbiAgICBpc0N5Y2xpbmcgJiYgdGhpcy5wYXVzZSgpXG5cbiAgICBpZiAodGhpcy4kaW5kaWNhdG9ycy5sZW5ndGgpIHtcbiAgICAgIHRoaXMuJGluZGljYXRvcnMuZmluZCgnLmFjdGl2ZScpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgdmFyICRuZXh0SW5kaWNhdG9yID0gJCh0aGlzLiRpbmRpY2F0b3JzLmNoaWxkcmVuKClbdGhpcy5nZXRJdGVtSW5kZXgoJG5leHQpXSlcbiAgICAgICRuZXh0SW5kaWNhdG9yICYmICRuZXh0SW5kaWNhdG9yLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgIH1cblxuICAgIHZhciBzbGlkRXZlbnQgPSAkLkV2ZW50KCdzbGlkLmJzLmNhcm91c2VsJywgeyByZWxhdGVkVGFyZ2V0OiByZWxhdGVkVGFyZ2V0LCBkaXJlY3Rpb246IGRpcmVjdGlvbiB9KSAvLyB5ZXMsIFwic2xpZFwiXG4gICAgaWYgKCQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ3NsaWRlJykpIHtcbiAgICAgICRuZXh0LmFkZENsYXNzKHR5cGUpXG4gICAgICAkbmV4dFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcbiAgICAgICRhY3RpdmUuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgJG5leHQuYWRkQ2xhc3MoZGlyZWN0aW9uKVxuICAgICAgJGFjdGl2ZVxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgJG5leHQucmVtb3ZlQ2xhc3MoW3R5cGUsIGRpcmVjdGlvbl0uam9pbignICcpKS5hZGRDbGFzcygnYWN0aXZlJylcbiAgICAgICAgICAkYWN0aXZlLnJlbW92ZUNsYXNzKFsnYWN0aXZlJywgZGlyZWN0aW9uXS5qb2luKCcgJykpXG4gICAgICAgICAgdGhhdC5zbGlkaW5nID0gZmFsc2VcbiAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgICAgICAgfSwgMClcbiAgICAgICAgfSlcbiAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKCRhY3RpdmUuY3NzKCd0cmFuc2l0aW9uLWR1cmF0aW9uJykuc2xpY2UoMCwgLTEpICogMTAwMClcbiAgICB9IGVsc2Uge1xuICAgICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJylcbiAgICAgICRuZXh0LmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgdGhpcy5zbGlkaW5nID0gZmFsc2VcbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcihzbGlkRXZlbnQpXG4gICAgfVxuXG4gICAgaXNDeWNsaW5nICYmIHRoaXMuY3ljbGUoKVxuXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ0FST1VTRUwgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ2Fyb3VzZWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG4gICAgICB2YXIgYWN0aW9uICA9IHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycgPyBvcHRpb24gOiBvcHRpb25zLnNsaWRlXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMuY2Fyb3VzZWwnLCAoZGF0YSA9IG5ldyBDYXJvdXNlbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnbnVtYmVyJykgZGF0YS50byhvcHRpb24pXG4gICAgICBlbHNlIGlmIChhY3Rpb24pIGRhdGFbYWN0aW9uXSgpXG4gICAgICBlbHNlIGlmIChvcHRpb25zLmludGVydmFsKSBkYXRhLnBhdXNlKCkuY3ljbGUoKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5jYXJvdXNlbFxuXG4gICQuZm4uY2Fyb3VzZWwgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi5jYXJvdXNlbC5Db25zdHJ1Y3RvciA9IENhcm91c2VsXG5cblxuICAvLyBDQVJPVVNFTCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4uY2Fyb3VzZWwubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmNhcm91c2VsID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG5cbiAgLy8gQ0FST1VTRUwgREFUQS1BUElcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMuY2Fyb3VzZWwuZGF0YS1hcGknLCAnW2RhdGEtc2xpZGVdLCBbZGF0YS1zbGlkZS10b10nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBocmVmXG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgdmFyICR0YXJnZXQgPSAkKCR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JykgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgaWYgKCEkdGFyZ2V0Lmhhc0NsYXNzKCdjYXJvdXNlbCcpKSByZXR1cm5cbiAgICB2YXIgb3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkdGFyZ2V0LmRhdGEoKSwgJHRoaXMuZGF0YSgpKVxuICAgIHZhciBzbGlkZUluZGV4ID0gJHRoaXMuYXR0cignZGF0YS1zbGlkZS10bycpXG4gICAgaWYgKHNsaWRlSW5kZXgpIG9wdGlvbnMuaW50ZXJ2YWwgPSBmYWxzZVxuXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9ucylcblxuICAgIGlmIChzbGlkZUluZGV4KSB7XG4gICAgICAkdGFyZ2V0LmRhdGEoJ2JzLmNhcm91c2VsJykudG8oc2xpZGVJbmRleClcbiAgICB9XG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgfSlcblxuICAkKHdpbmRvdykub24oJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgJCgnW2RhdGEtcmlkZT1cImNhcm91c2VsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJGNhcm91c2VsID0gJCh0aGlzKVxuICAgICAgUGx1Z2luLmNhbGwoJGNhcm91c2VsLCAkY2Fyb3VzZWwuZGF0YSgpKVxuICAgIH0pXG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IGNvbGxhcHNlLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jY29sbGFwc2VcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDT0xMQVBTRSBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBDb2xsYXBzZSA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCAgICAgID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgICAgICA9ICQuZXh0ZW5kKHt9LCBDb2xsYXBzZS5ERUZBVUxUUywgb3B0aW9ucylcbiAgICB0aGlzLnRyYW5zaXRpb25pbmcgPSBudWxsXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnBhcmVudCkgdGhpcy4kcGFyZW50ID0gJCh0aGlzLm9wdGlvbnMucGFyZW50KVxuICAgIGlmICh0aGlzLm9wdGlvbnMudG9nZ2xlKSB0aGlzLnRvZ2dsZSgpXG4gIH1cblxuICBDb2xsYXBzZS5WRVJTSU9OICA9ICczLjIuMCdcblxuICBDb2xsYXBzZS5ERUZBVUxUUyA9IHtcbiAgICB0b2dnbGU6IHRydWVcbiAgfVxuXG4gIENvbGxhcHNlLnByb3RvdHlwZS5kaW1lbnNpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGhhc1dpZHRoID0gdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnd2lkdGgnKVxuICAgIHJldHVybiBoYXNXaWR0aCA/ICd3aWR0aCcgOiAnaGVpZ2h0J1xuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMudHJhbnNpdGlvbmluZyB8fCB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnc2hvdy5icy5jb2xsYXBzZScpXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyIGFjdGl2ZXMgPSB0aGlzLiRwYXJlbnQgJiYgdGhpcy4kcGFyZW50LmZpbmQoJz4gLnBhbmVsID4gLmluJylcblxuICAgIGlmIChhY3RpdmVzICYmIGFjdGl2ZXMubGVuZ3RoKSB7XG4gICAgICB2YXIgaGFzRGF0YSA9IGFjdGl2ZXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgaWYgKGhhc0RhdGEgJiYgaGFzRGF0YS50cmFuc2l0aW9uaW5nKSByZXR1cm5cbiAgICAgIFBsdWdpbi5jYWxsKGFjdGl2ZXMsICdoaWRlJylcbiAgICAgIGhhc0RhdGEgfHwgYWN0aXZlcy5kYXRhKCdicy5jb2xsYXBzZScsIG51bGwpXG4gICAgfVxuXG4gICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcblxuICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2UnKVxuICAgICAgLmFkZENsYXNzKCdjb2xsYXBzaW5nJylbZGltZW5zaW9uXSgwKVxuXG4gICAgdGhpcy50cmFuc2l0aW9uaW5nID0gMVxuXG4gICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgdGhpcy4kZWxlbWVudFxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNlIGluJylbZGltZW5zaW9uXSgnJylcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnRyaWdnZXIoJ3Nob3duLmJzLmNvbGxhcHNlJylcbiAgICB9XG5cbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSByZXR1cm4gY29tcGxldGUuY2FsbCh0aGlzKVxuXG4gICAgdmFyIHNjcm9sbFNpemUgPSAkLmNhbWVsQ2FzZShbJ3Njcm9sbCcsIGRpbWVuc2lvbl0uam9pbignLScpKVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzUwKVtkaW1lbnNpb25dKHRoaXMuJGVsZW1lbnRbMF1bc2Nyb2xsU2l6ZV0pXG4gIH1cblxuICBDb2xsYXBzZS5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy50cmFuc2l0aW9uaW5nIHx8ICF0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSByZXR1cm5cblxuICAgIHZhciBzdGFydEV2ZW50ID0gJC5FdmVudCgnaGlkZS5icy5jb2xsYXBzZScpXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZGltZW5zaW9uKClcblxuICAgIHRoaXMuJGVsZW1lbnRbZGltZW5zaW9uXSh0aGlzLiRlbGVtZW50W2RpbWVuc2lvbl0oKSlbMF0ub2Zmc2V0SGVpZ2h0XG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAuYWRkQ2xhc3MoJ2NvbGxhcHNpbmcnKVxuICAgICAgLnJlbW92ZUNsYXNzKCdjb2xsYXBzZScpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDFcblxuICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMudHJhbnNpdGlvbmluZyA9IDBcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLnRyaWdnZXIoJ2hpZGRlbi5icy5jb2xsYXBzZScpXG4gICAgICAgIC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2UnKVxuICAgIH1cblxuICAgIGlmICghJC5zdXBwb3J0LnRyYW5zaXRpb24pIHJldHVybiBjb21wbGV0ZS5jYWxsKHRoaXMpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICBbZGltZW5zaW9uXSgwKVxuICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzUwKVxuICB9XG5cbiAgQ29sbGFwc2UucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzW3RoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2luJykgPyAnaGlkZScgOiAnc2hvdyddKClcbiAgfVxuXG5cbiAgLy8gQ09MTEFQU0UgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgQ29sbGFwc2UuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb25zLnRvZ2dsZSAmJiBvcHRpb24gPT0gJ3Nob3cnKSBvcHRpb24gPSAhb3B0aW9uXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLmNvbGxhcHNlJywgKGRhdGEgPSBuZXcgQ29sbGFwc2UodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLmNvbGxhcHNlXG5cbiAgJC5mbi5jb2xsYXBzZSAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLmNvbGxhcHNlLkNvbnN0cnVjdG9yID0gQ29sbGFwc2VcblxuXG4gIC8vIENPTExBUFNFIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5jb2xsYXBzZS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4uY29sbGFwc2UgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBDT0xMQVBTRSBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5jb2xsYXBzZS5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGhyZWZcbiAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICB2YXIgdGFyZ2V0ICA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFyZ2V0JylcbiAgICAgICAgfHwgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICAgIHx8IChocmVmID0gJHRoaXMuYXR0cignaHJlZicpKSAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSAvLyBzdHJpcCBmb3IgaWU3XG4gICAgdmFyICR0YXJnZXQgPSAkKHRhcmdldClcbiAgICB2YXIgZGF0YSAgICA9ICR0YXJnZXQuZGF0YSgnYnMuY29sbGFwc2UnKVxuICAgIHZhciBvcHRpb24gID0gZGF0YSA/ICd0b2dnbGUnIDogJHRoaXMuZGF0YSgpXG4gICAgdmFyIHBhcmVudCAgPSAkdGhpcy5hdHRyKCdkYXRhLXBhcmVudCcpXG4gICAgdmFyICRwYXJlbnQgPSBwYXJlbnQgJiYgJChwYXJlbnQpXG5cbiAgICBpZiAoIWRhdGEgfHwgIWRhdGEudHJhbnNpdGlvbmluZykge1xuICAgICAgaWYgKCRwYXJlbnQpICRwYXJlbnQuZmluZCgnW2RhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIl1bZGF0YS1wYXJlbnQ9XCInICsgcGFyZW50ICsgJ1wiXScpLm5vdCgkdGhpcykuYWRkQ2xhc3MoJ2NvbGxhcHNlZCcpXG4gICAgICAkdGhpc1skdGFyZ2V0Lmhhc0NsYXNzKCdpbicpID8gJ2FkZENsYXNzJyA6ICdyZW1vdmVDbGFzcyddKCdjb2xsYXBzZWQnKVxuICAgIH1cblxuICAgIFBsdWdpbi5jYWxsKCR0YXJnZXQsIG9wdGlvbilcbiAgfSlcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogZHJvcGRvd24uanMgdjMuMi4wXG4gKiBodHRwOi8vZ2V0Ym9vdHN0cmFwLmNvbS9qYXZhc2NyaXB0LyNkcm9wZG93bnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBEUk9QRE9XTiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgYmFja2Ryb3AgPSAnLmRyb3Bkb3duLWJhY2tkcm9wJ1xuICB2YXIgdG9nZ2xlICAgPSAnW2RhdGEtdG9nZ2xlPVwiZHJvcGRvd25cIl0nXG4gIHZhciBEcm9wZG93biA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgJChlbGVtZW50KS5vbignY2xpY2suYnMuZHJvcGRvd24nLCB0aGlzLnRvZ2dsZSlcbiAgfVxuXG4gIERyb3Bkb3duLlZFUlNJT04gPSAnMy4yLjAnXG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzID0gJCh0aGlzKVxuXG4gICAgaWYgKCR0aGlzLmlzKCcuZGlzYWJsZWQsIDpkaXNhYmxlZCcpKSByZXR1cm5cblxuICAgIHZhciAkcGFyZW50ICA9IGdldFBhcmVudCgkdGhpcylcbiAgICB2YXIgaXNBY3RpdmUgPSAkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJylcblxuICAgIGNsZWFyTWVudXMoKVxuXG4gICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgaWYgKCdvbnRvdWNoc3RhcnQnIGluIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiAhJHBhcmVudC5jbG9zZXN0KCcubmF2YmFyLW5hdicpLmxlbmd0aCkge1xuICAgICAgICAvLyBpZiBtb2JpbGUgd2UgdXNlIGEgYmFja2Ryb3AgYmVjYXVzZSBjbGljayBldmVudHMgZG9uJ3QgZGVsZWdhdGVcbiAgICAgICAgJCgnPGRpdiBjbGFzcz1cImRyb3Bkb3duLWJhY2tkcm9wXCIvPicpLmluc2VydEFmdGVyKCQodGhpcykpLm9uKCdjbGljaycsIGNsZWFyTWVudXMpXG4gICAgICB9XG5cbiAgICAgIHZhciByZWxhdGVkVGFyZ2V0ID0geyByZWxhdGVkVGFyZ2V0OiB0aGlzIH1cbiAgICAgICRwYXJlbnQudHJpZ2dlcihlID0gJC5FdmVudCgnc2hvdy5icy5kcm9wZG93bicsIHJlbGF0ZWRUYXJnZXQpKVxuXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICAgICR0aGlzLnRyaWdnZXIoJ2ZvY3VzJylcblxuICAgICAgJHBhcmVudFxuICAgICAgICAudG9nZ2xlQ2xhc3MoJ29wZW4nKVxuICAgICAgICAudHJpZ2dlcignc2hvd24uYnMuZHJvcGRvd24nLCByZWxhdGVkVGFyZ2V0KVxuICAgIH1cblxuICAgIHJldHVybiBmYWxzZVxuICB9XG5cbiAgRHJvcGRvd24ucHJvdG90eXBlLmtleWRvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmICghLygzOHw0MHwyNykvLnRlc3QoZS5rZXlDb2RlKSkgcmV0dXJuXG5cbiAgICB2YXIgJHRoaXMgPSAkKHRoaXMpXG5cbiAgICBlLnByZXZlbnREZWZhdWx0KClcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpXG5cbiAgICBpZiAoJHRoaXMuaXMoJy5kaXNhYmxlZCwgOmRpc2FibGVkJykpIHJldHVyblxuXG4gICAgdmFyICRwYXJlbnQgID0gZ2V0UGFyZW50KCR0aGlzKVxuICAgIHZhciBpc0FjdGl2ZSA9ICRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKVxuXG4gICAgaWYgKCFpc0FjdGl2ZSB8fCAoaXNBY3RpdmUgJiYgZS5rZXlDb2RlID09IDI3KSkge1xuICAgICAgaWYgKGUud2hpY2ggPT0gMjcpICRwYXJlbnQuZmluZCh0b2dnbGUpLnRyaWdnZXIoJ2ZvY3VzJylcbiAgICAgIHJldHVybiAkdGhpcy50cmlnZ2VyKCdjbGljaycpXG4gICAgfVxuXG4gICAgdmFyIGRlc2MgPSAnIGxpOm5vdCguZGl2aWRlcik6dmlzaWJsZSBhJ1xuICAgIHZhciAkaXRlbXMgPSAkcGFyZW50LmZpbmQoJ1tyb2xlPVwibWVudVwiXScgKyBkZXNjICsgJywgW3JvbGU9XCJsaXN0Ym94XCJdJyArIGRlc2MpXG5cbiAgICBpZiAoISRpdGVtcy5sZW5ndGgpIHJldHVyblxuXG4gICAgdmFyIGluZGV4ID0gJGl0ZW1zLmluZGV4KCRpdGVtcy5maWx0ZXIoJzpmb2N1cycpKVxuXG4gICAgaWYgKGUua2V5Q29kZSA9PSAzOCAmJiBpbmRleCA+IDApICAgICAgICAgICAgICAgICBpbmRleC0tICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBcbiAgICBpZiAoZS5rZXlDb2RlID09IDQwICYmIGluZGV4IDwgJGl0ZW1zLmxlbmd0aCAtIDEpIGluZGV4KysgICAgICAgICAgICAgICAgICAgICAgICAvLyBkb3duXG4gICAgaWYgKCF+aW5kZXgpICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IDBcblxuICAgICRpdGVtcy5lcShpbmRleCkudHJpZ2dlcignZm9jdXMnKVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJNZW51cyhlKSB7XG4gICAgaWYgKGUgJiYgZS53aGljaCA9PT0gMykgcmV0dXJuXG4gICAgJChiYWNrZHJvcCkucmVtb3ZlKClcbiAgICAkKHRvZ2dsZSkuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHBhcmVudCA9IGdldFBhcmVudCgkKHRoaXMpKVxuICAgICAgdmFyIHJlbGF0ZWRUYXJnZXQgPSB7IHJlbGF0ZWRUYXJnZXQ6IHRoaXMgfVxuICAgICAgaWYgKCEkcGFyZW50Lmhhc0NsYXNzKCdvcGVuJykpIHJldHVyblxuICAgICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdoaWRlLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldCkpXG4gICAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG4gICAgICAkcGFyZW50LnJlbW92ZUNsYXNzKCdvcGVuJykudHJpZ2dlcignaGlkZGVuLmJzLmRyb3Bkb3duJywgcmVsYXRlZFRhcmdldClcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UGFyZW50KCR0aGlzKSB7XG4gICAgdmFyIHNlbGVjdG9yID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuXG4gICAgaWYgKCFzZWxlY3Rvcikge1xuICAgICAgc2VsZWN0b3IgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICAgIHNlbGVjdG9yID0gc2VsZWN0b3IgJiYgLyNbQS1aYS16XS8udGVzdChzZWxlY3RvcikgJiYgc2VsZWN0b3IucmVwbGFjZSgvLiooPz0jW15cXHNdKiQpLywgJycpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB9XG5cbiAgICB2YXIgJHBhcmVudCA9IHNlbGVjdG9yICYmICQoc2VsZWN0b3IpXG5cbiAgICByZXR1cm4gJHBhcmVudCAmJiAkcGFyZW50Lmxlbmd0aCA/ICRwYXJlbnQgOiAkdGhpcy5wYXJlbnQoKVxuICB9XG5cblxuICAvLyBEUk9QRE9XTiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2JzLmRyb3Bkb3duJylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5kcm9wZG93bicsIChkYXRhID0gbmV3IERyb3Bkb3duKHRoaXMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0uY2FsbCgkdGhpcylcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uZHJvcGRvd25cblxuICAkLmZuLmRyb3Bkb3duICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uZHJvcGRvd24uQ29uc3RydWN0b3IgPSBEcm9wZG93blxuXG5cbiAgLy8gRFJPUERPV04gTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmRyb3Bkb3duLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5kcm9wZG93biA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIEFQUExZIFRPIFNUQU5EQVJEIERST1BET1dOIEVMRU1FTlRTXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgJChkb2N1bWVudClcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgY2xlYXJNZW51cylcbiAgICAub24oJ2NsaWNrLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgJy5kcm9wZG93biBmb3JtJywgZnVuY3Rpb24gKGUpIHsgZS5zdG9wUHJvcGFnYXRpb24oKSB9KVxuICAgIC5vbignY2xpY2suYnMuZHJvcGRvd24uZGF0YS1hcGknLCB0b2dnbGUsIERyb3Bkb3duLnByb3RvdHlwZS50b2dnbGUpXG4gICAgLm9uKCdrZXlkb3duLmJzLmRyb3Bkb3duLmRhdGEtYXBpJywgdG9nZ2xlICsgJywgW3JvbGU9XCJtZW51XCJdLCBbcm9sZT1cImxpc3Rib3hcIl0nLCBEcm9wZG93bi5wcm90b3R5cGUua2V5ZG93bilcblxufShqUXVlcnkpO1xuXG4vKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIEJvb3RzdHJhcDogdGFiLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdGFic1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFRBQiBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgdmFyIFRhYiA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdGhpcy5lbGVtZW50ID0gJChlbGVtZW50KVxuICB9XG5cbiAgVGFiLlZFUlNJT04gPSAnMy4yLjAnXG5cbiAgVGFiLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGhpcyAgICA9IHRoaXMuZWxlbWVudFxuICAgIHZhciAkdWwgICAgICA9ICR0aGlzLmNsb3Nlc3QoJ3VsOm5vdCguZHJvcGRvd24tbWVudSknKVxuICAgIHZhciBzZWxlY3RvciA9ICR0aGlzLmRhdGEoJ3RhcmdldCcpXG5cbiAgICBpZiAoIXNlbGVjdG9yKSB7XG4gICAgICBzZWxlY3RvciA9ICR0aGlzLmF0dHIoJ2hyZWYnKVxuICAgICAgc2VsZWN0b3IgPSBzZWxlY3RvciAmJiBzZWxlY3Rvci5yZXBsYWNlKC8uKig/PSNbXlxcc10qJCkvLCAnJykgLy8gc3RyaXAgZm9yIGllN1xuICAgIH1cblxuICAgIGlmICgkdGhpcy5wYXJlbnQoJ2xpJykuaGFzQ2xhc3MoJ2FjdGl2ZScpKSByZXR1cm5cblxuICAgIHZhciBwcmV2aW91cyA9ICR1bC5maW5kKCcuYWN0aXZlOmxhc3QgYScpWzBdXG4gICAgdmFyIGUgICAgICAgID0gJC5FdmVudCgnc2hvdy5icy50YWInLCB7XG4gICAgICByZWxhdGVkVGFyZ2V0OiBwcmV2aW91c1xuICAgIH0pXG5cbiAgICAkdGhpcy50cmlnZ2VyKGUpXG5cbiAgICBpZiAoZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB2YXIgJHRhcmdldCA9ICQoc2VsZWN0b3IpXG5cbiAgICB0aGlzLmFjdGl2YXRlKCR0aGlzLmNsb3Nlc3QoJ2xpJyksICR1bClcbiAgICB0aGlzLmFjdGl2YXRlKCR0YXJnZXQsICR0YXJnZXQucGFyZW50KCksIGZ1bmN0aW9uICgpIHtcbiAgICAgICR0aGlzLnRyaWdnZXIoe1xuICAgICAgICB0eXBlOiAnc2hvd24uYnMudGFiJyxcbiAgICAgICAgcmVsYXRlZFRhcmdldDogcHJldmlvdXNcbiAgICAgIH0pXG4gICAgfSlcbiAgfVxuXG4gIFRhYi5wcm90b3R5cGUuYWN0aXZhdGUgPSBmdW5jdGlvbiAoZWxlbWVudCwgY29udGFpbmVyLCBjYWxsYmFjaykge1xuICAgIHZhciAkYWN0aXZlICAgID0gY29udGFpbmVyLmZpbmQoJz4gLmFjdGl2ZScpXG4gICAgdmFyIHRyYW5zaXRpb24gPSBjYWxsYmFja1xuICAgICAgJiYgJC5zdXBwb3J0LnRyYW5zaXRpb25cbiAgICAgICYmICRhY3RpdmUuaGFzQ2xhc3MoJ2ZhZGUnKVxuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICRhY3RpdmVcbiAgICAgICAgLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxuICAgICAgICAuZmluZCgnPiAuZHJvcGRvd24tbWVudSA+IC5hY3RpdmUnKVxuICAgICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG5cbiAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2FjdGl2ZScpXG5cbiAgICAgIGlmICh0cmFuc2l0aW9uKSB7XG4gICAgICAgIGVsZW1lbnRbMF0ub2Zmc2V0V2lkdGggLy8gcmVmbG93IGZvciB0cmFuc2l0aW9uXG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoJ2luJylcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2ZhZGUnKVxuICAgICAgfVxuXG4gICAgICBpZiAoZWxlbWVudC5wYXJlbnQoJy5kcm9wZG93bi1tZW51JykpIHtcbiAgICAgICAgZWxlbWVudC5jbG9zZXN0KCdsaS5kcm9wZG93bicpLmFkZENsYXNzKCdhY3RpdmUnKVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayAmJiBjYWxsYmFjaygpXG4gICAgfVxuXG4gICAgdHJhbnNpdGlvbiA/XG4gICAgICAkYWN0aXZlXG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIG5leHQpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgIG5leHQoKVxuXG4gICAgJGFjdGl2ZS5yZW1vdmVDbGFzcygnaW4nKVxuICB9XG5cblxuICAvLyBUQUIgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYnMudGFiJylcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy50YWInLCAoZGF0YSA9IG5ldyBUYWIodGhpcykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnRhYlxuXG4gICQuZm4udGFiICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4udGFiLkNvbnN0cnVjdG9yID0gVGFiXG5cblxuICAvLyBUQUIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJC5mbi50YWIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnRhYiA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIFRBQiBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT1cblxuICAkKGRvY3VtZW50KS5vbignY2xpY2suYnMudGFiLmRhdGEtYXBpJywgJ1tkYXRhLXRvZ2dsZT1cInRhYlwiXSwgW2RhdGEtdG9nZ2xlPVwicGlsbFwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgUGx1Z2luLmNhbGwoJCh0aGlzKSwgJ3Nob3cnKVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0cmFuc2l0aW9uLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdHJhbnNpdGlvbnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBDU1MgVFJBTlNJVElPTiBTVVBQT1JUIChTaG91dG91dDogaHR0cDovL3d3dy5tb2Rlcm5penIuY29tLylcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gdHJhbnNpdGlvbkVuZCgpIHtcbiAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdib290c3RyYXAnKVxuXG4gICAgdmFyIHRyYW5zRW5kRXZlbnROYW1lcyA9IHtcbiAgICAgIFdlYmtpdFRyYW5zaXRpb24gOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgICBNb3pUcmFuc2l0aW9uICAgIDogJ3RyYW5zaXRpb25lbmQnLFxuICAgICAgT1RyYW5zaXRpb24gICAgICA6ICdvVHJhbnNpdGlvbkVuZCBvdHJhbnNpdGlvbmVuZCcsXG4gICAgICB0cmFuc2l0aW9uICAgICAgIDogJ3RyYW5zaXRpb25lbmQnXG4gICAgfVxuXG4gICAgZm9yICh2YXIgbmFtZSBpbiB0cmFuc0VuZEV2ZW50TmFtZXMpIHtcbiAgICAgIGlmIChlbC5zdHlsZVtuYW1lXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7IGVuZDogdHJhbnNFbmRFdmVudE5hbWVzW25hbWVdIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2UgLy8gZXhwbGljaXQgZm9yIGllOCAoICAuXy4pXG4gIH1cblxuICAvLyBodHRwOi8vYmxvZy5hbGV4bWFjY2F3LmNvbS9jc3MtdHJhbnNpdGlvbnNcbiAgJC5mbi5lbXVsYXRlVHJhbnNpdGlvbkVuZCA9IGZ1bmN0aW9uIChkdXJhdGlvbikge1xuICAgIHZhciBjYWxsZWQgPSBmYWxzZVxuICAgIHZhciAkZWwgPSB0aGlzXG4gICAgJCh0aGlzKS5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsIGZ1bmN0aW9uICgpIHsgY2FsbGVkID0gdHJ1ZSB9KVxuICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsgaWYgKCFjYWxsZWQpICQoJGVsKS50cmlnZ2VyKCQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCkgfVxuICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIGR1cmF0aW9uKVxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICAkKGZ1bmN0aW9uICgpIHtcbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiA9IHRyYW5zaXRpb25FbmQoKVxuXG4gICAgaWYgKCEkLnN1cHBvcnQudHJhbnNpdGlvbikgcmV0dXJuXG5cbiAgICAkLmV2ZW50LnNwZWNpYWwuYnNUcmFuc2l0aW9uRW5kID0ge1xuICAgICAgYmluZFR5cGU6ICQuc3VwcG9ydC50cmFuc2l0aW9uLmVuZCxcbiAgICAgIGRlbGVnYXRlVHlwZTogJC5zdXBwb3J0LnRyYW5zaXRpb24uZW5kLFxuICAgICAgaGFuZGxlOiBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoJChlLnRhcmdldCkuaXModGhpcykpIHJldHVybiBlLmhhbmRsZU9iai5oYW5kbGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICAgIH1cbiAgICB9XG4gIH0pXG5cbn0oalF1ZXJ5KTtcblxuLyogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBCb290c3RyYXA6IHNjcm9sbHNweS5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI3Njcm9sbHNweVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFNDUk9MTFNQWSBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gU2Nyb2xsU3B5KGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB2YXIgcHJvY2VzcyAgPSAkLnByb3h5KHRoaXMucHJvY2VzcywgdGhpcylcblxuICAgIHRoaXMuJGJvZHkgICAgICAgICAgPSAkKCdib2R5JylcbiAgICB0aGlzLiRzY3JvbGxFbGVtZW50ID0gJChlbGVtZW50KS5pcygnYm9keScpID8gJCh3aW5kb3cpIDogJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgICAgICAgPSAkLmV4dGVuZCh7fSwgU2Nyb2xsU3B5LkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMuc2VsZWN0b3IgICAgICAgPSAodGhpcy5vcHRpb25zLnRhcmdldCB8fCAnJykgKyAnIC5uYXYgbGkgPiBhJ1xuICAgIHRoaXMub2Zmc2V0cyAgICAgICAgPSBbXVxuICAgIHRoaXMudGFyZ2V0cyAgICAgICAgPSBbXVxuICAgIHRoaXMuYWN0aXZlVGFyZ2V0ICAgPSBudWxsXG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgICA9IDBcblxuICAgIHRoaXMuJHNjcm9sbEVsZW1lbnQub24oJ3Njcm9sbC5icy5zY3JvbGxzcHknLCBwcm9jZXNzKVxuICAgIHRoaXMucmVmcmVzaCgpXG4gICAgdGhpcy5wcm9jZXNzKClcbiAgfVxuXG4gIFNjcm9sbFNweS5WRVJTSU9OICA9ICczLjIuMCdcblxuICBTY3JvbGxTcHkuREVGQVVMVFMgPSB7XG4gICAgb2Zmc2V0OiAxMFxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5nZXRTY3JvbGxIZWlnaHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuJHNjcm9sbEVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0IHx8IE1hdGgubWF4KHRoaXMuJGJvZHlbMF0uc2Nyb2xsSGVpZ2h0LCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5yZWZyZXNoID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvZmZzZXRNZXRob2QgPSAnb2Zmc2V0J1xuICAgIHZhciBvZmZzZXRCYXNlICAgPSAwXG5cbiAgICBpZiAoISQuaXNXaW5kb3codGhpcy4kc2Nyb2xsRWxlbWVudFswXSkpIHtcbiAgICAgIG9mZnNldE1ldGhvZCA9ICdwb3NpdGlvbidcbiAgICAgIG9mZnNldEJhc2UgICA9IHRoaXMuJHNjcm9sbEVsZW1lbnQuc2Nyb2xsVG9wKClcbiAgICB9XG5cbiAgICB0aGlzLm9mZnNldHMgPSBbXVxuICAgIHRoaXMudGFyZ2V0cyA9IFtdXG4gICAgdGhpcy5zY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpXG5cbiAgICB2YXIgc2VsZiAgICAgPSB0aGlzXG5cbiAgICB0aGlzLiRib2R5XG4gICAgICAuZmluZCh0aGlzLnNlbGVjdG9yKVxuICAgICAgLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciAkZWwgICA9ICQodGhpcylcbiAgICAgICAgdmFyIGhyZWYgID0gJGVsLmRhdGEoJ3RhcmdldCcpIHx8ICRlbC5hdHRyKCdocmVmJylcbiAgICAgICAgdmFyICRocmVmID0gL14jLi8udGVzdChocmVmKSAmJiAkKGhyZWYpXG5cbiAgICAgICAgcmV0dXJuICgkaHJlZlxuICAgICAgICAgICYmICRocmVmLmxlbmd0aFxuICAgICAgICAgICYmICRocmVmLmlzKCc6dmlzaWJsZScpXG4gICAgICAgICAgJiYgW1skaHJlZltvZmZzZXRNZXRob2RdKCkudG9wICsgb2Zmc2V0QmFzZSwgaHJlZl1dKSB8fCBudWxsXG4gICAgICB9KVxuICAgICAgLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGFbMF0gLSBiWzBdIH0pXG4gICAgICAuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYub2Zmc2V0cy5wdXNoKHRoaXNbMF0pXG4gICAgICAgIHNlbGYudGFyZ2V0cy5wdXNoKHRoaXNbMV0pXG4gICAgICB9KVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzY3JvbGxUb3AgICAgPSB0aGlzLiRzY3JvbGxFbGVtZW50LnNjcm9sbFRvcCgpICsgdGhpcy5vcHRpb25zLm9mZnNldFxuICAgIHZhciBzY3JvbGxIZWlnaHQgPSB0aGlzLmdldFNjcm9sbEhlaWdodCgpXG4gICAgdmFyIG1heFNjcm9sbCAgICA9IHRoaXMub3B0aW9ucy5vZmZzZXQgKyBzY3JvbGxIZWlnaHQgLSB0aGlzLiRzY3JvbGxFbGVtZW50LmhlaWdodCgpXG4gICAgdmFyIG9mZnNldHMgICAgICA9IHRoaXMub2Zmc2V0c1xuICAgIHZhciB0YXJnZXRzICAgICAgPSB0aGlzLnRhcmdldHNcbiAgICB2YXIgYWN0aXZlVGFyZ2V0ID0gdGhpcy5hY3RpdmVUYXJnZXRcbiAgICB2YXIgaVxuXG4gICAgaWYgKHRoaXMuc2Nyb2xsSGVpZ2h0ICE9IHNjcm9sbEhlaWdodCkge1xuICAgICAgdGhpcy5yZWZyZXNoKClcbiAgICB9XG5cbiAgICBpZiAoc2Nyb2xsVG9wID49IG1heFNjcm9sbCkge1xuICAgICAgcmV0dXJuIGFjdGl2ZVRhcmdldCAhPSAoaSA9IHRhcmdldHNbdGFyZ2V0cy5sZW5ndGggLSAxXSkgJiYgdGhpcy5hY3RpdmF0ZShpKVxuICAgIH1cblxuICAgIGlmIChhY3RpdmVUYXJnZXQgJiYgc2Nyb2xsVG9wIDw9IG9mZnNldHNbMF0pIHtcbiAgICAgIHJldHVybiBhY3RpdmVUYXJnZXQgIT0gKGkgPSB0YXJnZXRzWzBdKSAmJiB0aGlzLmFjdGl2YXRlKGkpXG4gICAgfVxuXG4gICAgZm9yIChpID0gb2Zmc2V0cy5sZW5ndGg7IGktLTspIHtcbiAgICAgIGFjdGl2ZVRhcmdldCAhPSB0YXJnZXRzW2ldXG4gICAgICAgICYmIHNjcm9sbFRvcCA+PSBvZmZzZXRzW2ldXG4gICAgICAgICYmICghb2Zmc2V0c1tpICsgMV0gfHwgc2Nyb2xsVG9wIDw9IG9mZnNldHNbaSArIDFdKVxuICAgICAgICAmJiB0aGlzLmFjdGl2YXRlKHRhcmdldHNbaV0pXG4gICAgfVxuICB9XG5cbiAgU2Nyb2xsU3B5LnByb3RvdHlwZS5hY3RpdmF0ZSA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICB0aGlzLmFjdGl2ZVRhcmdldCA9IHRhcmdldFxuXG4gICAgJCh0aGlzLnNlbGVjdG9yKVxuICAgICAgLnBhcmVudHNVbnRpbCh0aGlzLm9wdGlvbnMudGFyZ2V0LCAnLmFjdGl2ZScpXG4gICAgICAucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXG5cbiAgICB2YXIgc2VsZWN0b3IgPSB0aGlzLnNlbGVjdG9yICtcbiAgICAgICAgJ1tkYXRhLXRhcmdldD1cIicgKyB0YXJnZXQgKyAnXCJdLCcgK1xuICAgICAgICB0aGlzLnNlbGVjdG9yICsgJ1tocmVmPVwiJyArIHRhcmdldCArICdcIl0nXG5cbiAgICB2YXIgYWN0aXZlID0gJChzZWxlY3RvcilcbiAgICAgIC5wYXJlbnRzKCdsaScpXG4gICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXG5cbiAgICBpZiAoYWN0aXZlLnBhcmVudCgnLmRyb3Bkb3duLW1lbnUnKS5sZW5ndGgpIHtcbiAgICAgIGFjdGl2ZSA9IGFjdGl2ZVxuICAgICAgICAuY2xvc2VzdCgnbGkuZHJvcGRvd24nKVxuICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpXG4gICAgfVxuXG4gICAgYWN0aXZlLnRyaWdnZXIoJ2FjdGl2YXRlLmJzLnNjcm9sbHNweScpXG4gIH1cblxuXG4gIC8vIFNDUk9MTFNQWSBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMuc2Nyb2xsc3B5JylcbiAgICAgIHZhciBvcHRpb25zID0gdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb25cblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5zY3JvbGxzcHknLCAoZGF0YSA9IG5ldyBTY3JvbGxTcHkodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnNjcm9sbHNweVxuXG4gICQuZm4uc2Nyb2xsc3B5ICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4uc2Nyb2xsc3B5LkNvbnN0cnVjdG9yID0gU2Nyb2xsU3B5XG5cblxuICAvLyBTQ1JPTExTUFkgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5zY3JvbGxzcHkubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLnNjcm9sbHNweSA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIFNDUk9MTFNQWSBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PT1cblxuICAkKHdpbmRvdykub24oJ2xvYWQuYnMuc2Nyb2xsc3B5LmRhdGEtYXBpJywgZnVuY3Rpb24gKCkge1xuICAgICQoJ1tkYXRhLXNweT1cInNjcm9sbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICRzcHkgPSAkKHRoaXMpXG4gICAgICBQbHVnaW4uY2FsbCgkc3B5LCAkc3B5LmRhdGEoKSlcbiAgICB9KVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBtb2RhbC5qcyB2My4yLjBcbiAqIGh0dHA6Ly9nZXRib290c3RyYXAuY29tL2phdmFzY3JpcHQvI21vZGFsc1xuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIE1PREFMIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBNb2RhbCA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zICAgICAgICA9IG9wdGlvbnNcbiAgICB0aGlzLiRib2R5ICAgICAgICAgID0gJChkb2N1bWVudC5ib2R5KVxuICAgIHRoaXMuJGVsZW1lbnQgICAgICAgPSAkKGVsZW1lbnQpXG4gICAgdGhpcy4kYmFja2Ryb3AgICAgICA9XG4gICAgdGhpcy5pc1Nob3duICAgICAgICA9IG51bGxcbiAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gMFxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5yZW1vdGUpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnRcbiAgICAgICAgLmZpbmQoJy5tb2RhbC1jb250ZW50JylcbiAgICAgICAgLmxvYWQodGhpcy5vcHRpb25zLnJlbW90ZSwgJC5wcm94eShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdsb2FkZWQuYnMubW9kYWwnKVxuICAgICAgICB9LCB0aGlzKSlcbiAgICB9XG4gIH1cblxuICBNb2RhbC5WRVJTSU9OICA9ICczLjIuMCdcblxuICBNb2RhbC5ERUZBVUxUUyA9IHtcbiAgICBiYWNrZHJvcDogdHJ1ZSxcbiAgICBrZXlib2FyZDogdHJ1ZSxcbiAgICBzaG93OiB0cnVlXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuaXNTaG93biA/IHRoaXMuaGlkZSgpIDogdGhpcy5zaG93KF9yZWxhdGVkVGFyZ2V0KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnNob3cgPSBmdW5jdGlvbiAoX3JlbGF0ZWRUYXJnZXQpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgZSAgICA9ICQuRXZlbnQoJ3Nob3cuYnMubW9kYWwnLCB7IHJlbGF0ZWRUYXJnZXQ6IF9yZWxhdGVkVGFyZ2V0IH0pXG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmICh0aGlzLmlzU2hvd24gfHwgZS5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLmlzU2hvd24gPSB0cnVlXG5cbiAgICB0aGlzLmNoZWNrU2Nyb2xsYmFyKClcbiAgICB0aGlzLiRib2R5LmFkZENsYXNzKCdtb2RhbC1vcGVuJylcblxuICAgIHRoaXMuc2V0U2Nyb2xsYmFyKClcbiAgICB0aGlzLmVzY2FwZSgpXG5cbiAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJywgJ1tkYXRhLWRpc21pc3M9XCJtb2RhbFwiXScsICQucHJveHkodGhpcy5oaWRlLCB0aGlzKSlcblxuICAgIHRoaXMuYmFja2Ryb3AoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRyYW5zaXRpb24gPSAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGF0LiRlbGVtZW50Lmhhc0NsYXNzKCdmYWRlJylcblxuICAgICAgaWYgKCF0aGF0LiRlbGVtZW50LnBhcmVudCgpLmxlbmd0aCkge1xuICAgICAgICB0aGF0LiRlbGVtZW50LmFwcGVuZFRvKHRoYXQuJGJvZHkpIC8vIGRvbid0IG1vdmUgbW9kYWxzIGRvbSBwb3NpdGlvblxuICAgICAgfVxuXG4gICAgICB0aGF0LiRlbGVtZW50XG4gICAgICAgIC5zaG93KClcbiAgICAgICAgLnNjcm9sbFRvcCgwKVxuXG4gICAgICBpZiAodHJhbnNpdGlvbikge1xuICAgICAgICB0aGF0LiRlbGVtZW50WzBdLm9mZnNldFdpZHRoIC8vIGZvcmNlIHJlZmxvd1xuICAgICAgfVxuXG4gICAgICB0aGF0LiRlbGVtZW50XG4gICAgICAgIC5hZGRDbGFzcygnaW4nKVxuICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCBmYWxzZSlcblxuICAgICAgdGhhdC5lbmZvcmNlRm9jdXMoKVxuXG4gICAgICB2YXIgZSA9ICQuRXZlbnQoJ3Nob3duLmJzLm1vZGFsJywgeyByZWxhdGVkVGFyZ2V0OiBfcmVsYXRlZFRhcmdldCB9KVxuXG4gICAgICB0cmFuc2l0aW9uID9cbiAgICAgICAgdGhhdC4kZWxlbWVudC5maW5kKCcubW9kYWwtZGlhbG9nJykgLy8gd2FpdCBmb3IgbW9kYWwgdG8gc2xpZGUgaW5cbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJykudHJpZ2dlcihlKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDMwMCkgOlxuICAgICAgICB0aGF0LiRlbGVtZW50LnRyaWdnZXIoJ2ZvY3VzJykudHJpZ2dlcihlKVxuICAgIH0pXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUpIGUucHJldmVudERlZmF1bHQoKVxuXG4gICAgZSA9ICQuRXZlbnQoJ2hpZGUuYnMubW9kYWwnKVxuXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICBpZiAoIXRoaXMuaXNTaG93biB8fCBlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgIHRoaXMuaXNTaG93biA9IGZhbHNlXG5cbiAgICB0aGlzLiRib2R5LnJlbW92ZUNsYXNzKCdtb2RhbC1vcGVuJylcblxuICAgIHRoaXMucmVzZXRTY3JvbGxiYXIoKVxuICAgIHRoaXMuZXNjYXBlKClcblxuICAgICQoZG9jdW1lbnQpLm9mZignZm9jdXNpbi5icy5tb2RhbCcpXG5cbiAgICB0aGlzLiRlbGVtZW50XG4gICAgICAucmVtb3ZlQ2xhc3MoJ2luJylcbiAgICAgIC5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpXG4gICAgICAub2ZmKCdjbGljay5kaXNtaXNzLmJzLm1vZGFsJylcblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICB0aGlzLiRlbGVtZW50XG4gICAgICAgIC5vbmUoJ2JzVHJhbnNpdGlvbkVuZCcsICQucHJveHkodGhpcy5oaWRlTW9kYWwsIHRoaXMpKVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMzAwKSA6XG4gICAgICB0aGlzLmhpZGVNb2RhbCgpXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuZW5mb3JjZUZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgICQoZG9jdW1lbnQpXG4gICAgICAub2ZmKCdmb2N1c2luLmJzLm1vZGFsJykgLy8gZ3VhcmQgYWdhaW5zdCBpbmZpbml0ZSBmb2N1cyBsb29wXG4gICAgICAub24oJ2ZvY3VzaW4uYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmICh0aGlzLiRlbGVtZW50WzBdICE9PSBlLnRhcmdldCAmJiAhdGhpcy4kZWxlbWVudC5oYXMoZS50YXJnZXQpLmxlbmd0aCkge1xuICAgICAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignZm9jdXMnKVxuICAgICAgICB9XG4gICAgICB9LCB0aGlzKSlcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5lc2NhcGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMuaXNTaG93biAmJiB0aGlzLm9wdGlvbnMua2V5Ym9hcmQpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQub24oJ2tleXVwLmRpc21pc3MuYnMubW9kYWwnLCAkLnByb3h5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGUud2hpY2ggPT0gMjcgJiYgdGhpcy5oaWRlKClcbiAgICAgIH0sIHRoaXMpKVxuICAgIH0gZWxzZSBpZiAoIXRoaXMuaXNTaG93bikge1xuICAgICAgdGhpcy4kZWxlbWVudC5vZmYoJ2tleXVwLmRpc21pc3MuYnMubW9kYWwnKVxuICAgIH1cbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5oaWRlTW9kYWwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHRoYXQgPSB0aGlzXG4gICAgdGhpcy4kZWxlbWVudC5oaWRlKClcbiAgICB0aGlzLmJhY2tkcm9wKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignaGlkZGVuLmJzLm1vZGFsJylcbiAgICB9KVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnJlbW92ZUJhY2tkcm9wID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuJGJhY2tkcm9wICYmIHRoaXMuJGJhY2tkcm9wLnJlbW92ZSgpXG4gICAgdGhpcy4kYmFja2Ryb3AgPSBudWxsXG4gIH1cblxuICBNb2RhbC5wcm90b3R5cGUuYmFja2Ryb3AgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgYW5pbWF0ZSA9IHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/ICdmYWRlJyA6ICcnXG5cbiAgICBpZiAodGhpcy5pc1Nob3duICYmIHRoaXMub3B0aW9ucy5iYWNrZHJvcCkge1xuICAgICAgdmFyIGRvQW5pbWF0ZSA9ICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIGFuaW1hdGVcblxuICAgICAgdGhpcy4kYmFja2Ryb3AgPSAkKCc8ZGl2IGNsYXNzPVwibW9kYWwtYmFja2Ryb3AgJyArIGFuaW1hdGUgKyAnXCIgLz4nKVxuICAgICAgICAuYXBwZW5kVG8odGhpcy4kYm9keSlcblxuICAgICAgdGhpcy4kZWxlbWVudC5vbignY2xpY2suZGlzbWlzcy5icy5tb2RhbCcsICQucHJveHkoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgaWYgKGUudGFyZ2V0ICE9PSBlLmN1cnJlbnRUYXJnZXQpIHJldHVyblxuICAgICAgICB0aGlzLm9wdGlvbnMuYmFja2Ryb3AgPT0gJ3N0YXRpYydcbiAgICAgICAgICA/IHRoaXMuJGVsZW1lbnRbMF0uZm9jdXMuY2FsbCh0aGlzLiRlbGVtZW50WzBdKVxuICAgICAgICAgIDogdGhpcy5oaWRlLmNhbGwodGhpcylcbiAgICAgIH0sIHRoaXMpKVxuXG4gICAgICBpZiAoZG9BbmltYXRlKSB0aGlzLiRiYWNrZHJvcFswXS5vZmZzZXRXaWR0aCAvLyBmb3JjZSByZWZsb3dcblxuICAgICAgdGhpcy4kYmFja2Ryb3AuYWRkQ2xhc3MoJ2luJylcblxuICAgICAgaWYgKCFjYWxsYmFjaykgcmV0dXJuXG5cbiAgICAgIGRvQW5pbWF0ZSA/XG4gICAgICAgIHRoaXMuJGJhY2tkcm9wXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY2FsbGJhY2spXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgICBjYWxsYmFjaygpXG5cbiAgICB9IGVsc2UgaWYgKCF0aGlzLmlzU2hvd24gJiYgdGhpcy4kYmFja2Ryb3ApIHtcbiAgICAgIHRoaXMuJGJhY2tkcm9wLnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICAgIHZhciBjYWxsYmFja1JlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhhdC5yZW1vdmVCYWNrZHJvcCgpXG4gICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKClcbiAgICAgIH1cbiAgICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJGVsZW1lbnQuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAgIHRoaXMuJGJhY2tkcm9wXG4gICAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY2FsbGJhY2tSZW1vdmUpXG4gICAgICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDE1MCkgOlxuICAgICAgICBjYWxsYmFja1JlbW92ZSgpXG5cbiAgICB9IGVsc2UgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpXG4gICAgfVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLmNoZWNrU2Nyb2xsYmFyID0gZnVuY3Rpb24gKCkge1xuICAgIGlmIChkb2N1bWVudC5ib2R5LmNsaWVudFdpZHRoID49IHdpbmRvdy5pbm5lcldpZHRoKSByZXR1cm5cbiAgICB0aGlzLnNjcm9sbGJhcldpZHRoID0gdGhpcy5zY3JvbGxiYXJXaWR0aCB8fCB0aGlzLm1lYXN1cmVTY3JvbGxiYXIoKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLnNldFNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYm9keVBhZCA9IHBhcnNlSW50KCh0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcpIHx8IDApLCAxMClcbiAgICBpZiAodGhpcy5zY3JvbGxiYXJXaWR0aCkgdGhpcy4kYm9keS5jc3MoJ3BhZGRpbmctcmlnaHQnLCBib2R5UGFkICsgdGhpcy5zY3JvbGxiYXJXaWR0aClcbiAgfVxuXG4gIE1vZGFsLnByb3RvdHlwZS5yZXNldFNjcm9sbGJhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLiRib2R5LmNzcygncGFkZGluZy1yaWdodCcsICcnKVxuICB9XG5cbiAgTW9kYWwucHJvdG90eXBlLm1lYXN1cmVTY3JvbGxiYXIgPSBmdW5jdGlvbiAoKSB7IC8vIHRoeCB3YWxzaFxuICAgIHZhciBzY3JvbGxEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKVxuICAgIHNjcm9sbERpdi5jbGFzc05hbWUgPSAnbW9kYWwtc2Nyb2xsYmFyLW1lYXN1cmUnXG4gICAgdGhpcy4kYm9keS5hcHBlbmQoc2Nyb2xsRGl2KVxuICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aFxuICAgIHRoaXMuJGJvZHlbMF0ucmVtb3ZlQ2hpbGQoc2Nyb2xsRGl2KVxuICAgIHJldHVybiBzY3JvbGxiYXJXaWR0aFxuICB9XG5cblxuICAvLyBNT0RBTCBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24sIF9yZWxhdGVkVGFyZ2V0KSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMubW9kYWwnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgTW9kYWwuREVGQVVMVFMsICR0aGlzLmRhdGEoKSwgdHlwZW9mIG9wdGlvbiA9PSAnb2JqZWN0JyAmJiBvcHRpb24pXG5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMubW9kYWwnLCAoZGF0YSA9IG5ldyBNb2RhbCh0aGlzLCBvcHRpb25zKSkpXG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKF9yZWxhdGVkVGFyZ2V0KVxuICAgICAgZWxzZSBpZiAob3B0aW9ucy5zaG93KSBkYXRhLnNob3coX3JlbGF0ZWRUYXJnZXQpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLm1vZGFsXG5cbiAgJC5mbi5tb2RhbCAgICAgICAgICAgICA9IFBsdWdpblxuICAkLmZuLm1vZGFsLkNvbnN0cnVjdG9yID0gTW9kYWxcblxuXG4gIC8vIE1PREFMIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5tb2RhbC5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4ubW9kYWwgPSBvbGRcbiAgICByZXR1cm4gdGhpc1xuICB9XG5cblxuICAvLyBNT0RBTCBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5tb2RhbC5kYXRhLWFwaScsICdbZGF0YS10b2dnbGU9XCJtb2RhbFwiXScsIGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgdmFyIGhyZWYgICAgPSAkdGhpcy5hdHRyKCdocmVmJylcbiAgICB2YXIgJHRhcmdldCA9ICQoJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKSB8fCAoaHJlZiAmJiBocmVmLnJlcGxhY2UoLy4qKD89I1teXFxzXSskKS8sICcnKSkpIC8vIHN0cmlwIGZvciBpZTdcbiAgICB2YXIgb3B0aW9uICA9ICR0YXJnZXQuZGF0YSgnYnMubW9kYWwnKSA/ICd0b2dnbGUnIDogJC5leHRlbmQoeyByZW1vdGU6ICEvIy8udGVzdChocmVmKSAmJiBocmVmIH0sICR0YXJnZXQuZGF0YSgpLCAkdGhpcy5kYXRhKCkpXG5cbiAgICBpZiAoJHRoaXMuaXMoJ2EnKSkgZS5wcmV2ZW50RGVmYXVsdCgpXG5cbiAgICAkdGFyZ2V0Lm9uZSgnc2hvdy5icy5tb2RhbCcsIGZ1bmN0aW9uIChzaG93RXZlbnQpIHtcbiAgICAgIGlmIChzaG93RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybiAvLyBvbmx5IHJlZ2lzdGVyIGZvY3VzIHJlc3RvcmVyIGlmIG1vZGFsIHdpbGwgYWN0dWFsbHkgZ2V0IHNob3duXG4gICAgICAkdGFyZ2V0Lm9uZSgnaGlkZGVuLmJzLm1vZGFsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAkdGhpcy5pcygnOnZpc2libGUnKSAmJiAkdGhpcy50cmlnZ2VyKCdmb2N1cycpXG4gICAgICB9KVxuICAgIH0pXG4gICAgUGx1Z2luLmNhbGwoJHRhcmdldCwgb3B0aW9uLCB0aGlzKVxuICB9KVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiB0b29sdGlwLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jdG9vbHRpcFxuICogSW5zcGlyZWQgYnkgdGhlIG9yaWdpbmFsIGpRdWVyeS50aXBzeSBieSBKYXNvbiBGcmFtZVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XG4gKiBDb3B5cmlnaHQgMjAxMS0yMDE0IFR3aXR0ZXIsIEluYy5cbiAqIExpY2Vuc2VkIHVuZGVyIE1JVCAoaHR0cHM6Ly9naXRodWIuY29tL3R3YnMvYm9vdHN0cmFwL2Jsb2IvbWFzdGVyL0xJQ0VOU0UpXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuXG4rZnVuY3Rpb24gKCQpIHtcbiAgJ3VzZSBzdHJpY3QnO1xuXG4gIC8vIFRPT0xUSVAgUFVCTElDIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIHZhciBUb29sdGlwID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLnR5cGUgICAgICAgPVxuICAgIHRoaXMub3B0aW9ucyAgICA9XG4gICAgdGhpcy5lbmFibGVkICAgID1cbiAgICB0aGlzLnRpbWVvdXQgICAgPVxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9XG4gICAgdGhpcy4kZWxlbWVudCAgID0gbnVsbFxuXG4gICAgdGhpcy5pbml0KCd0b29sdGlwJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIFRvb2x0aXAuVkVSU0lPTiAgPSAnMy4yLjAnXG5cbiAgVG9vbHRpcC5ERUZBVUxUUyA9IHtcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBzZWxlY3RvcjogZmFsc2UsXG4gICAgdGVtcGxhdGU6ICc8ZGl2IGNsYXNzPVwidG9vbHRpcFwiIHJvbGU9XCJ0b29sdGlwXCI+PGRpdiBjbGFzcz1cInRvb2x0aXAtYXJyb3dcIj48L2Rpdj48ZGl2IGNsYXNzPVwidG9vbHRpcC1pbm5lclwiPjwvZGl2PjwvZGl2PicsXG4gICAgdHJpZ2dlcjogJ2hvdmVyIGZvY3VzJyxcbiAgICB0aXRsZTogJycsXG4gICAgZGVsYXk6IDAsXG4gICAgaHRtbDogZmFsc2UsXG4gICAgY29udGFpbmVyOiBmYWxzZSxcbiAgICB2aWV3cG9ydDoge1xuICAgICAgc2VsZWN0b3I6ICdib2R5JyxcbiAgICAgIHBhZGRpbmc6IDBcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKHR5cGUsIGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLmVuYWJsZWQgICA9IHRydWVcbiAgICB0aGlzLnR5cGUgICAgICA9IHR5cGVcbiAgICB0aGlzLiRlbGVtZW50ICA9ICQoZWxlbWVudClcbiAgICB0aGlzLm9wdGlvbnMgICA9IHRoaXMuZ2V0T3B0aW9ucyhvcHRpb25zKVxuICAgIHRoaXMuJHZpZXdwb3J0ID0gdGhpcy5vcHRpb25zLnZpZXdwb3J0ICYmICQodGhpcy5vcHRpb25zLnZpZXdwb3J0LnNlbGVjdG9yIHx8IHRoaXMub3B0aW9ucy52aWV3cG9ydClcblxuICAgIHZhciB0cmlnZ2VycyA9IHRoaXMub3B0aW9ucy50cmlnZ2VyLnNwbGl0KCcgJylcblxuICAgIGZvciAodmFyIGkgPSB0cmlnZ2Vycy5sZW5ndGg7IGktLTspIHtcbiAgICAgIHZhciB0cmlnZ2VyID0gdHJpZ2dlcnNbaV1cblxuICAgICAgaWYgKHRyaWdnZXIgPT0gJ2NsaWNrJykge1xuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKCdjbGljay4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy50b2dnbGUsIHRoaXMpKVxuICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyICE9ICdtYW51YWwnKSB7XG4gICAgICAgIHZhciBldmVudEluICA9IHRyaWdnZXIgPT0gJ2hvdmVyJyA/ICdtb3VzZWVudGVyJyA6ICdmb2N1c2luJ1xuICAgICAgICB2YXIgZXZlbnRPdXQgPSB0cmlnZ2VyID09ICdob3ZlcicgPyAnbW91c2VsZWF2ZScgOiAnZm9jdXNvdXQnXG5cbiAgICAgICAgdGhpcy4kZWxlbWVudC5vbihldmVudEluICArICcuJyArIHRoaXMudHlwZSwgdGhpcy5vcHRpb25zLnNlbGVjdG9yLCAkLnByb3h5KHRoaXMuZW50ZXIsIHRoaXMpKVxuICAgICAgICB0aGlzLiRlbGVtZW50Lm9uKGV2ZW50T3V0ICsgJy4nICsgdGhpcy50eXBlLCB0aGlzLm9wdGlvbnMuc2VsZWN0b3IsICQucHJveHkodGhpcy5sZWF2ZSwgdGhpcykpXG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy5vcHRpb25zLnNlbGVjdG9yID9cbiAgICAgICh0aGlzLl9vcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMub3B0aW9ucywgeyB0cmlnZ2VyOiAnbWFudWFsJywgc2VsZWN0b3I6ICcnIH0pKSA6XG4gICAgICB0aGlzLmZpeFRpdGxlKClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldERlZmF1bHRzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBUb29sdGlwLkRFRkFVTFRTXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0gJC5leHRlbmQoe30sIHRoaXMuZ2V0RGVmYXVsdHMoKSwgdGhpcy4kZWxlbWVudC5kYXRhKCksIG9wdGlvbnMpXG5cbiAgICBpZiAob3B0aW9ucy5kZWxheSAmJiB0eXBlb2Ygb3B0aW9ucy5kZWxheSA9PSAnbnVtYmVyJykge1xuICAgICAgb3B0aW9ucy5kZWxheSA9IHtcbiAgICAgICAgc2hvdzogb3B0aW9ucy5kZWxheSxcbiAgICAgICAgaGlkZTogb3B0aW9ucy5kZWxheVxuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvcHRpb25zXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXREZWxlZ2F0ZU9wdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG9wdGlvbnMgID0ge31cbiAgICB2YXIgZGVmYXVsdHMgPSB0aGlzLmdldERlZmF1bHRzKClcblxuICAgIHRoaXMuX29wdGlvbnMgJiYgJC5lYWNoKHRoaXMuX29wdGlvbnMsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoZGVmYXVsdHNba2V5XSAhPSB2YWx1ZSkgb3B0aW9uc1trZXldID0gdmFsdWVcbiAgICB9KVxuXG4gICAgcmV0dXJuIG9wdGlvbnNcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmVudGVyID0gZnVuY3Rpb24gKG9iaikge1xuICAgIHZhciBzZWxmID0gb2JqIGluc3RhbmNlb2YgdGhpcy5jb25zdHJ1Y3RvciA/XG4gICAgICBvYmogOiAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKCFzZWxmKSB7XG4gICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3Iob2JqLmN1cnJlbnRUYXJnZXQsIHRoaXMuZ2V0RGVsZWdhdGVPcHRpb25zKCkpXG4gICAgICAkKG9iai5jdXJyZW50VGFyZ2V0KS5kYXRhKCdicy4nICsgdGhpcy50eXBlLCBzZWxmKVxuICAgIH1cblxuICAgIGNsZWFyVGltZW91dChzZWxmLnRpbWVvdXQpXG5cbiAgICBzZWxmLmhvdmVyU3RhdGUgPSAnaW4nXG5cbiAgICBpZiAoIXNlbGYub3B0aW9ucy5kZWxheSB8fCAhc2VsZi5vcHRpb25zLmRlbGF5LnNob3cpIHJldHVybiBzZWxmLnNob3coKVxuXG4gICAgc2VsZi50aW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoc2VsZi5ob3ZlclN0YXRlID09ICdpbicpIHNlbGYuc2hvdygpXG4gICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LnNob3cpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5sZWF2ZSA9IGZ1bmN0aW9uIChvYmopIHtcbiAgICB2YXIgc2VsZiA9IG9iaiBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3IgP1xuICAgICAgb2JqIDogJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcblxuICAgIGlmICghc2VsZikge1xuICAgICAgc2VsZiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKG9iai5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgJChvYmouY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQoc2VsZi50aW1lb3V0KVxuXG4gICAgc2VsZi5ob3ZlclN0YXRlID0gJ291dCdcblxuICAgIGlmICghc2VsZi5vcHRpb25zLmRlbGF5IHx8ICFzZWxmLm9wdGlvbnMuZGVsYXkuaGlkZSkgcmV0dXJuIHNlbGYuaGlkZSgpXG5cbiAgICBzZWxmLnRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChzZWxmLmhvdmVyU3RhdGUgPT0gJ291dCcpIHNlbGYuaGlkZSgpXG4gICAgfSwgc2VsZi5vcHRpb25zLmRlbGF5LmhpZGUpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5zaG93ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBlID0gJC5FdmVudCgnc2hvdy5icy4nICsgdGhpcy50eXBlKVxuXG4gICAgaWYgKHRoaXMuaGFzQ29udGVudCgpICYmIHRoaXMuZW5hYmxlZCkge1xuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKGUpXG5cbiAgICAgIHZhciBpbkRvbSA9ICQuY29udGFpbnMoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LCB0aGlzLiRlbGVtZW50WzBdKVxuICAgICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgIWluRG9tKSByZXR1cm5cbiAgICAgIHZhciB0aGF0ID0gdGhpc1xuXG4gICAgICB2YXIgJHRpcCA9IHRoaXMudGlwKClcblxuICAgICAgdmFyIHRpcElkID0gdGhpcy5nZXRVSUQodGhpcy50eXBlKVxuXG4gICAgICB0aGlzLnNldENvbnRlbnQoKVxuICAgICAgJHRpcC5hdHRyKCdpZCcsIHRpcElkKVxuICAgICAgdGhpcy4kZWxlbWVudC5hdHRyKCdhcmlhLWRlc2NyaWJlZGJ5JywgdGlwSWQpXG5cbiAgICAgIGlmICh0aGlzLm9wdGlvbnMuYW5pbWF0aW9uKSAkdGlwLmFkZENsYXNzKCdmYWRlJylcblxuICAgICAgdmFyIHBsYWNlbWVudCA9IHR5cGVvZiB0aGlzLm9wdGlvbnMucGxhY2VtZW50ID09ICdmdW5jdGlvbicgP1xuICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50LmNhbGwodGhpcywgJHRpcFswXSwgdGhpcy4kZWxlbWVudFswXSkgOlxuICAgICAgICB0aGlzLm9wdGlvbnMucGxhY2VtZW50XG5cbiAgICAgIHZhciBhdXRvVG9rZW4gPSAvXFxzP2F1dG8/XFxzPy9pXG4gICAgICB2YXIgYXV0b1BsYWNlID0gYXV0b1Rva2VuLnRlc3QocGxhY2VtZW50KVxuICAgICAgaWYgKGF1dG9QbGFjZSkgcGxhY2VtZW50ID0gcGxhY2VtZW50LnJlcGxhY2UoYXV0b1Rva2VuLCAnJykgfHwgJ3RvcCdcblxuICAgICAgJHRpcFxuICAgICAgICAuZGV0YWNoKClcbiAgICAgICAgLmNzcyh7IHRvcDogMCwgbGVmdDogMCwgZGlzcGxheTogJ2Jsb2NrJyB9KVxuICAgICAgICAuYWRkQ2xhc3MocGxhY2VtZW50KVxuICAgICAgICAuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgdGhpcylcblxuICAgICAgdGhpcy5vcHRpb25zLmNvbnRhaW5lciA/ICR0aXAuYXBwZW5kVG8odGhpcy5vcHRpb25zLmNvbnRhaW5lcikgOiAkdGlwLmluc2VydEFmdGVyKHRoaXMuJGVsZW1lbnQpXG5cbiAgICAgIHZhciBwb3MgICAgICAgICAgPSB0aGlzLmdldFBvc2l0aW9uKClcbiAgICAgIHZhciBhY3R1YWxXaWR0aCAgPSAkdGlwWzBdLm9mZnNldFdpZHRoXG4gICAgICB2YXIgYWN0dWFsSGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgICAgaWYgKGF1dG9QbGFjZSkge1xuICAgICAgICB2YXIgb3JnUGxhY2VtZW50ID0gcGxhY2VtZW50XG4gICAgICAgIHZhciAkcGFyZW50ICAgICAgPSB0aGlzLiRlbGVtZW50LnBhcmVudCgpXG4gICAgICAgIHZhciBwYXJlbnREaW0gICAgPSB0aGlzLmdldFBvc2l0aW9uKCRwYXJlbnQpXG5cbiAgICAgICAgcGxhY2VtZW50ID0gcGxhY2VtZW50ID09ICdib3R0b20nICYmIHBvcy50b3AgICArIHBvcy5oZWlnaHQgICAgICAgKyBhY3R1YWxIZWlnaHQgLSBwYXJlbnREaW0uc2Nyb2xsID4gcGFyZW50RGltLmhlaWdodCA/ICd0b3AnICAgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgICYmIHBvcy50b3AgICAtIHBhcmVudERpbS5zY3JvbGwgLSBhY3R1YWxIZWlnaHQgPCAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdib3R0b20nIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICdyaWdodCcgICYmIHBvcy5yaWdodCArIGFjdHVhbFdpZHRoICAgICAgPiBwYXJlbnREaW0ud2lkdGggICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdsZWZ0JyAgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50ID09ICdsZWZ0JyAgICYmIHBvcy5sZWZ0ICAtIGFjdHVhbFdpZHRoICAgICAgPCBwYXJlbnREaW0ubGVmdCAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/ICdyaWdodCcgIDpcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50XG5cbiAgICAgICAgJHRpcFxuICAgICAgICAgIC5yZW1vdmVDbGFzcyhvcmdQbGFjZW1lbnQpXG4gICAgICAgICAgLmFkZENsYXNzKHBsYWNlbWVudClcbiAgICAgIH1cblxuICAgICAgdmFyIGNhbGN1bGF0ZWRPZmZzZXQgPSB0aGlzLmdldENhbGN1bGF0ZWRPZmZzZXQocGxhY2VtZW50LCBwb3MsIGFjdHVhbFdpZHRoLCBhY3R1YWxIZWlnaHQpXG5cbiAgICAgIHRoaXMuYXBwbHlQbGFjZW1lbnQoY2FsY3VsYXRlZE9mZnNldCwgcGxhY2VtZW50KVxuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoYXQuJGVsZW1lbnQudHJpZ2dlcignc2hvd24uYnMuJyArIHRoYXQudHlwZSlcbiAgICAgICAgdGhhdC5ob3ZlclN0YXRlID0gbnVsbFxuICAgICAgfVxuXG4gICAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiB0aGlzLiR0aXAuaGFzQ2xhc3MoJ2ZhZGUnKSA/XG4gICAgICAgICR0aXBcbiAgICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCBjb21wbGV0ZSlcbiAgICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoMTUwKSA6XG4gICAgICAgIGNvbXBsZXRlKClcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5hcHBseVBsYWNlbWVudCA9IGZ1bmN0aW9uIChvZmZzZXQsIHBsYWNlbWVudCkge1xuICAgIHZhciAkdGlwICAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHdpZHRoICA9ICR0aXBbMF0ub2Zmc2V0V2lkdGhcbiAgICB2YXIgaGVpZ2h0ID0gJHRpcFswXS5vZmZzZXRIZWlnaHRcblxuICAgIC8vIG1hbnVhbGx5IHJlYWQgbWFyZ2lucyBiZWNhdXNlIGdldEJvdW5kaW5nQ2xpZW50UmVjdCBpbmNsdWRlcyBkaWZmZXJlbmNlXG4gICAgdmFyIG1hcmdpblRvcCA9IHBhcnNlSW50KCR0aXAuY3NzKCdtYXJnaW4tdG9wJyksIDEwKVxuICAgIHZhciBtYXJnaW5MZWZ0ID0gcGFyc2VJbnQoJHRpcC5jc3MoJ21hcmdpbi1sZWZ0JyksIDEwKVxuXG4gICAgLy8gd2UgbXVzdCBjaGVjayBmb3IgTmFOIGZvciBpZSA4LzlcbiAgICBpZiAoaXNOYU4obWFyZ2luVG9wKSkgIG1hcmdpblRvcCAgPSAwXG4gICAgaWYgKGlzTmFOKG1hcmdpbkxlZnQpKSBtYXJnaW5MZWZ0ID0gMFxuXG4gICAgb2Zmc2V0LnRvcCAgPSBvZmZzZXQudG9wICArIG1hcmdpblRvcFxuICAgIG9mZnNldC5sZWZ0ID0gb2Zmc2V0LmxlZnQgKyBtYXJnaW5MZWZ0XG5cbiAgICAvLyAkLmZuLm9mZnNldCBkb2Vzbid0IHJvdW5kIHBpeGVsIHZhbHVlc1xuICAgIC8vIHNvIHdlIHVzZSBzZXRPZmZzZXQgZGlyZWN0bHkgd2l0aCBvdXIgb3duIGZ1bmN0aW9uIEItMFxuICAgICQub2Zmc2V0LnNldE9mZnNldCgkdGlwWzBdLCAkLmV4dGVuZCh7XG4gICAgICB1c2luZzogZnVuY3Rpb24gKHByb3BzKSB7XG4gICAgICAgICR0aXAuY3NzKHtcbiAgICAgICAgICB0b3A6IE1hdGgucm91bmQocHJvcHMudG9wKSxcbiAgICAgICAgICBsZWZ0OiBNYXRoLnJvdW5kKHByb3BzLmxlZnQpXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSwgb2Zmc2V0KSwgMClcblxuICAgICR0aXAuYWRkQ2xhc3MoJ2luJylcblxuICAgIC8vIGNoZWNrIHRvIHNlZSBpZiBwbGFjaW5nIHRpcCBpbiBuZXcgb2Zmc2V0IGNhdXNlZCB0aGUgdGlwIHRvIHJlc2l6ZSBpdHNlbGZcbiAgICB2YXIgYWN0dWFsV2lkdGggID0gJHRpcFswXS5vZmZzZXRXaWR0aFxuICAgIHZhciBhY3R1YWxIZWlnaHQgPSAkdGlwWzBdLm9mZnNldEhlaWdodFxuXG4gICAgaWYgKHBsYWNlbWVudCA9PSAndG9wJyAmJiBhY3R1YWxIZWlnaHQgIT0gaGVpZ2h0KSB7XG4gICAgICBvZmZzZXQudG9wID0gb2Zmc2V0LnRvcCArIGhlaWdodCAtIGFjdHVhbEhlaWdodFxuICAgIH1cblxuICAgIHZhciBkZWx0YSA9IHRoaXMuZ2V0Vmlld3BvcnRBZGp1c3RlZERlbHRhKHBsYWNlbWVudCwgb2Zmc2V0LCBhY3R1YWxXaWR0aCwgYWN0dWFsSGVpZ2h0KVxuXG4gICAgaWYgKGRlbHRhLmxlZnQpIG9mZnNldC5sZWZ0ICs9IGRlbHRhLmxlZnRcbiAgICBlbHNlIG9mZnNldC50b3AgKz0gZGVsdGEudG9wXG5cbiAgICB2YXIgYXJyb3dEZWx0YSAgICAgICAgICA9IGRlbHRhLmxlZnQgPyBkZWx0YS5sZWZ0ICogMiAtIHdpZHRoICsgYWN0dWFsV2lkdGggOiBkZWx0YS50b3AgKiAyIC0gaGVpZ2h0ICsgYWN0dWFsSGVpZ2h0XG4gICAgdmFyIGFycm93UG9zaXRpb24gICAgICAgPSBkZWx0YS5sZWZ0ID8gJ2xlZnQnICAgICAgICA6ICd0b3AnXG4gICAgdmFyIGFycm93T2Zmc2V0UG9zaXRpb24gPSBkZWx0YS5sZWZ0ID8gJ29mZnNldFdpZHRoJyA6ICdvZmZzZXRIZWlnaHQnXG5cbiAgICAkdGlwLm9mZnNldChvZmZzZXQpXG4gICAgdGhpcy5yZXBsYWNlQXJyb3coYXJyb3dEZWx0YSwgJHRpcFswXVthcnJvd09mZnNldFBvc2l0aW9uXSwgYXJyb3dQb3NpdGlvbilcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnJlcGxhY2VBcnJvdyA9IGZ1bmN0aW9uIChkZWx0YSwgZGltZW5zaW9uLCBwb3NpdGlvbikge1xuICAgIHRoaXMuYXJyb3coKS5jc3MocG9zaXRpb24sIGRlbHRhID8gKDUwICogKDEgLSBkZWx0YSAvIGRpbWVuc2lvbikgKyAnJScpIDogJycpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5zZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkdGlwICA9IHRoaXMudGlwKClcbiAgICB2YXIgdGl0bGUgPSB0aGlzLmdldFRpdGxlKClcblxuICAgICR0aXAuZmluZCgnLnRvb2x0aXAtaW5uZXInKVt0aGlzLm9wdGlvbnMuaHRtbCA/ICdodG1sJyA6ICd0ZXh0J10odGl0bGUpXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSBpbiB0b3AgYm90dG9tIGxlZnQgcmlnaHQnKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGhhdCA9IHRoaXNcbiAgICB2YXIgJHRpcCA9IHRoaXMudGlwKClcbiAgICB2YXIgZSAgICA9ICQuRXZlbnQoJ2hpZGUuYnMuJyArIHRoaXMudHlwZSlcblxuICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQXR0cignYXJpYS1kZXNjcmliZWRieScpXG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICAgIGlmICh0aGF0LmhvdmVyU3RhdGUgIT0gJ2luJykgJHRpcC5kZXRhY2goKVxuICAgICAgdGhhdC4kZWxlbWVudC50cmlnZ2VyKCdoaWRkZW4uYnMuJyArIHRoYXQudHlwZSlcbiAgICB9XG5cbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoZSlcblxuICAgIGlmIChlLmlzRGVmYXVsdFByZXZlbnRlZCgpKSByZXR1cm5cblxuICAgICR0aXAucmVtb3ZlQ2xhc3MoJ2luJylcblxuICAgICQuc3VwcG9ydC50cmFuc2l0aW9uICYmIHRoaXMuJHRpcC5oYXNDbGFzcygnZmFkZScpID9cbiAgICAgICR0aXBcbiAgICAgICAgLm9uZSgnYnNUcmFuc2l0aW9uRW5kJywgY29tcGxldGUpXG4gICAgICAgIC5lbXVsYXRlVHJhbnNpdGlvbkVuZCgxNTApIDpcbiAgICAgIGNvbXBsZXRlKClcblxuICAgIHRoaXMuaG92ZXJTdGF0ZSA9IG51bGxcblxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5maXhUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgaWYgKCRlLmF0dHIoJ3RpdGxlJykgfHwgdHlwZW9mICgkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJykpICE9ICdzdHJpbmcnKSB7XG4gICAgICAkZS5hdHRyKCdkYXRhLW9yaWdpbmFsLXRpdGxlJywgJGUuYXR0cigndGl0bGUnKSB8fCAnJykuYXR0cigndGl0bGUnLCAnJylcbiAgICB9XG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5oYXNDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldFRpdGxlKClcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFBvc2l0aW9uID0gZnVuY3Rpb24gKCRlbGVtZW50KSB7XG4gICAgJGVsZW1lbnQgICA9ICRlbGVtZW50IHx8IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgZWwgICAgID0gJGVsZW1lbnRbMF1cbiAgICB2YXIgaXNCb2R5ID0gZWwudGFnTmFtZSA9PSAnQk9EWSdcbiAgICByZXR1cm4gJC5leHRlbmQoe30sICh0eXBlb2YgZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ID09ICdmdW5jdGlvbicpID8gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkgOiBudWxsLCB7XG4gICAgICBzY3JvbGw6IGlzQm9keSA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgOiAkZWxlbWVudC5zY3JvbGxUb3AoKSxcbiAgICAgIHdpZHRoOiAgaXNCb2R5ID8gJCh3aW5kb3cpLndpZHRoKCkgIDogJGVsZW1lbnQub3V0ZXJXaWR0aCgpLFxuICAgICAgaGVpZ2h0OiBpc0JvZHkgPyAkKHdpbmRvdykuaGVpZ2h0KCkgOiAkZWxlbWVudC5vdXRlckhlaWdodCgpXG4gICAgfSwgaXNCb2R5ID8geyB0b3A6IDAsIGxlZnQ6IDAgfSA6ICRlbGVtZW50Lm9mZnNldCgpKVxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUuZ2V0Q2FsY3VsYXRlZE9mZnNldCA9IGZ1bmN0aW9uIChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodCkge1xuICAgIHJldHVybiBwbGFjZW1lbnQgPT0gJ2JvdHRvbScgPyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQsICAgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggLyAyIC0gYWN0dWFsV2lkdGggLyAyICB9IDpcbiAgICAgICAgICAgcGxhY2VtZW50ID09ICd0b3AnICAgID8geyB0b3A6IHBvcy50b3AgLSBhY3R1YWxIZWlnaHQsIGxlZnQ6IHBvcy5sZWZ0ICsgcG9zLndpZHRoIC8gMiAtIGFjdHVhbFdpZHRoIC8gMiAgfSA6XG4gICAgICAgICAgIHBsYWNlbWVudCA9PSAnbGVmdCcgICA/IHsgdG9wOiBwb3MudG9wICsgcG9zLmhlaWdodCAvIDIgLSBhY3R1YWxIZWlnaHQgLyAyLCBsZWZ0OiBwb3MubGVmdCAtIGFjdHVhbFdpZHRoIH0gOlxuICAgICAgICAvKiBwbGFjZW1lbnQgPT0gJ3JpZ2h0JyAqLyB7IHRvcDogcG9zLnRvcCArIHBvcy5oZWlnaHQgLyAyIC0gYWN0dWFsSGVpZ2h0IC8gMiwgbGVmdDogcG9zLmxlZnQgKyBwb3Mud2lkdGggICB9XG5cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFZpZXdwb3J0QWRqdXN0ZWREZWx0YSA9IGZ1bmN0aW9uIChwbGFjZW1lbnQsIHBvcywgYWN0dWFsV2lkdGgsIGFjdHVhbEhlaWdodCkge1xuICAgIHZhciBkZWx0YSA9IHsgdG9wOiAwLCBsZWZ0OiAwIH1cbiAgICBpZiAoIXRoaXMuJHZpZXdwb3J0KSByZXR1cm4gZGVsdGFcblxuICAgIHZhciB2aWV3cG9ydFBhZGRpbmcgPSB0aGlzLm9wdGlvbnMudmlld3BvcnQgJiYgdGhpcy5vcHRpb25zLnZpZXdwb3J0LnBhZGRpbmcgfHwgMFxuICAgIHZhciB2aWV3cG9ydERpbWVuc2lvbnMgPSB0aGlzLmdldFBvc2l0aW9uKHRoaXMuJHZpZXdwb3J0KVxuXG4gICAgaWYgKC9yaWdodHxsZWZ0Ly50ZXN0KHBsYWNlbWVudCkpIHtcbiAgICAgIHZhciB0b3BFZGdlT2Zmc2V0ICAgID0gcG9zLnRvcCAtIHZpZXdwb3J0UGFkZGluZyAtIHZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGxcbiAgICAgIHZhciBib3R0b21FZGdlT2Zmc2V0ID0gcG9zLnRvcCArIHZpZXdwb3J0UGFkZGluZyAtIHZpZXdwb3J0RGltZW5zaW9ucy5zY3JvbGwgKyBhY3R1YWxIZWlnaHRcbiAgICAgIGlmICh0b3BFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLnRvcCkgeyAvLyB0b3Agb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEudG9wID0gdmlld3BvcnREaW1lbnNpb25zLnRvcCAtIHRvcEVkZ2VPZmZzZXRcbiAgICAgIH0gZWxzZSBpZiAoYm90dG9tRWRnZU9mZnNldCA+IHZpZXdwb3J0RGltZW5zaW9ucy50b3AgKyB2aWV3cG9ydERpbWVuc2lvbnMuaGVpZ2h0KSB7IC8vIGJvdHRvbSBvdmVyZmxvd1xuICAgICAgICBkZWx0YS50b3AgPSB2aWV3cG9ydERpbWVuc2lvbnMudG9wICsgdmlld3BvcnREaW1lbnNpb25zLmhlaWdodCAtIGJvdHRvbUVkZ2VPZmZzZXRcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGxlZnRFZGdlT2Zmc2V0ICA9IHBvcy5sZWZ0IC0gdmlld3BvcnRQYWRkaW5nXG4gICAgICB2YXIgcmlnaHRFZGdlT2Zmc2V0ID0gcG9zLmxlZnQgKyB2aWV3cG9ydFBhZGRpbmcgKyBhY3R1YWxXaWR0aFxuICAgICAgaWYgKGxlZnRFZGdlT2Zmc2V0IDwgdmlld3BvcnREaW1lbnNpb25zLmxlZnQpIHsgLy8gbGVmdCBvdmVyZmxvd1xuICAgICAgICBkZWx0YS5sZWZ0ID0gdmlld3BvcnREaW1lbnNpb25zLmxlZnQgLSBsZWZ0RWRnZU9mZnNldFxuICAgICAgfSBlbHNlIGlmIChyaWdodEVkZ2VPZmZzZXQgPiB2aWV3cG9ydERpbWVuc2lvbnMud2lkdGgpIHsgLy8gcmlnaHQgb3ZlcmZsb3dcbiAgICAgICAgZGVsdGEubGVmdCA9IHZpZXdwb3J0RGltZW5zaW9ucy5sZWZ0ICsgdmlld3BvcnREaW1lbnNpb25zLndpZHRoIC0gcmlnaHRFZGdlT2Zmc2V0XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGRlbHRhXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5nZXRUaXRsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgdGl0bGVcbiAgICB2YXIgJGUgPSB0aGlzLiRlbGVtZW50XG4gICAgdmFyIG8gID0gdGhpcy5vcHRpb25zXG5cbiAgICB0aXRsZSA9ICRlLmF0dHIoJ2RhdGEtb3JpZ2luYWwtdGl0bGUnKVxuICAgICAgfHwgKHR5cGVvZiBvLnRpdGxlID09ICdmdW5jdGlvbicgPyBvLnRpdGxlLmNhbGwoJGVbMF0pIDogIG8udGl0bGUpXG5cbiAgICByZXR1cm4gdGl0bGVcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmdldFVJRCA9IGZ1bmN0aW9uIChwcmVmaXgpIHtcbiAgICBkbyBwcmVmaXggKz0gfn4oTWF0aC5yYW5kb20oKSAqIDEwMDAwMDApXG4gICAgd2hpbGUgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHByZWZpeCkpXG4gICAgcmV0dXJuIHByZWZpeFxuICB9XG5cbiAgVG9vbHRpcC5wcm90b3R5cGUudGlwID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy4kdGlwID0gdGhpcy4kdGlwIHx8ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKSlcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmFycm93ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAodGhpcy4kYXJyb3cgPSB0aGlzLiRhcnJvdyB8fCB0aGlzLnRpcCgpLmZpbmQoJy50b29sdGlwLWFycm93JykpXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS52YWxpZGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAoIXRoaXMuJGVsZW1lbnRbMF0ucGFyZW50Tm9kZSkge1xuICAgICAgdGhpcy5oaWRlKClcbiAgICAgIHRoaXMuJGVsZW1lbnQgPSBudWxsXG4gICAgICB0aGlzLm9wdGlvbnMgID0gbnVsbFxuICAgIH1cbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmVuYWJsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmVuYWJsZWQgPSB0cnVlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9IGZhbHNlXG4gIH1cblxuICBUb29sdGlwLnByb3RvdHlwZS50b2dnbGVFbmFibGVkID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZW5hYmxlZCA9ICF0aGlzLmVuYWJsZWRcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzXG4gICAgaWYgKGUpIHtcbiAgICAgIHNlbGYgPSAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSlcbiAgICAgIGlmICghc2VsZikge1xuICAgICAgICBzZWxmID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZS5jdXJyZW50VGFyZ2V0LCB0aGlzLmdldERlbGVnYXRlT3B0aW9ucygpKVxuICAgICAgICAkKGUuY3VycmVudFRhcmdldCkuZGF0YSgnYnMuJyArIHRoaXMudHlwZSwgc2VsZilcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmLnRpcCgpLmhhc0NsYXNzKCdpbicpID8gc2VsZi5sZWF2ZShzZWxmKSA6IHNlbGYuZW50ZXIoc2VsZilcbiAgfVxuXG4gIFRvb2x0aXAucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dClcbiAgICB0aGlzLmhpZGUoKS4kZWxlbWVudC5vZmYoJy4nICsgdGhpcy50eXBlKS5yZW1vdmVEYXRhKCdicy4nICsgdGhpcy50eXBlKVxuICB9XG5cblxuICAvLyBUT09MVElQIFBMVUdJTiBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgICA9ICQodGhpcylcbiAgICAgIHZhciBkYXRhICAgID0gJHRoaXMuZGF0YSgnYnMudG9vbHRpcCcpXG4gICAgICB2YXIgb3B0aW9ucyA9IHR5cGVvZiBvcHRpb24gPT0gJ29iamVjdCcgJiYgb3B0aW9uXG5cbiAgICAgIGlmICghZGF0YSAmJiBvcHRpb24gPT0gJ2Rlc3Ryb3knKSByZXR1cm5cbiAgICAgIGlmICghZGF0YSkgJHRoaXMuZGF0YSgnYnMudG9vbHRpcCcsIChkYXRhID0gbmV3IFRvb2x0aXAodGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXSgpXG4gICAgfSlcbiAgfVxuXG4gIHZhciBvbGQgPSAkLmZuLnRvb2x0aXBcblxuICAkLmZuLnRvb2x0aXAgICAgICAgICAgICAgPSBQbHVnaW5cbiAgJC5mbi50b29sdGlwLkNvbnN0cnVjdG9yID0gVG9vbHRpcFxuXG5cbiAgLy8gVE9PTFRJUCBOTyBDT05GTElDVFxuICAvLyA9PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi50b29sdGlwLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi50b29sdGlwID0gb2xkXG4gICAgcmV0dXJuIHRoaXNcbiAgfVxuXG59KGpRdWVyeSk7XG5cbi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBwb3BvdmVyLmpzIHYzLjIuMFxuICogaHR0cDovL2dldGJvb3RzdHJhcC5jb20vamF2YXNjcmlwdC8jcG9wb3ZlcnNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTEtMjAxNCBUd2l0dGVyLCBJbmMuXG4gKiBMaWNlbnNlZCB1bmRlciBNSVQgKGh0dHBzOi8vZ2l0aHViLmNvbS90d2JzL2Jvb3RzdHJhcC9ibG9iL21hc3Rlci9MSUNFTlNFKVxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cblxuK2Z1bmN0aW9uICgkKSB7XG4gICd1c2Ugc3RyaWN0JztcblxuICAvLyBQT1BPVkVSIFBVQkxJQyBDTEFTUyBERUZJTklUSU9OXG4gIC8vID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgUG9wb3ZlciA9IGZ1bmN0aW9uIChlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy5pbml0KCdwb3BvdmVyJywgZWxlbWVudCwgb3B0aW9ucylcbiAgfVxuXG4gIGlmICghJC5mbi50b29sdGlwKSB0aHJvdyBuZXcgRXJyb3IoJ1BvcG92ZXIgcmVxdWlyZXMgdG9vbHRpcC5qcycpXG5cbiAgUG9wb3Zlci5WRVJTSU9OICA9ICczLjIuMCdcblxuICBQb3BvdmVyLkRFRkFVTFRTID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5ERUZBVUxUUywge1xuICAgIHBsYWNlbWVudDogJ3JpZ2h0JyxcbiAgICB0cmlnZ2VyOiAnY2xpY2snLFxuICAgIGNvbnRlbnQ6ICcnLFxuICAgIHRlbXBsYXRlOiAnPGRpdiBjbGFzcz1cInBvcG92ZXJcIiByb2xlPVwidG9vbHRpcFwiPjxkaXYgY2xhc3M9XCJhcnJvd1wiPjwvZGl2PjxoMyBjbGFzcz1cInBvcG92ZXItdGl0bGVcIj48L2gzPjxkaXYgY2xhc3M9XCJwb3BvdmVyLWNvbnRlbnRcIj48L2Rpdj48L2Rpdj4nXG4gIH0pXG5cblxuICAvLyBOT1RFOiBQT1BPVkVSIEVYVEVORFMgdG9vbHRpcC5qc1xuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIFBvcG92ZXIucHJvdG90eXBlID0gJC5leHRlbmQoe30sICQuZm4udG9vbHRpcC5Db25zdHJ1Y3Rvci5wcm90b3R5cGUpXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBQb3BvdmVyXG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuZ2V0RGVmYXVsdHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFBvcG92ZXIuREVGQVVMVFNcbiAgfVxuXG4gIFBvcG92ZXIucHJvdG90eXBlLnNldENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyICR0aXAgICAgPSB0aGlzLnRpcCgpXG4gICAgdmFyIHRpdGxlICAgPSB0aGlzLmdldFRpdGxlKClcbiAgICB2YXIgY29udGVudCA9IHRoaXMuZ2V0Q29udGVudCgpXG5cbiAgICAkdGlwLmZpbmQoJy5wb3BvdmVyLXRpdGxlJylbdGhpcy5vcHRpb25zLmh0bWwgPyAnaHRtbCcgOiAndGV4dCddKHRpdGxlKVxuICAgICR0aXAuZmluZCgnLnBvcG92ZXItY29udGVudCcpLmVtcHR5KClbIC8vIHdlIHVzZSBhcHBlbmQgZm9yIGh0bWwgb2JqZWN0cyB0byBtYWludGFpbiBqcyBldmVudHNcbiAgICAgIHRoaXMub3B0aW9ucy5odG1sID8gKHR5cGVvZiBjb250ZW50ID09ICdzdHJpbmcnID8gJ2h0bWwnIDogJ2FwcGVuZCcpIDogJ3RleHQnXG4gICAgXShjb250ZW50KVxuXG4gICAgJHRpcC5yZW1vdmVDbGFzcygnZmFkZSB0b3AgYm90dG9tIGxlZnQgcmlnaHQgaW4nKVxuXG4gICAgLy8gSUU4IGRvZXNuJ3QgYWNjZXB0IGhpZGluZyB2aWEgdGhlIGA6ZW1wdHlgIHBzZXVkbyBzZWxlY3Rvciwgd2UgaGF2ZSB0byBkb1xuICAgIC8vIHRoaXMgbWFudWFsbHkgYnkgY2hlY2tpbmcgdGhlIGNvbnRlbnRzLlxuICAgIGlmICghJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmh0bWwoKSkgJHRpcC5maW5kKCcucG9wb3Zlci10aXRsZScpLmhpZGUoKVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuaGFzQ29udGVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRUaXRsZSgpIHx8IHRoaXMuZ2V0Q29udGVudCgpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS5nZXRDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciAkZSA9IHRoaXMuJGVsZW1lbnRcbiAgICB2YXIgbyAgPSB0aGlzLm9wdGlvbnNcblxuICAgIHJldHVybiAkZS5hdHRyKCdkYXRhLWNvbnRlbnQnKVxuICAgICAgfHwgKHR5cGVvZiBvLmNvbnRlbnQgPT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICBvLmNvbnRlbnQuY2FsbCgkZVswXSkgOlxuICAgICAgICAgICAgby5jb250ZW50KVxuICB9XG5cbiAgUG9wb3Zlci5wcm90b3R5cGUuYXJyb3cgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICh0aGlzLiRhcnJvdyA9IHRoaXMuJGFycm93IHx8IHRoaXMudGlwKCkuZmluZCgnLmFycm93JykpXG4gIH1cblxuICBQb3BvdmVyLnByb3RvdHlwZS50aXAgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLiR0aXApIHRoaXMuJHRpcCA9ICQodGhpcy5vcHRpb25zLnRlbXBsYXRlKVxuICAgIHJldHVybiB0aGlzLiR0aXBcbiAgfVxuXG5cbiAgLy8gUE9QT1ZFUiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzICAgPSAkKHRoaXMpXG4gICAgICB2YXIgZGF0YSAgICA9ICR0aGlzLmRhdGEoJ2JzLnBvcG92ZXInKVxuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvblxuXG4gICAgICBpZiAoIWRhdGEgJiYgb3B0aW9uID09ICdkZXN0cm95JykgcmV0dXJuXG4gICAgICBpZiAoIWRhdGEpICR0aGlzLmRhdGEoJ2JzLnBvcG92ZXInLCAoZGF0YSA9IG5ldyBQb3BvdmVyKHRoaXMsIG9wdGlvbnMpKSlcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9uID09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5wb3BvdmVyXG5cbiAgJC5mbi5wb3BvdmVyICAgICAgICAgICAgID0gUGx1Z2luXG4gICQuZm4ucG9wb3Zlci5Db25zdHJ1Y3RvciA9IFBvcG92ZXJcblxuXG4gIC8vIFBPUE9WRVIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT09PVxuXG4gICQuZm4ucG9wb3Zlci5ub0NvbmZsaWN0ID0gZnVuY3Rpb24gKCkge1xuICAgICQuZm4ucG9wb3ZlciA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxufShqUXVlcnkpO1xuXG5cbi8qXG4gKiBhbmd1bGFyLXVpLWJvb3RzdHJhcFxuICogaHR0cDovL2FuZ3VsYXItdWkuZ2l0aHViLmlvL2Jvb3RzdHJhcC9cblxuICogVmVyc2lvbjogMC4xMy40IC0gMjAxNS0wOS0wM1xuICogTGljZW5zZTogTUlUXG4gKi9cbmFuZ3VsYXIubW9kdWxlKFwidWkuYm9vdHN0cmFwXCIsIFtcInVpLmJvb3RzdHJhcC50cGxzXCIsIFwidWkuYm9vdHN0cmFwLmNvbGxhcHNlXCIsXCJ1aS5ib290c3RyYXAuYWNjb3JkaW9uXCIsXCJ1aS5ib290c3RyYXAuYWxlcnRcIixcInVpLmJvb3RzdHJhcC5iaW5kSHRtbFwiLFwidWkuYm9vdHN0cmFwLmJ1dHRvbnNcIixcInVpLmJvb3RzdHJhcC5jYXJvdXNlbFwiLFwidWkuYm9vdHN0cmFwLmRhdGVwYXJzZXJcIixcInVpLmJvb3RzdHJhcC5wb3NpdGlvblwiLFwidWkuYm9vdHN0cmFwLmRhdGVwaWNrZXJcIixcInVpLmJvb3RzdHJhcC5kcm9wZG93blwiLFwidWkuYm9vdHN0cmFwLm1vZGFsXCIsXCJ1aS5ib290c3RyYXAucGFnaW5hdGlvblwiLFwidWkuYm9vdHN0cmFwLnRvb2x0aXBcIixcInVpLmJvb3RzdHJhcC5wb3BvdmVyXCIsXCJ1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXJcIixcInVpLmJvb3RzdHJhcC5yYXRpbmdcIixcInVpLmJvb3RzdHJhcC50YWJzXCIsXCJ1aS5ib290c3RyYXAudGltZXBpY2tlclwiLFwidWkuYm9vdHN0cmFwLnRyYW5zaXRpb25cIixcInVpLmJvb3RzdHJhcC50eXBlYWhlYWRcIl0pO1xuYW5ndWxhci5tb2R1bGUoXCJ1aS5ib290c3RyYXAudHBsc1wiLCBbXCJ0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWxcIixcInRlbXBsYXRlL2FjY29yZGlvbi9hY2NvcmRpb24uaHRtbFwiLFwidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbFwiLFwidGVtcGxhdGUvY2Fyb3VzZWwvY2Fyb3VzZWwuaHRtbFwiLFwidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWxcIixcInRlbXBsYXRlL2RhdGVwaWNrZXIvbW9udGguaHRtbFwiLFwidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbFwiLFwidGVtcGxhdGUvbW9kYWwvYmFja2Ryb3AuaHRtbFwiLFwidGVtcGxhdGUvbW9kYWwvd2luZG93Lmh0bWxcIixcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbFwiLFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1odG1sLXVuc2FmZS1wb3B1cC5odG1sXCIsXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbFwiLFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIixcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci1odG1sLmh0bWxcIixcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sXCIsXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbFwiLFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIixcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWxcIixcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWxcIixcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLFwidGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLFwidGVtcGxhdGUvdGFicy90YWJzZXQuaHRtbFwiLFwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWxcIixcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbFwiLFwidGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sXCJdKTtcbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuY29sbGFwc2UnLCBbXSlcblxuICAuZGlyZWN0aXZlKCdjb2xsYXBzZScsIFsnJGFuaW1hdGUnLCBmdW5jdGlvbigkYW5pbWF0ZSkge1xuICAgIHJldHVybiB7XG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgZnVuY3Rpb24gZXhwYW5kKCkge1xuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIHRydWUpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1oaWRkZW4nLCBmYWxzZSk7XG5cbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCAnaW4nLCB7XG4gICAgICAgICAgICB0bzogeyBoZWlnaHQ6IGVsZW1lbnRbMF0uc2Nyb2xsSGVpZ2h0ICsgJ3B4JyB9XG4gICAgICAgICAgfSkudGhlbihleHBhbmREb25lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGV4cGFuZERvbmUoKSB7XG4gICAgICAgICAgZWxlbWVudC5yZW1vdmVDbGFzcygnY29sbGFwc2luZycpO1xuICAgICAgICAgIGVsZW1lbnQuY3NzKHtoZWlnaHQ6ICdhdXRvJ30pO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gY29sbGFwc2UoKSB7XG4gICAgICAgICAgaWYgKCFlbGVtZW50Lmhhc0NsYXNzKCdjb2xsYXBzZScpICYmICFlbGVtZW50Lmhhc0NsYXNzKCdpbicpKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sbGFwc2VEb25lKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbWVudFxuICAgICAgICAgICAgLy8gSU1QT1JUQU5UOiBUaGUgaGVpZ2h0IG11c3QgYmUgc2V0IGJlZm9yZSBhZGRpbmcgXCJjb2xsYXBzaW5nXCIgY2xhc3MuXG4gICAgICAgICAgICAvLyBPdGhlcndpc2UsIHRoZSBicm93c2VyIGF0dGVtcHRzIHRvIGFuaW1hdGUgZnJvbSBoZWlnaHQgMCAoaW5cbiAgICAgICAgICAgIC8vIGNvbGxhcHNpbmcgY2xhc3MpIHRvIHRoZSBnaXZlbiBoZWlnaHQgaGVyZS5cbiAgICAgICAgICAgIC5jc3Moe2hlaWdodDogZWxlbWVudFswXS5zY3JvbGxIZWlnaHQgKyAncHgnfSlcbiAgICAgICAgICAgIC8vIGluaXRpYWxseSBhbGwgcGFuZWwgY29sbGFwc2UgaGF2ZSB0aGUgY29sbGFwc2UgY2xhc3MsIHRoaXMgcmVtb3ZhbFxuICAgICAgICAgICAgLy8gcHJldmVudHMgdGhlIGFuaW1hdGlvbiBmcm9tIGp1bXBpbmcgdG8gY29sbGFwc2VkIHN0YXRlXG4gICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlJylcbiAgICAgICAgICAgIC5hZGRDbGFzcygnY29sbGFwc2luZycpXG4gICAgICAgICAgICAuYXR0cignYXJpYS1leHBhbmRlZCcsIGZhbHNlKVxuICAgICAgICAgICAgLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSk7XG5cbiAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCAnaW4nLCB7XG4gICAgICAgICAgICB0bzoge2hlaWdodDogJzAnfVxuICAgICAgICAgIH0pLnRoZW4oY29sbGFwc2VEb25lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGNvbGxhcHNlRG9uZSgpIHtcbiAgICAgICAgICBlbGVtZW50LmNzcyh7aGVpZ2h0OiAnMCd9KTsgLy8gUmVxdWlyZWQgc28gdGhhdCBjb2xsYXBzZSB3b3JrcyB3aGVuIGFuaW1hdGlvbiBpcyBkaXNhYmxlZFxuICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNpbmcnKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKCdjb2xsYXBzZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJHdhdGNoKGF0dHJzLmNvbGxhcHNlLCBmdW5jdGlvbihzaG91bGRDb2xsYXBzZSkge1xuICAgICAgICAgIGlmIChzaG91bGRDb2xsYXBzZSkge1xuICAgICAgICAgICAgY29sbGFwc2UoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZXhwYW5kKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuYWNjb3JkaW9uJywgWyd1aS5ib290c3RyYXAuY29sbGFwc2UnXSlcblxuLmNvbnN0YW50KCdhY2NvcmRpb25Db25maWcnLCB7XG4gIGNsb3NlT3RoZXJzOiB0cnVlXG59KVxuXG4uY29udHJvbGxlcignQWNjb3JkaW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICdhY2NvcmRpb25Db25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgYWNjb3JkaW9uQ29uZmlnKSB7XG4gIC8vIFRoaXMgYXJyYXkga2VlcHMgdHJhY2sgb2YgdGhlIGFjY29yZGlvbiBncm91cHNcbiAgdGhpcy5ncm91cHMgPSBbXTtcblxuICAvLyBFbnN1cmUgdGhhdCBhbGwgdGhlIGdyb3VwcyBpbiB0aGlzIGFjY29yZGlvbiBhcmUgY2xvc2VkLCB1bmxlc3MgY2xvc2Utb3RoZXJzIGV4cGxpY2l0bHkgc2F5cyBub3QgdG9cbiAgdGhpcy5jbG9zZU90aGVycyA9IGZ1bmN0aW9uKG9wZW5Hcm91cCkge1xuICAgIHZhciBjbG9zZU90aGVycyA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5jbG9zZU90aGVycykgP1xuICAgICAgJHNjb3BlLiRldmFsKCRhdHRycy5jbG9zZU90aGVycykgOiBhY2NvcmRpb25Db25maWcuY2xvc2VPdGhlcnM7XG4gICAgaWYgKGNsb3NlT3RoZXJzKSB7XG4gICAgICBhbmd1bGFyLmZvckVhY2godGhpcy5ncm91cHMsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChncm91cCAhPT0gb3Blbkdyb3VwKSB7XG4gICAgICAgICAgZ3JvdXAuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICAvLyBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIHRvIGFkZCBpdHNlbGYgdG8gdGhlIGFjY29yZGlvblxuICB0aGlzLmFkZEdyb3VwID0gZnVuY3Rpb24oZ3JvdXBTY29wZSkge1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICB0aGlzLmdyb3Vwcy5wdXNoKGdyb3VwU2NvcGUpO1xuXG4gICAgZ3JvdXBTY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgIHRoYXQucmVtb3ZlR3JvdXAoZ3JvdXBTY29wZSk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgYWNjb3JkaW9uLWdyb3VwIGRpcmVjdGl2ZSB3aGVuIHRvIHJlbW92ZSBpdHNlbGZcbiAgdGhpcy5yZW1vdmVHcm91cCA9IGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgdmFyIGluZGV4ID0gdGhpcy5ncm91cHMuaW5kZXhPZihncm91cCk7XG4gICAgaWYgKGluZGV4ICE9PSAtMSkge1xuICAgICAgdGhpcy5ncm91cHMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9XG4gIH07XG5cbn1dKVxuXG4vLyBUaGUgYWNjb3JkaW9uIGRpcmVjdGl2ZSBzaW1wbHkgc2V0cyB1cCB0aGUgZGlyZWN0aXZlIGNvbnRyb2xsZXJcbi8vIGFuZCBhZGRzIGFuIGFjY29yZGlvbiBDU1MgY2xhc3MgdG8gaXRzZWxmIGVsZW1lbnQuXG4uZGlyZWN0aXZlKCdhY2NvcmRpb24nLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICBjb250cm9sbGVyOiAnQWNjb3JkaW9uQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnYWNjb3JkaW9uJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IGZhbHNlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLmh0bWwnO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFRoZSBhY2NvcmRpb24tZ3JvdXAgZGlyZWN0aXZlIGluZGljYXRlcyBhIGJsb2NrIG9mIGh0bWwgdGhhdCB3aWxsIGV4cGFuZCBhbmQgY29sbGFwc2UgaW4gYW4gYWNjb3JkaW9uXG4uZGlyZWN0aXZlKCdhY2NvcmRpb25Hcm91cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdeYWNjb3JkaW9uJywgICAgICAgICAvLyBXZSBuZWVkIHRoaXMgZGlyZWN0aXZlIHRvIGJlIGluc2lkZSBhbiBhY2NvcmRpb25cbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLCAgICAgICAgICAgICAgLy8gSXQgdHJhbnNjbHVkZXMgdGhlIGNvbnRlbnRzIG9mIHRoZSBkaXJlY3RpdmUgaW50byB0aGUgdGVtcGxhdGVcbiAgICByZXBsYWNlOiB0cnVlLCAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCBjb250YWluaW5nIHRoZSBkaXJlY3RpdmUgd2lsbCBiZSByZXBsYWNlZCB3aXRoIHRoZSB0ZW1wbGF0ZVxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9hY2NvcmRpb24vYWNjb3JkaW9uLWdyb3VwLmh0bWwnO1xuICAgIH0sXG4gICAgc2NvcGU6IHtcbiAgICAgIGhlYWRpbmc6ICdAJywgICAgICAgICAgICAgICAvLyBJbnRlcnBvbGF0ZSB0aGUgaGVhZGluZyBhdHRyaWJ1dGUgb250byB0aGlzIHNjb3BlXG4gICAgICBpc09wZW46ICc9PycsXG4gICAgICBpc0Rpc2FibGVkOiAnPT8nXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuc2V0SGVhZGluZyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5oZWFkaW5nID0gZWxlbWVudDtcbiAgICAgIH07XG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGFjY29yZGlvbkN0cmwpIHtcbiAgICAgIGFjY29yZGlvbkN0cmwuYWRkR3JvdXAoc2NvcGUpO1xuXG4gICAgICBzY29wZS5vcGVuQ2xhc3MgPSBhdHRycy5vcGVuQ2xhc3MgfHwgJ3BhbmVsLW9wZW4nO1xuICAgICAgc2NvcGUucGFuZWxDbGFzcyA9IGF0dHJzLnBhbmVsQ2xhc3M7XG4gICAgICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3Moc2NvcGUub3BlbkNsYXNzLCB2YWx1ZSk7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIGFjY29yZGlvbkN0cmwuY2xvc2VPdGhlcnMoc2NvcGUpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgc2NvcGUudG9nZ2xlT3BlbiA9IGZ1bmN0aW9uKCRldmVudCkge1xuICAgICAgICBpZiAoIXNjb3BlLmlzRGlzYWJsZWQpIHtcbiAgICAgICAgICBpZiAoISRldmVudCB8fCAkZXZlbnQud2hpY2ggPT09IDMyKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSAhc2NvcGUuaXNPcGVuO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG59KVxuXG4vLyBVc2UgYWNjb3JkaW9uLWhlYWRpbmcgYmVsb3cgYW4gYWNjb3JkaW9uLWdyb3VwIHRvIHByb3ZpZGUgYSBoZWFkaW5nIGNvbnRhaW5pbmcgSFRNTFxuLy8gPGFjY29yZGlvbi1ncm91cD5cbi8vICAgPGFjY29yZGlvbi1oZWFkaW5nPkhlYWRpbmcgY29udGFpbmluZyBIVE1MIC0gPGltZyBzcmM9XCIuLi5cIj48L2FjY29yZGlvbi1oZWFkaW5nPlxuLy8gPC9hY2NvcmRpb24tZ3JvdXA+XG4uZGlyZWN0aXZlKCdhY2NvcmRpb25IZWFkaW5nJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSwgICAvLyBHcmFiIHRoZSBjb250ZW50cyB0byBiZSB1c2VkIGFzIHRoZSBoZWFkaW5nXG4gICAgdGVtcGxhdGU6ICcnLCAgICAgICAvLyBJbiBlZmZlY3QgcmVtb3ZlIHRoaXMgZWxlbWVudCFcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHJlcXVpcmU6ICdeYWNjb3JkaW9uR3JvdXAnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRyLCBhY2NvcmRpb25Hcm91cEN0cmwsIHRyYW5zY2x1ZGUpIHtcbiAgICAgIC8vIFBhc3MgdGhlIGhlYWRpbmcgdG8gdGhlIGFjY29yZGlvbi1ncm91cCBjb250cm9sbGVyXG4gICAgICAvLyBzbyB0aGF0IGl0IGNhbiBiZSB0cmFuc2NsdWRlZCBpbnRvIHRoZSByaWdodCBwbGFjZSBpbiB0aGUgdGVtcGxhdGVcbiAgICAgIC8vIFtUaGUgc2Vjb25kIHBhcmFtZXRlciB0byB0cmFuc2NsdWRlIGNhdXNlcyB0aGUgZWxlbWVudHMgdG8gYmUgY2xvbmVkIHNvIHRoYXQgdGhleSB3b3JrIGluIG5nLXJlcGVhdF1cbiAgICAgIGFjY29yZGlvbkdyb3VwQ3RybC5zZXRIZWFkaW5nKHRyYW5zY2x1ZGUoc2NvcGUsIGFuZ3VsYXIubm9vcCkpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi8vIFVzZSBpbiB0aGUgYWNjb3JkaW9uLWdyb3VwIHRlbXBsYXRlIHRvIGluZGljYXRlIHdoZXJlIHlvdSB3YW50IHRoZSBoZWFkaW5nIHRvIGJlIHRyYW5zY2x1ZGVkXG4vLyBZb3UgbXVzdCBwcm92aWRlIHRoZSBwcm9wZXJ0eSBvbiB0aGUgYWNjb3JkaW9uLWdyb3VwIGNvbnRyb2xsZXIgdGhhdCB3aWxsIGhvbGQgdGhlIHRyYW5zY2x1ZGVkIGVsZW1lbnRcbi8vIDxkaXYgY2xhc3M9XCJhY2NvcmRpb24tZ3JvdXBcIj5cbi8vICAgPGRpdiBjbGFzcz1cImFjY29yZGlvbi1oZWFkaW5nXCIgPjxhIC4uLiBhY2NvcmRpb24tdHJhbnNjbHVkZT1cImhlYWRpbmdcIj4uLi48L2E+PC9kaXY+XG4vLyAgIC4uLlxuLy8gPC9kaXY+XG4uZGlyZWN0aXZlKCdhY2NvcmRpb25UcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVxdWlyZTogJ15hY2NvcmRpb25Hcm91cCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHIsIGNvbnRyb2xsZXIpIHtcbiAgICAgIHNjb3BlLiR3YXRjaChmdW5jdGlvbigpIHsgcmV0dXJuIGNvbnRyb2xsZXJbYXR0ci5hY2NvcmRpb25UcmFuc2NsdWRlXTsgfSwgZnVuY3Rpb24oaGVhZGluZykge1xuICAgICAgICBpZiAoaGVhZGluZykge1xuICAgICAgICAgIGVsZW1lbnQuZmluZCgnc3BhbicpLmh0bWwoJycpO1xuICAgICAgICAgIGVsZW1lbnQuZmluZCgnc3BhbicpLmFwcGVuZChoZWFkaW5nKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmFsZXJ0JywgW10pXG5cbi5jb250cm9sbGVyKCdBbGVydENvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycykge1xuICAkc2NvcGUuY2xvc2VhYmxlID0gISEkYXR0cnMuY2xvc2U7XG4gIHRoaXMuY2xvc2UgPSAkc2NvcGUuY2xvc2U7XG59XSlcblxuLmRpcmVjdGl2ZSgnYWxlcnQnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICBjb250cm9sbGVyOiAnQWxlcnRDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdhbGVydCcsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWwnO1xuICAgIH0sXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7XG4gICAgICB0eXBlOiAnQCcsXG4gICAgICBjbG9zZTogJyYnXG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnZGlzbWlzc09uVGltZW91dCcsIFsnJHRpbWVvdXQnLCBmdW5jdGlvbigkdGltZW91dCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdhbGVydCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBhbGVydEN0cmwpIHtcbiAgICAgICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBhbGVydEN0cmwuY2xvc2UoKTtcbiAgICAgIH0sIHBhcnNlSW50KGF0dHJzLmRpc21pc3NPblRpbWVvdXQsIDEwKSk7XG4gICAgfVxuICB9O1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmJpbmRIdG1sJywgW10pXG5cbiAgLnZhbHVlKCckYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcblxuICAuZGlyZWN0aXZlKCdiaW5kSHRtbFVuc2FmZScsIFsnJGxvZycsICckYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCBmdW5jdGlvbiAoJGxvZywgJGJpbmRIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cikge1xuICAgICAgaWYgKCEkYmluZEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICAgICAgJGxvZy53YXJuKCdiaW5kSHRtbFVuc2FmZSBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIG5nQmluZEh0bWwgaW5zdGVhZCcpO1xuICAgICAgfVxuICAgICAgZWxlbWVudC5hZGRDbGFzcygnbmctYmluZGluZycpLmRhdGEoJyRiaW5kaW5nJywgYXR0ci5iaW5kSHRtbFVuc2FmZSk7XG4gICAgICBzY29wZS4kd2F0Y2goYXR0ci5iaW5kSHRtbFVuc2FmZSwgZnVuY3Rpb24gYmluZEh0bWxVbnNhZmVXYXRjaEFjdGlvbih2YWx1ZSkge1xuICAgICAgICBlbGVtZW50Lmh0bWwodmFsdWUgfHwgJycpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfV0pO1xuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5idXR0b25zJywgW10pXG5cbi5jb25zdGFudCgnYnV0dG9uQ29uZmlnJywge1xuICBhY3RpdmVDbGFzczogJ2FjdGl2ZScsXG4gIHRvZ2dsZUV2ZW50OiAnY2xpY2snXG59KVxuXG4uY29udHJvbGxlcignQnV0dG9uc0NvbnRyb2xsZXInLCBbJ2J1dHRvbkNvbmZpZycsIGZ1bmN0aW9uKGJ1dHRvbkNvbmZpZykge1xuICB0aGlzLmFjdGl2ZUNsYXNzID0gYnV0dG9uQ29uZmlnLmFjdGl2ZUNsYXNzIHx8ICdhY3RpdmUnO1xuICB0aGlzLnRvZ2dsZUV2ZW50ID0gYnV0dG9uQ29uZmlnLnRvZ2dsZUV2ZW50IHx8ICdjbGljayc7XG59XSlcblxuLmRpcmVjdGl2ZSgnYnRuUmFkaW8nLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiBbJ2J0blJhZGlvJywgJ25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnQnV0dG9uc0NvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2J1dHRvbnMnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBidXR0b25zQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBlbGVtZW50LmZpbmQoJ2lucHV0JykuY3NzKHtkaXNwbGF5OiAnbm9uZSd9KTtcblxuICAgICAgLy9tb2RlbCAtPiBVSVxuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnRvZ2dsZUNsYXNzKGJ1dHRvbnNDdHJsLmFjdGl2ZUNsYXNzLCBhbmd1bGFyLmVxdWFscyhuZ01vZGVsQ3RybC4kbW9kZWxWYWx1ZSwgc2NvcGUuJGV2YWwoYXR0cnMuYnRuUmFkaW8pKSk7XG4gICAgICB9O1xuXG4gICAgICAvL3VpLT5tb2RlbFxuICAgICAgZWxlbWVudC5iaW5kKGJ1dHRvbnNDdHJsLnRvZ2dsZUV2ZW50LCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGF0dHJzLmRpc2FibGVkKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlzQWN0aXZlID0gZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcyk7XG5cbiAgICAgICAgaWYgKCFpc0FjdGl2ZSB8fCBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy51bmNoZWNrYWJsZSkpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGlzQWN0aXZlID8gbnVsbCA6IHNjb3BlLiRldmFsKGF0dHJzLmJ0blJhZGlvKSk7XG4gICAgICAgICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2J0bkNoZWNrYm94JywgWyckZG9jdW1lbnQnLCBmdW5jdGlvbigkZG9jdW1lbnQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiBbJ2J0bkNoZWNrYm94JywgJ25nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOiAnQnV0dG9uc0NvbnRyb2xsZXInLFxuICAgIGNvbnRyb2xsZXJBczogJ2J1dHRvbicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIGJ1dHRvbnNDdHJsID0gY3RybHNbMF0sIG5nTW9kZWxDdHJsID0gY3RybHNbMV07XG5cbiAgICAgIGVsZW1lbnQuZmluZCgnaW5wdXQnKS5jc3Moe2Rpc3BsYXk6ICdub25lJ30pO1xuXG4gICAgICBmdW5jdGlvbiBnZXRUcnVlVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94VHJ1ZSwgdHJ1ZSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGdldEZhbHNlVmFsdWUoKSB7XG4gICAgICAgIHJldHVybiBnZXRDaGVja2JveFZhbHVlKGF0dHJzLmJ0bkNoZWNrYm94RmFsc2UsIGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0Q2hlY2tib3hWYWx1ZShhdHRyaWJ1dGVWYWx1ZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICAgIHZhciB2YWwgPSBzY29wZS4kZXZhbChhdHRyaWJ1dGVWYWx1ZSk7XG4gICAgICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZCh2YWwpID8gdmFsIDogZGVmYXVsdFZhbHVlO1xuICAgICAgfVxuXG4gICAgICAvL21vZGVsIC0+IFVJXG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGVsZW1lbnQudG9nZ2xlQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MsIGFuZ3VsYXIuZXF1YWxzKG5nTW9kZWxDdHJsLiRtb2RlbFZhbHVlLCBnZXRUcnVlVmFsdWUoKSkpO1xuICAgICAgfTtcblxuICAgICAgLy91aS0+bW9kZWxcbiAgICAgIGVsZW1lbnQuYmluZChidXR0b25zQ3RybC50b2dnbGVFdmVudCwgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChhdHRycy5kaXNhYmxlZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKGVsZW1lbnQuaGFzQ2xhc3MoYnV0dG9uc0N0cmwuYWN0aXZlQ2xhc3MpID8gZ2V0RmFsc2VWYWx1ZSgpIDogZ2V0VHJ1ZVZhbHVlKCkpO1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy9hY2Nlc3NpYmlsaXR5XG4gICAgICBlbGVtZW50Lm9uKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKGF0dHJzLmRpc2FibGVkIHx8IGUud2hpY2ggIT09IDMyIHx8ICRkb2N1bWVudFswXS5hY3RpdmVFbGVtZW50ICE9PSBlbGVtZW50WzBdKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZWxlbWVudC5oYXNDbGFzcyhidXR0b25zQ3RybC5hY3RpdmVDbGFzcykgPyBnZXRGYWxzZVZhbHVlKCkgOiBnZXRUcnVlVmFsdWUoKSk7XG4gICAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuLyoqXG4qIEBuZ2RvYyBvdmVydmlld1xuKiBAbmFtZSB1aS5ib290c3RyYXAuY2Fyb3VzZWxcbipcbiogQGRlc2NyaXB0aW9uXG4qIEFuZ3VsYXJKUyB2ZXJzaW9uIG9mIGFuIGltYWdlIGNhcm91c2VsLlxuKlxuKi9cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAuY2Fyb3VzZWwnLCBbXSlcbi5jb250cm9sbGVyKCdDYXJvdXNlbENvbnRyb2xsZXInLCBbJyRzY29wZScsICckZWxlbWVudCcsICckaW50ZXJ2YWwnLCAnJGFuaW1hdGUnLCBmdW5jdGlvbiAoJHNjb3BlLCAkZWxlbWVudCwgJGludGVydmFsLCAkYW5pbWF0ZSkge1xuICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgc2xpZGVzID0gc2VsZi5zbGlkZXMgPSAkc2NvcGUuc2xpZGVzID0gW10sXG4gICAgTkVXX0FOSU1BVEUgPSBhbmd1bGFyLnZlcnNpb24ubWlub3IgPj0gNCxcbiAgICBOT19UUkFOU0lUSU9OID0gJ3VpYi1ub1RyYW5zaXRpb24nLFxuICAgIFNMSURFX0RJUkVDVElPTiA9ICd1aWItc2xpZGVEaXJlY3Rpb24nLFxuICAgIGN1cnJlbnRJbmRleCA9IC0xLFxuICAgIGN1cnJlbnRJbnRlcnZhbCwgaXNQbGF5aW5nO1xuICBzZWxmLmN1cnJlbnRTbGlkZSA9IG51bGw7XG5cbiAgdmFyIGRlc3Ryb3llZCA9IGZhbHNlO1xuICAvKiBkaXJlY3Rpb246IFwicHJldlwiIG9yIFwibmV4dFwiICovXG4gIHNlbGYuc2VsZWN0ID0gJHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKG5leHRTbGlkZSwgZGlyZWN0aW9uKSB7XG4gICAgdmFyIG5leHRJbmRleCA9ICRzY29wZS5pbmRleE9mU2xpZGUobmV4dFNsaWRlKTtcbiAgICAvL0RlY2lkZSBkaXJlY3Rpb24gaWYgaXQncyBub3QgZ2l2ZW5cbiAgICBpZiAoZGlyZWN0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGRpcmVjdGlvbiA9IG5leHRJbmRleCA+IHNlbGYuZ2V0Q3VycmVudEluZGV4KCkgPyAnbmV4dCcgOiAncHJldic7XG4gICAgfVxuICAgIC8vUHJldmVudCB0aGlzIHVzZXItdHJpZ2dlcmVkIHRyYW5zaXRpb24gZnJvbSBvY2N1cnJpbmcgaWYgdGhlcmUgaXMgYWxyZWFkeSBvbmUgaW4gcHJvZ3Jlc3NcbiAgICBpZiAobmV4dFNsaWRlICYmIG5leHRTbGlkZSAhPT0gc2VsZi5jdXJyZW50U2xpZGUgJiYgISRzY29wZS4kY3VycmVudFRyYW5zaXRpb24pIHtcbiAgICAgIGdvTmV4dChuZXh0U2xpZGUsIG5leHRJbmRleCwgZGlyZWN0aW9uKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gZ29OZXh0KHNsaWRlLCBpbmRleCwgZGlyZWN0aW9uKSB7XG4gICAgLy8gU2NvcGUgaGFzIGJlZW4gZGVzdHJveWVkLCBzdG9wIGhlcmUuXG4gICAgaWYgKGRlc3Ryb3llZCkgeyByZXR1cm47IH1cblxuICAgIGFuZ3VsYXIuZXh0ZW5kKHNsaWRlLCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGFjdGl2ZTogdHJ1ZX0pO1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHNlbGYuY3VycmVudFNsaWRlIHx8IHt9LCB7ZGlyZWN0aW9uOiBkaXJlY3Rpb24sIGFjdGl2ZTogZmFsc2V9KTtcbiAgICBpZiAoJGFuaW1hdGUuZW5hYmxlZCgpICYmICEkc2NvcGUubm9UcmFuc2l0aW9uICYmICEkc2NvcGUuJGN1cnJlbnRUcmFuc2l0aW9uICYmXG4gICAgICBzbGlkZS4kZWxlbWVudCAmJiBzZWxmLnNsaWRlcy5sZW5ndGggPiAxKSB7XG4gICAgICBzbGlkZS4kZWxlbWVudC5kYXRhKFNMSURFX0RJUkVDVElPTiwgc2xpZGUuZGlyZWN0aW9uKTtcbiAgICAgIGlmIChzZWxmLmN1cnJlbnRTbGlkZSAmJiBzZWxmLmN1cnJlbnRTbGlkZS4kZWxlbWVudCkge1xuICAgICAgICBzZWxmLmN1cnJlbnRTbGlkZS4kZWxlbWVudC5kYXRhKFNMSURFX0RJUkVDVElPTiwgc2xpZGUuZGlyZWN0aW9uKTtcbiAgICAgIH1cblxuICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9IHRydWU7XG4gICAgICBpZiAoTkVXX0FOSU1BVEUpIHtcbiAgICAgICAgJGFuaW1hdGUub24oJ2FkZENsYXNzJywgc2xpZGUuJGVsZW1lbnQsIGZ1bmN0aW9uIChlbGVtZW50LCBwaGFzZSkge1xuICAgICAgICAgIGlmIChwaGFzZSA9PT0gJ2Nsb3NlJykge1xuICAgICAgICAgICAgJHNjb3BlLiRjdXJyZW50VHJhbnNpdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAkYW5pbWF0ZS5vZmYoJ2FkZENsYXNzJywgZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNsaWRlLiRlbGVtZW50Lm9uZSgnJGFuaW1hdGU6Y2xvc2UnLCBmdW5jdGlvbiBjbG9zZUZuKCkge1xuICAgICAgICAgICRzY29wZS4kY3VycmVudFRyYW5zaXRpb24gPSBudWxsO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxmLmN1cnJlbnRTbGlkZSA9IHNsaWRlO1xuICAgIGN1cnJlbnRJbmRleCA9IGluZGV4O1xuXG4gICAgLy9ldmVyeSB0aW1lIHlvdSBjaGFuZ2Ugc2xpZGVzLCByZXNldCB0aGUgdGltZXJcbiAgICByZXN0YXJ0VGltZXIoKTtcbiAgfVxuXG4gICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24gKCkge1xuICAgIGRlc3Ryb3llZCA9IHRydWU7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGdldFNsaWRlQnlJbmRleChpbmRleCkge1xuICAgIGlmIChhbmd1bGFyLmlzVW5kZWZpbmVkKHNsaWRlc1tpbmRleF0uaW5kZXgpKSB7XG4gICAgICByZXR1cm4gc2xpZGVzW2luZGV4XTtcbiAgICB9XG4gICAgdmFyIGksIGxlbiA9IHNsaWRlcy5sZW5ndGg7XG4gICAgZm9yIChpID0gMDsgaSA8IHNsaWRlcy5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKHNsaWRlc1tpXS5pbmRleCA9PSBpbmRleCkge1xuICAgICAgICByZXR1cm4gc2xpZGVzW2ldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHNlbGYuZ2V0Q3VycmVudEluZGV4ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHNlbGYuY3VycmVudFNsaWRlICYmIGFuZ3VsYXIuaXNEZWZpbmVkKHNlbGYuY3VycmVudFNsaWRlLmluZGV4KSkge1xuICAgICAgcmV0dXJuICtzZWxmLmN1cnJlbnRTbGlkZS5pbmRleDtcbiAgICB9XG4gICAgcmV0dXJuIGN1cnJlbnRJbmRleDtcbiAgfTtcblxuICAvKiBBbGxvdyBvdXRzaWRlIHBlb3BsZSB0byBjYWxsIGluZGV4T2Ygb24gc2xpZGVzIGFycmF5ICovXG4gICRzY29wZS5pbmRleE9mU2xpZGUgPSBmdW5jdGlvbihzbGlkZSkge1xuICAgIHJldHVybiBhbmd1bGFyLmlzRGVmaW5lZChzbGlkZS5pbmRleCkgPyArc2xpZGUuaW5kZXggOiBzbGlkZXMuaW5kZXhPZihzbGlkZSk7XG4gIH07XG5cbiAgJHNjb3BlLm5leHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmV3SW5kZXggPSAoc2VsZi5nZXRDdXJyZW50SW5kZXgoKSArIDEpICUgc2xpZGVzLmxlbmd0aDtcblxuICAgIGlmIChuZXdJbmRleCA9PT0gMCAmJiAkc2NvcGUubm9XcmFwKCkpIHtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNlbGVjdChnZXRTbGlkZUJ5SW5kZXgobmV3SW5kZXgpLCAnbmV4dCcpO1xuICB9O1xuXG4gICRzY29wZS5wcmV2ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIG5ld0luZGV4ID0gc2VsZi5nZXRDdXJyZW50SW5kZXgoKSAtIDEgPCAwID8gc2xpZGVzLmxlbmd0aCAtIDEgOiBzZWxmLmdldEN1cnJlbnRJbmRleCgpIC0gMTtcblxuICAgIGlmICgkc2NvcGUubm9XcmFwKCkgJiYgbmV3SW5kZXggPT09IHNsaWRlcy5sZW5ndGggLSAxKXtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNlbGVjdChnZXRTbGlkZUJ5SW5kZXgobmV3SW5kZXgpLCAncHJldicpO1xuICB9O1xuXG4gICRzY29wZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uKHNsaWRlKSB7XG4gICAgIHJldHVybiBzZWxmLmN1cnJlbnRTbGlkZSA9PT0gc2xpZGU7XG4gIH07XG5cbiAgJHNjb3BlLiR3YXRjaCgnaW50ZXJ2YWwnLCByZXN0YXJ0VGltZXIpO1xuICAkc2NvcGUuJG9uKCckZGVzdHJveScsIHJlc2V0VGltZXIpO1xuXG4gIGZ1bmN0aW9uIHJlc3RhcnRUaW1lcigpIHtcbiAgICByZXNldFRpbWVyKCk7XG4gICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDtcbiAgICBpZiAoIWlzTmFOKGludGVydmFsKSAmJiBpbnRlcnZhbCA+IDApIHtcbiAgICAgIGN1cnJlbnRJbnRlcnZhbCA9ICRpbnRlcnZhbCh0aW1lckZuLCBpbnRlcnZhbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRUaW1lcigpIHtcbiAgICBpZiAoY3VycmVudEludGVydmFsKSB7XG4gICAgICAkaW50ZXJ2YWwuY2FuY2VsKGN1cnJlbnRJbnRlcnZhbCk7XG4gICAgICBjdXJyZW50SW50ZXJ2YWwgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRm4oKSB7XG4gICAgdmFyIGludGVydmFsID0gKyRzY29wZS5pbnRlcnZhbDtcbiAgICBpZiAoaXNQbGF5aW5nICYmICFpc05hTihpbnRlcnZhbCkgJiYgaW50ZXJ2YWwgPiAwICYmIHNsaWRlcy5sZW5ndGgpIHtcbiAgICAgICRzY29wZS5uZXh0KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICRzY29wZS5wYXVzZSgpO1xuICAgIH1cbiAgfVxuXG4gICRzY29wZS5wbGF5ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCFpc1BsYXlpbmcpIHtcbiAgICAgIGlzUGxheWluZyA9IHRydWU7XG4gICAgICByZXN0YXJ0VGltZXIoKTtcbiAgICB9XG4gIH07XG4gICRzY29wZS5wYXVzZSA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vUGF1c2UpIHtcbiAgICAgIGlzUGxheWluZyA9IGZhbHNlO1xuICAgICAgcmVzZXRUaW1lcigpO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLmFkZFNsaWRlID0gZnVuY3Rpb24oc2xpZGUsIGVsZW1lbnQpIHtcbiAgICBzbGlkZS4kZWxlbWVudCA9IGVsZW1lbnQ7XG4gICAgc2xpZGVzLnB1c2goc2xpZGUpO1xuICAgIC8vaWYgdGhpcyBpcyB0aGUgZmlyc3Qgc2xpZGUgb3IgdGhlIHNsaWRlIGlzIHNldCB0byBhY3RpdmUsIHNlbGVjdCBpdFxuICAgIGlmKHNsaWRlcy5sZW5ndGggPT09IDEgfHwgc2xpZGUuYWN0aXZlKSB7XG4gICAgICBzZWxmLnNlbGVjdChzbGlkZXNbc2xpZGVzLmxlbmd0aC0xXSk7XG4gICAgICBpZiAoc2xpZGVzLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICRzY29wZS5wbGF5KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNsaWRlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgfTtcblxuICBzZWxmLnJlbW92ZVNsaWRlID0gZnVuY3Rpb24oc2xpZGUpIHtcbiAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoc2xpZGUuaW5kZXgpKSB7XG4gICAgICBzbGlkZXMuc29ydChmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIHJldHVybiArYS5pbmRleCA+ICtiLmluZGV4O1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vZ2V0IHRoZSBpbmRleCBvZiB0aGUgc2xpZGUgaW5zaWRlIHRoZSBjYXJvdXNlbFxuICAgIHZhciBpbmRleCA9IHNsaWRlcy5pbmRleE9mKHNsaWRlKTtcbiAgICBzbGlkZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICBpZiAoc2xpZGVzLmxlbmd0aCA+IDAgJiYgc2xpZGUuYWN0aXZlKSB7XG4gICAgICBpZiAoaW5kZXggPj0gc2xpZGVzLmxlbmd0aCkge1xuICAgICAgICBzZWxmLnNlbGVjdChzbGlkZXNbaW5kZXgtMV0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5zZWxlY3Qoc2xpZGVzW2luZGV4XSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjdXJyZW50SW5kZXggPiBpbmRleCkge1xuICAgICAgY3VycmVudEluZGV4LS07XG4gICAgfVxuICAgIFxuICAgIC8vY2xlYW4gdGhlIGN1cnJlbnRTbGlkZSB3aGVuIG5vIG1vcmUgc2xpZGVcbiAgICBpZiAoc2xpZGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgc2VsZi5jdXJyZW50U2xpZGUgPSBudWxsO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuJHdhdGNoKCdub1RyYW5zaXRpb24nLCBmdW5jdGlvbihub1RyYW5zaXRpb24pIHtcbiAgICAkZWxlbWVudC5kYXRhKE5PX1RSQU5TSVRJT04sIG5vVHJhbnNpdGlvbik7XG4gIH0pO1xuXG59XSlcblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAuY2Fyb3VzZWwuZGlyZWN0aXZlOmNhcm91c2VsXG4gKiBAcmVzdHJpY3QgRUFcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIENhcm91c2VsIGlzIHRoZSBvdXRlciBjb250YWluZXIgZm9yIGEgc2V0IG9mIGltYWdlICdzbGlkZXMnIHRvIHNob3djYXNlLlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyPX0gaW50ZXJ2YWwgVGhlIHRpbWUsIGluIG1pbGxpc2Vjb25kcywgdGhhdCBpdCB3aWxsIHRha2UgdGhlIGNhcm91c2VsIHRvIGdvIHRvIHRoZSBuZXh0IHNsaWRlLlxuICogQHBhcmFtIHtib29sZWFuPX0gbm9UcmFuc2l0aW9uIFdoZXRoZXIgdG8gZGlzYWJsZSB0cmFuc2l0aW9ucyBvbiB0aGUgY2Fyb3VzZWwuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBub1BhdXNlIFdoZXRoZXIgdG8gZGlzYWJsZSBwYXVzaW5nIG9uIHRoZSBjYXJvdXNlbCAoYnkgZGVmYXVsdCwgdGhlIGNhcm91c2VsIGludGVydmFsIHBhdXNlcyBvbiBob3ZlcikuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDxjYXJvdXNlbD5cbiAgICAgIDxzbGlkZT5cbiAgICAgICAgPGltZyBzcmM9XCJodHRwOi8vcGxhY2VraXR0ZW4uY29tLzE1MC8xNTBcIiBzdHlsZT1cIm1hcmdpbjphdXRvO1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtY2FwdGlvblwiPlxuICAgICAgICAgIDxwPkJlYXV0aWZ1bCE8L3A+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9zbGlkZT5cbiAgICAgIDxzbGlkZT5cbiAgICAgICAgPGltZyBzcmM9XCJodHRwOi8vcGxhY2VraXR0ZW4uY29tLzEwMC8xNTBcIiBzdHlsZT1cIm1hcmdpbjphdXRvO1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY2Fyb3VzZWwtY2FwdGlvblwiPlxuICAgICAgICAgIDxwPkQnYXd3ITwvcD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L3NsaWRlPlxuICAgIDwvY2Fyb3VzZWw+XG4gIDwvZmlsZT5cbiAgPGZpbGUgbmFtZT1cImRlbW8uY3NzXCI+XG4gICAgLmNhcm91c2VsLWluZGljYXRvcnMge1xuICAgICAgdG9wOiBhdXRvO1xuICAgICAgYm90dG9tOiAxNXB4O1xuICAgIH1cbiAgPC9maWxlPlxuPC9leGFtcGxlPlxuICovXG4uZGlyZWN0aXZlKCdjYXJvdXNlbCcsIFtmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ0Nhcm91c2VsQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAnY2Fyb3VzZWwnLFxuICAgIHJlcXVpcmU6ICdjYXJvdXNlbCcsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWwnO1xuICAgIH0sXG4gICAgc2NvcGU6IHtcbiAgICAgIGludGVydmFsOiAnPScsXG4gICAgICBub1RyYW5zaXRpb246ICc9JyxcbiAgICAgIG5vUGF1c2U6ICc9JyxcbiAgICAgIG5vV3JhcDogJyYnXG4gICAgfVxuICB9O1xufV0pXG5cbi8qKlxuICogQG5nZG9jIGRpcmVjdGl2ZVxuICogQG5hbWUgdWkuYm9vdHN0cmFwLmNhcm91c2VsLmRpcmVjdGl2ZTpzbGlkZVxuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgc2xpZGUgaW5zaWRlIGEge0BsaW5rIHVpLmJvb3RzdHJhcC5jYXJvdXNlbC5kaXJlY3RpdmU6Y2Fyb3VzZWwgY2Fyb3VzZWx9LiAgTXVzdCBiZSBwbGFjZWQgYXMgYSBjaGlsZCBvZiBhIGNhcm91c2VsIGVsZW1lbnQuXG4gKlxuICogQHBhcmFtIHtib29sZWFuPX0gYWN0aXZlIE1vZGVsIGJpbmRpbmcsIHdoZXRoZXIgb3Igbm90IHRoaXMgc2xpZGUgaXMgY3VycmVudGx5IGFjdGl2ZS5cbiAqIEBwYXJhbSB7bnVtYmVyPX0gaW5kZXggVGhlIGluZGV4IG9mIHRoZSBzbGlkZS4gVGhlIHNsaWRlcyB3aWxsIGJlIHNvcnRlZCBieSB0aGlzIHBhcmFtZXRlci5cbiAqXG4gKiBAZXhhbXBsZVxuPGV4YW1wbGUgbW9kdWxlPVwidWkuYm9vdHN0cmFwXCI+XG4gIDxmaWxlIG5hbWU9XCJpbmRleC5odG1sXCI+XG48ZGl2IG5nLWNvbnRyb2xsZXI9XCJDYXJvdXNlbERlbW9DdHJsXCI+XG4gIDxjYXJvdXNlbD5cbiAgICA8c2xpZGUgbmctcmVwZWF0PVwic2xpZGUgaW4gc2xpZGVzXCIgYWN0aXZlPVwic2xpZGUuYWN0aXZlXCIgaW5kZXg9XCIkaW5kZXhcIj5cbiAgICAgIDxpbWcgbmctc3JjPVwie3tzbGlkZS5pbWFnZX19XCIgc3R5bGU9XCJtYXJnaW46YXV0bztcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJvdXNlbC1jYXB0aW9uXCI+XG4gICAgICAgIDxoND5TbGlkZSB7eyRpbmRleH19PC9oND5cbiAgICAgICAgPHA+e3tzbGlkZS50ZXh0fX08L3A+XG4gICAgICA8L2Rpdj5cbiAgICA8L3NsaWRlPlxuICA8L2Nhcm91c2VsPlxuICBJbnRlcnZhbCwgaW4gbWlsbGlzZWNvbmRzOiA8aW5wdXQgdHlwZT1cIm51bWJlclwiIG5nLW1vZGVsPVwibXlJbnRlcnZhbFwiPlxuICA8YnIgLz5FbnRlciBhIG5lZ2F0aXZlIG51bWJlciB0byBzdG9wIHRoZSBpbnRlcnZhbC5cbjwvZGl2PlxuICA8L2ZpbGU+XG4gIDxmaWxlIG5hbWU9XCJzY3JpcHQuanNcIj5cbmZ1bmN0aW9uIENhcm91c2VsRGVtb0N0cmwoJHNjb3BlKSB7XG4gICRzY29wZS5teUludGVydmFsID0gNTAwMDtcbn1cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwiZGVtby5jc3NcIj5cbiAgICAuY2Fyb3VzZWwtaW5kaWNhdG9ycyB7XG4gICAgICB0b3A6IGF1dG87XG4gICAgICBib3R0b206IDE1cHg7XG4gICAgfVxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4qL1xuXG4uZGlyZWN0aXZlKCdzbGlkZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICdeY2Fyb3VzZWwnLFxuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbCc7XG4gICAgfSxcbiAgICBzY29wZToge1xuICAgICAgYWN0aXZlOiAnPT8nLFxuICAgICAgYWN0dWFsOiAnPT8nLFxuICAgICAgaW5kZXg6ICc9PydcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGNhcm91c2VsQ3RybCkge1xuICAgICAgY2Fyb3VzZWxDdHJsLmFkZFNsaWRlKHNjb3BlLCBlbGVtZW50KTtcbiAgICAgIC8vd2hlbiB0aGUgc2NvcGUgaXMgZGVzdHJveWVkIHRoZW4gcmVtb3ZlIHRoZSBzbGlkZSBmcm9tIHRoZSBjdXJyZW50IHNsaWRlcyBhcnJheVxuICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICBjYXJvdXNlbEN0cmwucmVtb3ZlU2xpZGUoc2NvcGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlJywgZnVuY3Rpb24oYWN0aXZlKSB7XG4gICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICBjYXJvdXNlbEN0cmwuc2VsZWN0KHNjb3BlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSlcblxuLmFuaW1hdGlvbignLml0ZW0nLCBbXG4gICAgICAgICAnJGluamVjdG9yJywgJyRhbmltYXRlJyxcbmZ1bmN0aW9uICgkaW5qZWN0b3IsICRhbmltYXRlKSB7XG4gIHZhciBOT19UUkFOU0lUSU9OID0gJ3VpYi1ub1RyYW5zaXRpb24nLFxuICAgIFNMSURFX0RJUkVDVElPTiA9ICd1aWItc2xpZGVEaXJlY3Rpb24nLFxuICAgICRhbmltYXRlQ3NzID0gbnVsbDtcblxuICBpZiAoJGluamVjdG9yLmhhcygnJGFuaW1hdGVDc3MnKSkge1xuICAgICRhbmltYXRlQ3NzID0gJGluamVjdG9yLmdldCgnJGFuaW1hdGVDc3MnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSwgY2FsbGJhY2spIHtcbiAgICBlbGVtZW50LnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYmVmb3JlQWRkQ2xhc3M6IGZ1bmN0aW9uIChlbGVtZW50LCBjbGFzc05hbWUsIGRvbmUpIHtcbiAgICAgIC8vIER1ZSB0byB0cmFuc2NsdXNpb24sIG5vVHJhbnNpdGlvbiBwcm9wZXJ0eSBpcyBvbiBwYXJlbnQncyBzY29wZVxuICAgICAgaWYgKGNsYXNzTmFtZSA9PSAnYWN0aXZlJyAmJiBlbGVtZW50LnBhcmVudCgpICYmXG4gICAgICAgICAgIWVsZW1lbnQucGFyZW50KCkuZGF0YShOT19UUkFOU0lUSU9OKSkge1xuICAgICAgICB2YXIgc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgZGlyZWN0aW9uID0gZWxlbWVudC5kYXRhKFNMSURFX0RJUkVDVElPTik7XG4gICAgICAgIHZhciBkaXJlY3Rpb25DbGFzcyA9IGRpcmVjdGlvbiA9PSAnbmV4dCcgPyAnbGVmdCcgOiAncmlnaHQnO1xuICAgICAgICB2YXIgcmVtb3ZlQ2xhc3NGbiA9IHJlbW92ZUNsYXNzLmJpbmQodGhpcywgZWxlbWVudCxcbiAgICAgICAgICBkaXJlY3Rpb25DbGFzcyArICcgJyArIGRpcmVjdGlvbiwgZG9uZSk7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoZGlyZWN0aW9uKTtcblxuICAgICAgICBpZiAoJGFuaW1hdGVDc3MpIHtcbiAgICAgICAgICAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7YWRkQ2xhc3M6IGRpcmVjdGlvbkNsYXNzfSlcbiAgICAgICAgICAgIC5zdGFydCgpXG4gICAgICAgICAgICAuZG9uZShyZW1vdmVDbGFzc0ZuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkYW5pbWF0ZS5hZGRDbGFzcyhlbGVtZW50LCBkaXJlY3Rpb25DbGFzcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIXN0b3BwZWQpIHtcbiAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3NGbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG9uZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGRvbmUoKTtcbiAgICB9LFxuICAgIGJlZm9yZVJlbW92ZUNsYXNzOiBmdW5jdGlvbiAoZWxlbWVudCwgY2xhc3NOYW1lLCBkb25lKSB7XG4gICAgICAvLyBEdWUgdG8gdHJhbnNjbHVzaW9uLCBub1RyYW5zaXRpb24gcHJvcGVydHkgaXMgb24gcGFyZW50J3Mgc2NvcGVcbiAgICAgIGlmIChjbGFzc05hbWUgPT09ICdhY3RpdmUnICYmIGVsZW1lbnQucGFyZW50KCkgJiZcbiAgICAgICAgICAhZWxlbWVudC5wYXJlbnQoKS5kYXRhKE5PX1RSQU5TSVRJT04pKSB7XG4gICAgICAgIHZhciBzdG9wcGVkID0gZmFsc2U7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBlbGVtZW50LmRhdGEoU0xJREVfRElSRUNUSU9OKTtcbiAgICAgICAgdmFyIGRpcmVjdGlvbkNsYXNzID0gZGlyZWN0aW9uID09ICduZXh0JyA/ICdsZWZ0JyA6ICdyaWdodCc7XG4gICAgICAgIHZhciByZW1vdmVDbGFzc0ZuID0gcmVtb3ZlQ2xhc3MuYmluZCh0aGlzLCBlbGVtZW50LCBkaXJlY3Rpb25DbGFzcywgZG9uZSk7XG5cbiAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge2FkZENsYXNzOiBkaXJlY3Rpb25DbGFzc30pXG4gICAgICAgICAgICAuc3RhcnQoKVxuICAgICAgICAgICAgLmRvbmUocmVtb3ZlQ2xhc3NGbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgZGlyZWN0aW9uQ2xhc3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFzdG9wcGVkKSB7XG4gICAgICAgICAgICAgIHJlbW92ZUNsYXNzRm4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvbmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgZG9uZSgpO1xuICAgIH1cbiAgfTtcblxufV0pXG5cblxuO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRhdGVwYXJzZXInLCBbXSlcblxuLnNlcnZpY2UoJ2RhdGVQYXJzZXInLCBbJyRsb2cnLCAnJGxvY2FsZScsICdvcmRlckJ5RmlsdGVyJywgZnVuY3Rpb24oJGxvZywgJGxvY2FsZSwgb3JkZXJCeUZpbHRlcikge1xuICAvLyBQdWxsZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vbWJvc3RvY2svZDMvYmxvYi9tYXN0ZXIvc3JjL2Zvcm1hdC9yZXF1b3RlLmpzXG4gIHZhciBTUEVDSUFMX0NIQVJBQ1RFUlNfUkVHRVhQID0gL1tcXFxcXFxeXFwkXFwqXFwrXFw/XFx8XFxbXFxdXFwoXFwpXFwuXFx7XFx9XS9nO1xuXG4gIHRoaXMucGFyc2VycyA9IHt9O1xuXG4gIHZhciBmb3JtYXRDb2RlVG9SZWdleCA9IHtcbiAgICAneXl5eSc6IHtcbiAgICAgIHJlZ2V4OiAnXFxcXGR7NH0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3l5Jzoge1xuICAgICAgcmVnZXg6ICdcXFxcZHsyfScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy55ZWFyID0gK3ZhbHVlICsgMjAwMDsgfVxuICAgIH0sXG4gICAgJ3knOiB7XG4gICAgICByZWdleDogJ1xcXFxkezEsNH0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMueWVhciA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ01NTU0nOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmpvaW4oJ3wnKSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLk1PTlRILmluZGV4T2YodmFsdWUpOyB9XG4gICAgfSxcbiAgICAnTU1NJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVE1PTlRILmpvaW4oJ3wnKSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLm1vbnRoID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLlNIT1JUTU9OVEguaW5kZXhPZih2YWx1ZSk7IH1cbiAgICB9LFxuICAgICdNTSc6IHtcbiAgICAgIHJlZ2V4OiAnMFsxLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9IHZhbHVlIC0gMTsgfVxuICAgIH0sXG4gICAgJ00nOiB7XG4gICAgICByZWdleDogJ1sxLTldfDFbMC0yXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5tb250aCA9IHZhbHVlIC0gMTsgfVxuICAgIH0sXG4gICAgJ2RkJzoge1xuICAgICAgcmVnZXg6ICdbMC0yXVswLTldezF9fDNbMC0xXXsxfScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5kYXRlID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnZCc6IHtcbiAgICAgIHJlZ2V4OiAnWzEtMl0/WzAtOV17MX18M1swLTFdezF9JyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmRhdGUgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdFRUVFJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5EQVkuam9pbignfCcpXG4gICAgfSxcbiAgICAnRUVFJzoge1xuICAgICAgcmVnZXg6ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5TSE9SVERBWS5qb2luKCd8JylcbiAgICB9LFxuICAgICdISCc6IHtcbiAgICAgIHJlZ2V4OiAnKD86MHwxKVswLTldfDJbMC0zXScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5ob3VycyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ2hoJzoge1xuICAgICAgcmVnZXg6ICcwWzAtOV18MVswLTJdJyxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkgeyB0aGlzLmhvdXJzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnSCc6IHtcbiAgICAgIHJlZ2V4OiAnMT9bMC05XXwyWzAtM10nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuaG91cnMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdoJzoge1xuICAgICAgcmVnZXg6ICdbMC05XXwxWzAtMl0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuaG91cnMgPSArdmFsdWU7IH1cbiAgICB9LFxuICAgICdtbSc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtNV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5taW51dGVzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnbSc6IHtcbiAgICAgIHJlZ2V4OiAnWzAtOV18WzEtNV1bMC05XScsXG4gICAgICBhcHBseTogZnVuY3Rpb24odmFsdWUpIHsgdGhpcy5taW51dGVzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnc3NzJzoge1xuICAgICAgcmVnZXg6ICdbMC05XVswLTldWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMubWlsbGlzZWNvbmRzID0gK3ZhbHVlOyB9XG4gICAgfSxcbiAgICAnc3MnOiB7XG4gICAgICByZWdleDogJ1swLTVdWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuc2Vjb25kcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ3MnOiB7XG4gICAgICByZWdleDogJ1swLTldfFsxLTVdWzAtOV0nLFxuICAgICAgYXBwbHk6IGZ1bmN0aW9uKHZhbHVlKSB7IHRoaXMuc2Vjb25kcyA9ICt2YWx1ZTsgfVxuICAgIH0sXG4gICAgJ2EnOiB7XG4gICAgICByZWdleDogJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTLkFNUE1TLmpvaW4oJ3wnKSxcbiAgICAgIGFwcGx5OiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5ob3VycyA9PT0gMTIpIHtcbiAgICAgICAgICB0aGlzLmhvdXJzID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJ1BNJykge1xuICAgICAgICAgIHRoaXMuaG91cnMgKz0gMTI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gY3JlYXRlUGFyc2VyKGZvcm1hdCkge1xuICAgIHZhciBtYXAgPSBbXSwgcmVnZXggPSBmb3JtYXQuc3BsaXQoJycpO1xuXG4gICAgYW5ndWxhci5mb3JFYWNoKGZvcm1hdENvZGVUb1JlZ2V4LCBmdW5jdGlvbihkYXRhLCBjb2RlKSB7XG4gICAgICB2YXIgaW5kZXggPSBmb3JtYXQuaW5kZXhPZihjb2RlKTtcblxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgZm9ybWF0ID0gZm9ybWF0LnNwbGl0KCcnKTtcblxuICAgICAgICByZWdleFtpbmRleF0gPSAnKCcgKyBkYXRhLnJlZ2V4ICsgJyknO1xuICAgICAgICBmb3JtYXRbaW5kZXhdID0gJyQnOyAvLyBDdXN0b20gc3ltYm9sIHRvIGRlZmluZSBjb25zdW1lZCBwYXJ0IG9mIGZvcm1hdFxuICAgICAgICBmb3IgKHZhciBpID0gaW5kZXggKyAxLCBuID0gaW5kZXggKyBjb2RlLmxlbmd0aDsgaSA8IG47IGkrKykge1xuICAgICAgICAgIHJlZ2V4W2ldID0gJyc7XG4gICAgICAgICAgZm9ybWF0W2ldID0gJyQnO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdCA9IGZvcm1hdC5qb2luKCcnKTtcblxuICAgICAgICBtYXAucHVzaCh7IGluZGV4OiBpbmRleCwgYXBwbHk6IGRhdGEuYXBwbHkgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVnZXg6IG5ldyBSZWdFeHAoJ14nICsgcmVnZXguam9pbignJykgKyAnJCcpLFxuICAgICAgbWFwOiBvcmRlckJ5RmlsdGVyKG1hcCwgJ2luZGV4JylcbiAgICB9O1xuICB9XG5cbiAgdGhpcy5wYXJzZSA9IGZ1bmN0aW9uKGlucHV0LCBmb3JtYXQsIGJhc2VEYXRlKSB7XG4gICAgaWYgKCFhbmd1bGFyLmlzU3RyaW5nKGlucHV0KSB8fCAhZm9ybWF0KSB7XG4gICAgICByZXR1cm4gaW5wdXQ7XG4gICAgfVxuXG4gICAgZm9ybWF0ID0gJGxvY2FsZS5EQVRFVElNRV9GT1JNQVRTW2Zvcm1hdF0gfHwgZm9ybWF0O1xuICAgIGZvcm1hdCA9IGZvcm1hdC5yZXBsYWNlKFNQRUNJQUxfQ0hBUkFDVEVSU19SRUdFWFAsICdcXFxcJCYnKTtcblxuICAgIGlmICghdGhpcy5wYXJzZXJzW2Zvcm1hdF0pIHtcbiAgICAgIHRoaXMucGFyc2Vyc1tmb3JtYXRdID0gY3JlYXRlUGFyc2VyKGZvcm1hdCk7XG4gICAgfVxuXG4gICAgdmFyIHBhcnNlciA9IHRoaXMucGFyc2Vyc1tmb3JtYXRdLFxuICAgICAgICByZWdleCA9IHBhcnNlci5yZWdleCxcbiAgICAgICAgbWFwID0gcGFyc2VyLm1hcCxcbiAgICAgICAgcmVzdWx0cyA9IGlucHV0Lm1hdGNoKHJlZ2V4KTtcblxuICAgIGlmIChyZXN1bHRzICYmIHJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICB2YXIgZmllbGRzLCBkdDtcbiAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShiYXNlRGF0ZSkgJiYgIWlzTmFOKGJhc2VEYXRlLmdldFRpbWUoKSkpIHtcbiAgICAgICAgZmllbGRzID0ge1xuICAgICAgICAgIHllYXI6IGJhc2VEYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgbW9udGg6IGJhc2VEYXRlLmdldE1vbnRoKCksXG4gICAgICAgICAgZGF0ZTogYmFzZURhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICAgIGhvdXJzOiBiYXNlRGF0ZS5nZXRIb3VycygpLFxuICAgICAgICAgIG1pbnV0ZXM6IGJhc2VEYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgICBzZWNvbmRzOiBiYXNlRGF0ZS5nZXRTZWNvbmRzKCksXG4gICAgICAgICAgbWlsbGlzZWNvbmRzOiBiYXNlRGF0ZS5nZXRNaWxsaXNlY29uZHMoKVxuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGJhc2VEYXRlKSB7XG4gICAgICAgICAgJGxvZy53YXJuKCdkYXRlcGFyc2VyOicsICdiYXNlRGF0ZSBpcyBub3QgYSB2YWxpZCBkYXRlJyk7XG4gICAgICAgIH1cbiAgICAgICAgZmllbGRzID0geyB5ZWFyOiAxOTAwLCBtb250aDogMCwgZGF0ZTogMSwgaG91cnM6IDAsIG1pbnV0ZXM6IDAsIHNlY29uZHM6IDAsIG1pbGxpc2Vjb25kczogMCB9O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMSwgbiA9IHJlc3VsdHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgIHZhciBtYXBwZXIgPSBtYXBbaS0xXTtcbiAgICAgICAgaWYgKG1hcHBlci5hcHBseSkge1xuICAgICAgICAgIG1hcHBlci5hcHBseS5jYWxsKGZpZWxkcywgcmVzdWx0c1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzVmFsaWQoZmllbGRzLnllYXIsIGZpZWxkcy5tb250aCwgZmllbGRzLmRhdGUpKSB7XG4gICAgICAgIGR0ID0gbmV3IERhdGUoZmllbGRzLnllYXIsIGZpZWxkcy5tb250aCwgZmllbGRzLmRhdGUsXG4gICAgICAgICAgZmllbGRzLmhvdXJzLCBmaWVsZHMubWludXRlcywgZmllbGRzLnNlY29uZHMsXG4gICAgICAgICAgZmllbGRzLm1pbGxpc2Vjb25kcyB8fCAwKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGR0O1xuICAgIH1cbiAgfTtcblxuICAvLyBDaGVjayBpZiBkYXRlIGlzIHZhbGlkIGZvciBzcGVjaWZpYyBtb250aCAoYW5kIHllYXIgZm9yIEZlYnJ1YXJ5KS5cbiAgLy8gTW9udGg6IDAgPSBKYW4sIDEgPSBGZWIsIGV0Y1xuICBmdW5jdGlvbiBpc1ZhbGlkKHllYXIsIG1vbnRoLCBkYXRlKSB7XG4gICAgaWYgKGRhdGUgPCAxKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKG1vbnRoID09PSAxICYmIGRhdGUgPiAyOCkge1xuICAgICAgcmV0dXJuIGRhdGUgPT09IDI5ICYmICgoeWVhciAlIDQgPT09IDAgJiYgeWVhciAlIDEwMCAhPT0gMCkgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG4gICAgfVxuXG4gICAgaWYgKG1vbnRoID09PSAzIHx8IG1vbnRoID09PSA1IHx8IG1vbnRoID09PSA4IHx8IG1vbnRoID09PSAxMCkge1xuICAgICAgcmV0dXJuIGRhdGUgPCAzMTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufV0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnBvc2l0aW9uJywgW10pXG5cbi8qKlxuICogQSBzZXQgb2YgdXRpbGl0eSBtZXRob2RzIHRoYXQgY2FuIGJlIHVzZSB0byByZXRyaWV2ZSBwb3NpdGlvbiBvZiBET00gZWxlbWVudHMuXG4gKiBJdCBpcyBtZWFudCB0byBiZSB1c2VkIHdoZXJlIHdlIG5lZWQgdG8gYWJzb2x1dGUtcG9zaXRpb24gRE9NIGVsZW1lbnRzIGluXG4gKiByZWxhdGlvbiB0byBvdGhlciwgZXhpc3RpbmcgZWxlbWVudHMgKHRoaXMgaXMgdGhlIGNhc2UgZm9yIHRvb2x0aXBzLCBwb3BvdmVycyxcbiAqIHR5cGVhaGVhZCBzdWdnZXN0aW9ucyBldGMuKS5cbiAqL1xuICAuZmFjdG9yeSgnJHBvc2l0aW9uJywgWyckZG9jdW1lbnQnLCAnJHdpbmRvdycsIGZ1bmN0aW9uKCRkb2N1bWVudCwgJHdpbmRvdykge1xuICAgIGZ1bmN0aW9uIGdldFN0eWxlKGVsLCBjc3Nwcm9wKSB7XG4gICAgICBpZiAoZWwuY3VycmVudFN0eWxlKSB7IC8vSUVcbiAgICAgICAgcmV0dXJuIGVsLmN1cnJlbnRTdHlsZVtjc3Nwcm9wXTtcbiAgICAgIH0gZWxzZSBpZiAoJHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICAgIHJldHVybiAkd2luZG93LmdldENvbXB1dGVkU3R5bGUoZWwpW2Nzc3Byb3BdO1xuICAgICAgfVxuICAgICAgLy8gZmluYWxseSB0cnkgYW5kIGdldCBpbmxpbmUgc3R5bGVcbiAgICAgIHJldHVybiBlbC5zdHlsZVtjc3Nwcm9wXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBnaXZlbiBlbGVtZW50IGlzIHN0YXRpY2FsbHkgcG9zaXRpb25lZFxuICAgICAqIEBwYXJhbSBlbGVtZW50IC0gcmF3IERPTSBlbGVtZW50XG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTdGF0aWNQb3NpdGlvbmVkKGVsZW1lbnQpIHtcbiAgICAgIHJldHVybiAoZ2V0U3R5bGUoZWxlbWVudCwgJ3Bvc2l0aW9uJykgfHwgJ3N0YXRpYycgKSA9PT0gJ3N0YXRpYyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogcmV0dXJucyB0aGUgY2xvc2VzdCwgbm9uLXN0YXRpY2FsbHkgcG9zaXRpb25lZCBwYXJlbnRPZmZzZXQgb2YgYSBnaXZlbiBlbGVtZW50XG4gICAgICogQHBhcmFtIGVsZW1lbnRcbiAgICAgKi9cbiAgICB2YXIgcGFyZW50T2Zmc2V0RWwgPSBmdW5jdGlvbihlbGVtZW50KSB7XG4gICAgICB2YXIgZG9jRG9tRWwgPSAkZG9jdW1lbnRbMF07XG4gICAgICB2YXIgb2Zmc2V0UGFyZW50ID0gZWxlbWVudC5vZmZzZXRQYXJlbnQgfHwgZG9jRG9tRWw7XG4gICAgICB3aGlsZSAob2Zmc2V0UGFyZW50ICYmIG9mZnNldFBhcmVudCAhPT0gZG9jRG9tRWwgJiYgaXNTdGF0aWNQb3NpdGlvbmVkKG9mZnNldFBhcmVudCkgKSB7XG4gICAgICAgIG9mZnNldFBhcmVudCA9IG9mZnNldFBhcmVudC5vZmZzZXRQYXJlbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2Zmc2V0UGFyZW50IHx8IGRvY0RvbUVsO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyByZWFkLW9ubHkgZXF1aXZhbGVudCBvZiBqUXVlcnkncyBwb3NpdGlvbiBmdW5jdGlvbjpcbiAgICAgICAqIGh0dHA6Ly9hcGkuanF1ZXJ5LmNvbS9wb3NpdGlvbi9cbiAgICAgICAqL1xuICAgICAgcG9zaXRpb246IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGVsQkNSID0gdGhpcy5vZmZzZXQoZWxlbWVudCk7XG4gICAgICAgIHZhciBvZmZzZXRQYXJlbnRCQ1IgPSB7IHRvcDogMCwgbGVmdDogMCB9O1xuICAgICAgICB2YXIgb2Zmc2V0UGFyZW50RWwgPSBwYXJlbnRPZmZzZXRFbChlbGVtZW50WzBdKTtcbiAgICAgICAgaWYgKG9mZnNldFBhcmVudEVsICE9ICRkb2N1bWVudFswXSkge1xuICAgICAgICAgIG9mZnNldFBhcmVudEJDUiA9IHRoaXMub2Zmc2V0KGFuZ3VsYXIuZWxlbWVudChvZmZzZXRQYXJlbnRFbCkpO1xuICAgICAgICAgIG9mZnNldFBhcmVudEJDUi50b3AgKz0gb2Zmc2V0UGFyZW50RWwuY2xpZW50VG9wIC0gb2Zmc2V0UGFyZW50RWwuc2Nyb2xsVG9wO1xuICAgICAgICAgIG9mZnNldFBhcmVudEJDUi5sZWZ0ICs9IG9mZnNldFBhcmVudEVsLmNsaWVudExlZnQgLSBvZmZzZXRQYXJlbnRFbC5zY3JvbGxMZWZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvdW5kaW5nQ2xpZW50UmVjdCA9IGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IGJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCB8fCBlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJyksXG4gICAgICAgICAgaGVpZ2h0OiBib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0IHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0JyksXG4gICAgICAgICAgdG9wOiBlbEJDUi50b3AgLSBvZmZzZXRQYXJlbnRCQ1IudG9wLFxuICAgICAgICAgIGxlZnQ6IGVsQkNSLmxlZnQgLSBvZmZzZXRQYXJlbnRCQ1IubGVmdFxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyByZWFkLW9ubHkgZXF1aXZhbGVudCBvZiBqUXVlcnkncyBvZmZzZXQgZnVuY3Rpb246XG4gICAgICAgKiBodHRwOi8vYXBpLmpxdWVyeS5jb20vb2Zmc2V0L1xuICAgICAgICovXG4gICAgICBvZmZzZXQ6IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICAgICAgdmFyIGJvdW5kaW5nQ2xpZW50UmVjdCA9IGVsZW1lbnRbMF0uZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgd2lkdGg6IGJvdW5kaW5nQ2xpZW50UmVjdC53aWR0aCB8fCBlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJyksXG4gICAgICAgICAgaGVpZ2h0OiBib3VuZGluZ0NsaWVudFJlY3QuaGVpZ2h0IHx8IGVsZW1lbnQucHJvcCgnb2Zmc2V0SGVpZ2h0JyksXG4gICAgICAgICAgdG9wOiBib3VuZGluZ0NsaWVudFJlY3QudG9wICsgKCR3aW5kb3cucGFnZVlPZmZzZXQgfHwgJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3ApLFxuICAgICAgICAgIGxlZnQ6IGJvdW5kaW5nQ2xpZW50UmVjdC5sZWZ0ICsgKCR3aW5kb3cucGFnZVhPZmZzZXQgfHwgJGRvY3VtZW50WzBdLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0KVxuICAgICAgICB9O1xuICAgICAgfSxcblxuICAgICAgLyoqXG4gICAgICAgKiBQcm92aWRlcyBjb29yZGluYXRlcyBmb3IgdGhlIHRhcmdldEVsIGluIHJlbGF0aW9uIHRvIGhvc3RFbFxuICAgICAgICovXG4gICAgICBwb3NpdGlvbkVsZW1lbnRzOiBmdW5jdGlvbihob3N0RWwsIHRhcmdldEVsLCBwb3NpdGlvblN0ciwgYXBwZW5kVG9Cb2R5KSB7XG4gICAgICAgIHZhciBwb3NpdGlvblN0clBhcnRzID0gcG9zaXRpb25TdHIuc3BsaXQoJy0nKTtcbiAgICAgICAgdmFyIHBvczAgPSBwb3NpdGlvblN0clBhcnRzWzBdLCBwb3MxID0gcG9zaXRpb25TdHJQYXJ0c1sxXSB8fCAnY2VudGVyJztcblxuICAgICAgICB2YXIgaG9zdEVsUG9zLFxuICAgICAgICAgIHRhcmdldEVsV2lkdGgsXG4gICAgICAgICAgdGFyZ2V0RWxIZWlnaHQsXG4gICAgICAgICAgdGFyZ2V0RWxQb3M7XG5cbiAgICAgICAgaG9zdEVsUG9zID0gYXBwZW5kVG9Cb2R5ID8gdGhpcy5vZmZzZXQoaG9zdEVsKSA6IHRoaXMucG9zaXRpb24oaG9zdEVsKTtcblxuICAgICAgICB0YXJnZXRFbFdpZHRoID0gdGFyZ2V0RWwucHJvcCgnb2Zmc2V0V2lkdGgnKTtcbiAgICAgICAgdGFyZ2V0RWxIZWlnaHQgPSB0YXJnZXRFbC5wcm9wKCdvZmZzZXRIZWlnaHQnKTtcblxuICAgICAgICB2YXIgc2hpZnRXaWR0aCA9IHtcbiAgICAgICAgICBjZW50ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy5sZWZ0ICsgaG9zdEVsUG9zLndpZHRoIC8gMiAtIHRhcmdldEVsV2lkdGggLyAyO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGVmdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLmxlZnQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICByaWdodDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLmxlZnQgKyBob3N0RWxQb3Mud2lkdGg7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBzaGlmdEhlaWdodCA9IHtcbiAgICAgICAgICBjZW50ZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIGhvc3RFbFBvcy50b3AgKyBob3N0RWxQb3MuaGVpZ2h0IC8gMiAtIHRhcmdldEVsSGVpZ2h0IC8gMjtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLnRvcDtcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvdHRvbTogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gaG9zdEVsUG9zLnRvcCArIGhvc3RFbFBvcy5oZWlnaHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHN3aXRjaCAocG9zMCkge1xuICAgICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IHNoaWZ0SGVpZ2h0W3BvczFdKCksXG4gICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMF0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgdGFyZ2V0RWxQb3MgPSB7XG4gICAgICAgICAgICAgIHRvcDogc2hpZnRIZWlnaHRbcG9zMV0oKSxcbiAgICAgICAgICAgICAgbGVmdDogaG9zdEVsUG9zLmxlZnQgLSB0YXJnZXRFbFdpZHRoXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnYm90dG9tJzpcbiAgICAgICAgICAgIHRhcmdldEVsUG9zID0ge1xuICAgICAgICAgICAgICB0b3A6IHNoaWZ0SGVpZ2h0W3BvczBdKCksXG4gICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMV0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0YXJnZXRFbFBvcyA9IHtcbiAgICAgICAgICAgICAgdG9wOiBob3N0RWxQb3MudG9wIC0gdGFyZ2V0RWxIZWlnaHQsXG4gICAgICAgICAgICAgIGxlZnQ6IHNoaWZ0V2lkdGhbcG9zMV0oKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRhcmdldEVsUG9zO1xuICAgICAgfVxuICAgIH07XG4gIH1dKTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5kYXRlcGlja2VyJywgWyd1aS5ib290c3RyYXAuZGF0ZXBhcnNlcicsICd1aS5ib290c3RyYXAucG9zaXRpb24nXSlcblxuLnZhbHVlKCckZGF0ZXBpY2tlclN1cHByZXNzRXJyb3InLCBmYWxzZSlcblxuLmNvbnN0YW50KCdkYXRlcGlja2VyQ29uZmlnJywge1xuICBmb3JtYXREYXk6ICdkZCcsXG4gIGZvcm1hdE1vbnRoOiAnTU1NTScsXG4gIGZvcm1hdFllYXI6ICd5eXl5JyxcbiAgZm9ybWF0RGF5SGVhZGVyOiAnRUVFJyxcbiAgZm9ybWF0RGF5VGl0bGU6ICdNTU1NIHl5eXknLFxuICBmb3JtYXRNb250aFRpdGxlOiAneXl5eScsXG4gIGRhdGVwaWNrZXJNb2RlOiAnZGF5JyxcbiAgbWluTW9kZTogJ2RheScsXG4gIG1heE1vZGU6ICd5ZWFyJyxcbiAgc2hvd1dlZWtzOiB0cnVlLFxuICBzdGFydGluZ0RheTogMCxcbiAgeWVhclJhbmdlOiAyMCxcbiAgbWluRGF0ZTogbnVsbCxcbiAgbWF4RGF0ZTogbnVsbCxcbiAgc2hvcnRjdXRQcm9wYWdhdGlvbjogZmFsc2Vcbn0pXG5cbi5jb250cm9sbGVyKCdEYXRlcGlja2VyQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCAnJGludGVycG9sYXRlJywgJyRsb2cnLCAnZGF0ZUZpbHRlcicsICdkYXRlcGlja2VyQ29uZmlnJywgJyRkYXRlcGlja2VyU3VwcHJlc3NFcnJvcicsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsICRpbnRlcnBvbGF0ZSwgJGxvZywgZGF0ZUZpbHRlciwgZGF0ZXBpY2tlckNvbmZpZywgJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfTsgLy8gbnVsbE1vZGVsQ3RybDtcblxuICAvLyBNb2RlcyBjaGFpblxuICB0aGlzLm1vZGVzID0gWydkYXknLCAnbW9udGgnLCAneWVhciddO1xuXG4gIC8vIENvbmZpZ3VyYXRpb24gYXR0cmlidXRlc1xuICBhbmd1bGFyLmZvckVhY2goWydmb3JtYXREYXknLCAnZm9ybWF0TW9udGgnLCAnZm9ybWF0WWVhcicsICdmb3JtYXREYXlIZWFkZXInLCAnZm9ybWF0RGF5VGl0bGUnLCAnZm9ybWF0TW9udGhUaXRsZScsXG4gICAgICAgICAgICAgICAgICAgJ3Nob3dXZWVrcycsICdzdGFydGluZ0RheScsICd5ZWFyUmFuZ2UnLCAnc2hvcnRjdXRQcm9wYWdhdGlvbiddLCBmdW5jdGlvbihrZXksIGluZGV4KSB7XG4gICAgc2VsZltrZXldID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzW2tleV0pID8gKGluZGV4IDwgNiA/ICRpbnRlcnBvbGF0ZSgkYXR0cnNba2V5XSkoJHNjb3BlLiRwYXJlbnQpIDogJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzW2tleV0pKSA6IGRhdGVwaWNrZXJDb25maWdba2V5XTtcbiAgfSk7XG5cbiAgLy8gV2F0Y2hhYmxlIGRhdGUgYXR0cmlidXRlc1xuICBhbmd1bGFyLmZvckVhY2goWydtaW5EYXRlJywgJ21heERhdGUnXSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCRhdHRyc1trZXldKSB7XG4gICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRyc1trZXldKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc2VsZltrZXldID0gdmFsdWUgPyBuZXcgRGF0ZSh2YWx1ZSkgOiBudWxsO1xuICAgICAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZltrZXldID0gZGF0ZXBpY2tlckNvbmZpZ1trZXldID8gbmV3IERhdGUoZGF0ZXBpY2tlckNvbmZpZ1trZXldKSA6IG51bGw7XG4gICAgfVxuICB9KTtcblxuICBhbmd1bGFyLmZvckVhY2goWydtaW5Nb2RlJywgJ21heE1vZGUnXSwgZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCRhdHRyc1trZXldKSB7XG4gICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRyc1trZXldKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgc2VsZltrZXldID0gYW5ndWxhci5pc0RlZmluZWQodmFsdWUpID8gdmFsdWUgOiAkYXR0cnNba2V5XTtcbiAgICAgICAgJHNjb3BlW2tleV0gPSBzZWxmW2tleV07XG4gICAgICAgIGlmICgoa2V5ID09ICdtaW5Nb2RlJyAmJiBzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJNb2RlKSA8IHNlbGYubW9kZXMuaW5kZXhPZihzZWxmW2tleV0pKSB8fCAoa2V5ID09ICdtYXhNb2RlJyAmJiBzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJNb2RlKSA+IHNlbGYubW9kZXMuaW5kZXhPZihzZWxmW2tleV0pKSkge1xuICAgICAgICAgICRzY29wZS5kYXRlcGlja2VyTW9kZSA9IHNlbGZba2V5XTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGZba2V5XSA9IGRhdGVwaWNrZXJDb25maWdba2V5XSB8fCBudWxsO1xuICAgICAgJHNjb3BlW2tleV0gPSBzZWxmW2tleV07XG4gICAgfVxuICB9KTtcblxuICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgfHwgZGF0ZXBpY2tlckNvbmZpZy5kYXRlcGlja2VyTW9kZTtcbiAgJHNjb3BlLnVuaXF1ZUlkID0gJ2RhdGVwaWNrZXItJyArICRzY29wZS4kaWQgKyAnLScgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG5cbiAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5pbml0RGF0ZSkpIHtcbiAgICB0aGlzLmFjdGl2ZURhdGUgPSAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuaW5pdERhdGUpIHx8IG5ldyBEYXRlKCk7XG4gICAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRhdHRycy5pbml0RGF0ZSwgZnVuY3Rpb24oaW5pdERhdGUpIHtcbiAgICAgIGlmIChpbml0RGF0ZSAmJiAobmdNb2RlbEN0cmwuJGlzRW1wdHkobmdNb2RlbEN0cmwuJG1vZGVsVmFsdWUpIHx8IG5nTW9kZWxDdHJsLiRpbnZhbGlkKSkge1xuICAgICAgICBzZWxmLmFjdGl2ZURhdGUgPSBpbml0RGF0ZTtcbiAgICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuYWN0aXZlRGF0ZSA9IG5ldyBEYXRlKCk7XG4gIH1cblxuICAkc2NvcGUuaXNBY3RpdmUgPSBmdW5jdGlvbihkYXRlT2JqZWN0KSB7XG4gICAgaWYgKHNlbGYuY29tcGFyZShkYXRlT2JqZWN0LmRhdGUsIHNlbGYuYWN0aXZlRGF0ZSkgPT09IDApIHtcbiAgICAgICRzY29wZS5hY3RpdmVEYXRlSWQgPSBkYXRlT2JqZWN0LnVpZDtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfKSB7XG4gICAgbmdNb2RlbEN0cmwgPSBuZ01vZGVsQ3RybF87XG5cbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBzZWxmLnJlbmRlcigpO1xuICAgIH07XG4gIH07XG5cbiAgdGhpcy5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICBpZiAobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSkge1xuICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSxcbiAgICAgICAgICBpc1ZhbGlkID0gIWlzTmFOKGRhdGUpO1xuXG4gICAgICBpZiAoaXNWYWxpZCkge1xuICAgICAgICB0aGlzLmFjdGl2ZURhdGUgPSBkYXRlO1xuICAgICAgfSBlbHNlIGlmICghJGRhdGVwaWNrZXJTdXBwcmVzc0Vycm9yKSB7XG4gICAgICAgICRsb2cuZXJyb3IoJ0RhdGVwaWNrZXIgZGlyZWN0aXZlOiBcIm5nLW1vZGVsXCIgdmFsdWUgbXVzdCBiZSBhIERhdGUgb2JqZWN0LCBhIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgMDEuMDEuMTk3MCBvciBhIHN0cmluZyByZXByZXNlbnRpbmcgYW4gUkZDMjgyMiBvciBJU08gODYwMSBkYXRlLicpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLnJlZnJlc2hWaWV3KCk7XG4gIH07XG5cbiAgdGhpcy5yZWZyZXNoVmlldyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgIHRoaXMuX3JlZnJlc2hWaWV3KCk7XG5cbiAgICAgIHZhciBkYXRlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSA/IG5ldyBEYXRlKG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUpIDogbnVsbDtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgnZGF0ZURpc2FibGVkJywgIWRhdGUgfHwgKHRoaXMuZWxlbWVudCAmJiAhdGhpcy5pc0Rpc2FibGVkKGRhdGUpKSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMuY3JlYXRlRGF0ZU9iamVjdCA9IGZ1bmN0aW9uKGRhdGUsIGZvcm1hdCkge1xuICAgIHZhciBtb2RlbCA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPyBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSA6IG51bGw7XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGU6IGRhdGUsXG4gICAgICBsYWJlbDogZGF0ZUZpbHRlcihkYXRlLCBmb3JtYXQpLFxuICAgICAgc2VsZWN0ZWQ6IG1vZGVsICYmIHRoaXMuY29tcGFyZShkYXRlLCBtb2RlbCkgPT09IDAsXG4gICAgICBkaXNhYmxlZDogdGhpcy5pc0Rpc2FibGVkKGRhdGUpLFxuICAgICAgY3VycmVudDogdGhpcy5jb21wYXJlKGRhdGUsIG5ldyBEYXRlKCkpID09PSAwLFxuICAgICAgY3VzdG9tQ2xhc3M6IHRoaXMuY3VzdG9tQ2xhc3MoZGF0ZSlcbiAgICB9O1xuICB9O1xuXG4gIHRoaXMuaXNEaXNhYmxlZCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICByZXR1cm4gKCh0aGlzLm1pbkRhdGUgJiYgdGhpcy5jb21wYXJlKGRhdGUsIHRoaXMubWluRGF0ZSkgPCAwKSB8fCAodGhpcy5tYXhEYXRlICYmIHRoaXMuY29tcGFyZShkYXRlLCB0aGlzLm1heERhdGUpID4gMCkgfHwgKCRhdHRycy5kYXRlRGlzYWJsZWQgJiYgJHNjb3BlLmRhdGVEaXNhYmxlZCh7ZGF0ZTogZGF0ZSwgbW9kZTogJHNjb3BlLmRhdGVwaWNrZXJNb2RlfSkpKTtcbiAgfTtcblxuICB0aGlzLmN1c3RvbUNsYXNzID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHJldHVybiAkc2NvcGUuY3VzdG9tQ2xhc3Moe2RhdGU6IGRhdGUsIG1vZGU6ICRzY29wZS5kYXRlcGlja2VyTW9kZX0pO1xuICB9O1xuXG4gIC8vIFNwbGl0IGFycmF5IGludG8gc21hbGxlciBhcnJheXNcbiAgdGhpcy5zcGxpdCA9IGZ1bmN0aW9uKGFyciwgc2l6ZSkge1xuICAgIHZhciBhcnJheXMgPSBbXTtcbiAgICB3aGlsZSAoYXJyLmxlbmd0aCA+IDApIHtcbiAgICAgIGFycmF5cy5wdXNoKGFyci5zcGxpY2UoMCwgc2l6ZSkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXlzO1xuICB9O1xuXG4gIC8vIEZpeCBhIGhhcmQtcmVwcm9kdXNpYmxlIGJ1ZyB3aXRoIHRpbWV6b25lc1xuICAvLyBUaGUgYnVnIGRlcGVuZHMgb24gT1MsIGJyb3dzZXIsIGN1cnJlbnQgdGltZXpvbmUgYW5kIGN1cnJlbnQgZGF0ZVxuICAvLyBpLmUuXG4gIC8vIHZhciBkYXRlID0gbmV3IERhdGUoMjAxNCwgMCwgMSk7XG4gIC8vIGNvbnNvbGUubG9nKGRhdGUuZ2V0RnVsbFllYXIoKSwgZGF0ZS5nZXRNb250aCgpLCBkYXRlLmdldERhdGUoKSwgZGF0ZS5nZXRIb3VycygpKTtcbiAgLy8gY2FuIHJlc3VsdCBpbiBcIjIwMTMgMTEgMzEgMjNcIiBiZWNhdXNlIG9mIHRoZSBidWcuXG4gIHRoaXMuZml4VGltZVpvbmUgPSBmdW5jdGlvbihkYXRlKSB7XG4gICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xuICAgIGRhdGUuc2V0SG91cnMoaG91cnMgPT09IDIzID8gaG91cnMgKyAyIDogMCk7XG4gIH07XG5cbiAgJHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICBpZiAoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1pbk1vZGUpIHtcbiAgICAgIHZhciBkdCA9IG5nTW9kZWxDdHJsLiR2aWV3VmFsdWUgPyBuZXcgRGF0ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlKSA6IG5ldyBEYXRlKDAsIDAsIDAsIDAsIDAsIDAsIDApO1xuICAgICAgZHQuc2V0RnVsbFllYXIoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWaWV3VmFsdWUoZHQpO1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmFjdGl2ZURhdGUgPSBkYXRlO1xuICAgICAgJHNjb3BlLmRhdGVwaWNrZXJNb2RlID0gc2VsZi5tb2Rlc1tzZWxmLm1vZGVzLmluZGV4T2YoJHNjb3BlLmRhdGVwaWNrZXJNb2RlKSAtIDFdO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUubW92ZSA9IGZ1bmN0aW9uKGRpcmVjdGlvbikge1xuICAgIHZhciB5ZWFyID0gc2VsZi5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKyBkaXJlY3Rpb24gKiAoc2VsZi5zdGVwLnllYXJzIHx8IDApLFxuICAgICAgICBtb250aCA9IHNlbGYuYWN0aXZlRGF0ZS5nZXRNb250aCgpICsgZGlyZWN0aW9uICogKHNlbGYuc3RlcC5tb250aHMgfHwgMCk7XG4gICAgc2VsZi5hY3RpdmVEYXRlLnNldEZ1bGxZZWFyKHllYXIsIG1vbnRoLCAxKTtcbiAgICBzZWxmLnJlZnJlc2hWaWV3KCk7XG4gIH07XG5cbiAgJHNjb3BlLnRvZ2dsZU1vZGUgPSBmdW5jdGlvbihkaXJlY3Rpb24pIHtcbiAgICBkaXJlY3Rpb24gPSBkaXJlY3Rpb24gfHwgMTtcblxuICAgIGlmICgoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1heE1vZGUgJiYgZGlyZWN0aW9uID09PSAxKSB8fCAoJHNjb3BlLmRhdGVwaWNrZXJNb2RlID09PSBzZWxmLm1pbk1vZGUgJiYgZGlyZWN0aW9uID09PSAtMSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAkc2NvcGUuZGF0ZXBpY2tlck1vZGUgPSBzZWxmLm1vZGVzW3NlbGYubW9kZXMuaW5kZXhPZigkc2NvcGUuZGF0ZXBpY2tlck1vZGUpICsgZGlyZWN0aW9uXTtcbiAgfTtcblxuICAvLyBLZXkgZXZlbnQgbWFwcGVyXG4gICRzY29wZS5rZXlzID0geyAxMzogJ2VudGVyJywgMzI6ICdzcGFjZScsIDMzOiAncGFnZXVwJywgMzQ6ICdwYWdlZG93bicsIDM1OiAnZW5kJywgMzY6ICdob21lJywgMzc6ICdsZWZ0JywgMzg6ICd1cCcsIDM5OiAncmlnaHQnLCA0MDogJ2Rvd24nIH07XG5cbiAgdmFyIGZvY3VzRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHNlbGYuZWxlbWVudFswXS5mb2N1cygpO1xuICB9O1xuXG4gIC8vIExpc3RlbiBmb3IgZm9jdXMgcmVxdWVzdHMgZnJvbSBwb3B1cCBkaXJlY3RpdmVcbiAgJHNjb3BlLiRvbignZGF0ZXBpY2tlci5mb2N1cycsIGZvY3VzRWxlbWVudCk7XG5cbiAgJHNjb3BlLmtleWRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICB2YXIga2V5ID0gJHNjb3BlLmtleXNbZXZ0LndoaWNoXTtcblxuICAgIGlmICgha2V5IHx8IGV2dC5zaGlmdEtleSB8fCBldnQuYWx0S2V5KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCFzZWxmLnNob3J0Y3V0UHJvcGFnYXRpb24pIHtcbiAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICB9XG5cbiAgICBpZiAoa2V5ID09PSAnZW50ZXInIHx8IGtleSA9PT0gJ3NwYWNlJykge1xuICAgICAgaWYgKHNlbGYuaXNEaXNhYmxlZChzZWxmLmFjdGl2ZURhdGUpKSB7XG4gICAgICAgIHJldHVybjsgLy8gZG8gbm90aGluZ1xuICAgICAgfVxuICAgICAgJHNjb3BlLnNlbGVjdChzZWxmLmFjdGl2ZURhdGUpO1xuICAgICAgZm9jdXNFbGVtZW50KCk7XG4gICAgfSBlbHNlIGlmIChldnQuY3RybEtleSAmJiAoa2V5ID09PSAndXAnIHx8IGtleSA9PT0gJ2Rvd24nKSkge1xuICAgICAgJHNjb3BlLnRvZ2dsZU1vZGUoa2V5ID09PSAndXAnID8gMSA6IC0xKTtcbiAgICAgIGZvY3VzRWxlbWVudCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmhhbmRsZUtleURvd24oa2V5LCBldnQpO1xuICAgICAgc2VsZi5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdkYXRlcGlja2VyJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWwnO1xuICAgIH0sXG4gICAgc2NvcGU6IHtcbiAgICAgIGRhdGVwaWNrZXJNb2RlOiAnPT8nLFxuICAgICAgZGF0ZURpc2FibGVkOiAnJicsXG4gICAgICBjdXN0b21DbGFzczogJyYnLFxuICAgICAgc2hvcnRjdXRQcm9wYWdhdGlvbjogJyY/J1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydkYXRlcGlja2VyJywgJ15uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ0RhdGVwaWNrZXJDb250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdkYXRlcGlja2VyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgZGF0ZXBpY2tlckN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgZGF0ZXBpY2tlckN0cmwuaW5pdChuZ01vZGVsQ3RybCk7XG4gICAgfVxuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgnZGF5cGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24oZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RheS5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgc2NvcGUuc2hvd1dlZWtzID0gY3RybC5zaG93V2Vla3M7XG5cbiAgICAgIGN0cmwuc3RlcCA9IHsgbW9udGhzOiAxIH07XG4gICAgICBjdHJsLmVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICB2YXIgREFZU19JTl9NT05USCA9IFszMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcbiAgICAgIGZ1bmN0aW9uIGdldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKSB7XG4gICAgICAgIHJldHVybiAoKG1vbnRoID09PSAxKSAmJiAoeWVhciAlIDQgPT09IDApICYmICgoeWVhciAlIDEwMCAhPT0gMCkgfHwgKHllYXIgJSA0MDAgPT09IDApKSkgPyAyOSA6IERBWVNfSU5fTU9OVEhbbW9udGhdO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXREYXRlcyhzdGFydERhdGUsIG4pIHtcbiAgICAgICAgdmFyIGRhdGVzID0gbmV3IEFycmF5KG4pLCBjdXJyZW50ID0gbmV3IERhdGUoc3RhcnREYXRlKSwgaSA9IDAsIGRhdGU7XG4gICAgICAgIHdoaWxlIChpIDwgbikge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZShjdXJyZW50KTtcbiAgICAgICAgICBjdHJsLmZpeFRpbWVab25lKGRhdGUpO1xuICAgICAgICAgIGRhdGVzW2krK10gPSBkYXRlO1xuICAgICAgICAgIGN1cnJlbnQuc2V0RGF0ZShjdXJyZW50LmdldERhdGUoKSArIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkYXRlcztcbiAgICAgIH1cblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHllYXIgPSBjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSxcbiAgICAgICAgICBtb250aCA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpLFxuICAgICAgICAgIGZpcnN0RGF5T2ZNb250aCA9IG5ldyBEYXRlKHllYXIsIG1vbnRoLCAxKSxcbiAgICAgICAgICBkaWZmZXJlbmNlID0gY3RybC5zdGFydGluZ0RheSAtIGZpcnN0RGF5T2ZNb250aC5nZXREYXkoKSxcbiAgICAgICAgICBudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA9IChkaWZmZXJlbmNlID4gMCkgPyA3IC0gZGlmZmVyZW5jZSA6IC0gZGlmZmVyZW5jZSxcbiAgICAgICAgICBmaXJzdERhdGUgPSBuZXcgRGF0ZShmaXJzdERheU9mTW9udGgpO1xuXG4gICAgICAgIGlmIChudW1EaXNwbGF5ZWRGcm9tUHJldmlvdXNNb250aCA+IDApIHtcbiAgICAgICAgICBmaXJzdERhdGUuc2V0RGF0ZSgtbnVtRGlzcGxheWVkRnJvbVByZXZpb3VzTW9udGggKyAxKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIDQyIGlzIHRoZSBudW1iZXIgb2YgZGF5cyBvbiBhIHNpeC1tb250aCBjYWxlbmRhclxuICAgICAgICB2YXIgZGF5cyA9IGdldERhdGVzKGZpcnN0RGF0ZSwgNDIpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDQyOyBpICsrKSB7XG4gICAgICAgICAgZGF5c1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChkYXlzW2ldLCBjdHJsLmZvcm1hdERheSksIHtcbiAgICAgICAgICAgIHNlY29uZGFyeTogZGF5c1tpXS5nZXRNb250aCgpICE9PSBtb250aCxcbiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS5sYWJlbHMgPSBuZXcgQXJyYXkoNyk7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgNzsgaisrKSB7XG4gICAgICAgICAgc2NvcGUubGFiZWxzW2pdID0ge1xuICAgICAgICAgICAgYWJicjogZGF0ZUZpbHRlcihkYXlzW2pdLmRhdGUsIGN0cmwuZm9ybWF0RGF5SGVhZGVyKSxcbiAgICAgICAgICAgIGZ1bGw6IGRhdGVGaWx0ZXIoZGF5c1tqXS5kYXRlLCAnRUVFRScpXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnRpdGxlID0gZGF0ZUZpbHRlcihjdHJsLmFjdGl2ZURhdGUsIGN0cmwuZm9ybWF0RGF5VGl0bGUpO1xuICAgICAgICBzY29wZS5yb3dzID0gY3RybC5zcGxpdChkYXlzLCA3KTtcblxuICAgICAgICBpZiAoc2NvcGUuc2hvd1dlZWtzKSB7XG4gICAgICAgICAgc2NvcGUud2Vla051bWJlcnMgPSBbXTtcbiAgICAgICAgICB2YXIgdGh1cnNkYXlJbmRleCA9ICg0ICsgNyAtIGN0cmwuc3RhcnRpbmdEYXkpICUgNyxcbiAgICAgICAgICAgICAgbnVtV2Vla3MgPSBzY29wZS5yb3dzLmxlbmd0aDtcbiAgICAgICAgICBmb3IgKHZhciBjdXJXZWVrID0gMDsgY3VyV2VlayA8IG51bVdlZWtzOyBjdXJXZWVrKyspIHtcbiAgICAgICAgICAgIHNjb3BlLndlZWtOdW1iZXJzLnB1c2goXG4gICAgICAgICAgICAgIGdldElTTzg2MDFXZWVrTnVtYmVyKHNjb3BlLnJvd3NbY3VyV2Vla11bdGh1cnNkYXlJbmRleF0uZGF0ZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgY3RybC5jb21wYXJlID0gZnVuY3Rpb24oZGF0ZTEsIGRhdGUyKSB7XG4gICAgICAgIHJldHVybiAobmV3IERhdGUoZGF0ZTEuZ2V0RnVsbFllYXIoKSwgZGF0ZTEuZ2V0TW9udGgoKSwgZGF0ZTEuZ2V0RGF0ZSgpKSAtIG5ldyBEYXRlKGRhdGUyLmdldEZ1bGxZZWFyKCksIGRhdGUyLmdldE1vbnRoKCksIGRhdGUyLmdldERhdGUoKSkpO1xuICAgICAgfTtcblxuICAgICAgZnVuY3Rpb24gZ2V0SVNPODYwMVdlZWtOdW1iZXIoZGF0ZSkge1xuICAgICAgICB2YXIgY2hlY2tEYXRlID0gbmV3IERhdGUoZGF0ZSk7XG4gICAgICAgIGNoZWNrRGF0ZS5zZXREYXRlKGNoZWNrRGF0ZS5nZXREYXRlKCkgKyA0IC0gKGNoZWNrRGF0ZS5nZXREYXkoKSB8fCA3KSk7IC8vIFRodXJzZGF5XG4gICAgICAgIHZhciB0aW1lID0gY2hlY2tEYXRlLmdldFRpbWUoKTtcbiAgICAgICAgY2hlY2tEYXRlLnNldE1vbnRoKDApOyAvLyBDb21wYXJlIHdpdGggSmFuIDFcbiAgICAgICAgY2hlY2tEYXRlLnNldERhdGUoMSk7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucm91bmQoKHRpbWUgLSBjaGVja0RhdGUpIC8gODY0MDAwMDApIC8gNykgKyAxO1xuICAgICAgfVxuXG4gICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbihrZXksIGV2dCkge1xuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXREYXRlKCk7XG5cbiAgICAgICAgaWYgKGtleSA9PT0gJ2xlZnQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSAxOyAgIC8vIHVwXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAndXAnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgLSA3OyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdyaWdodCcpIHtcbiAgICAgICAgICBkYXRlID0gZGF0ZSArIDE7ICAgLy8gZG93blxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2Rvd24nKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyA3O1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3BhZ2V1cCcgfHwga2V5ID09PSAncGFnZWRvd24nKSB7XG4gICAgICAgICAgdmFyIG1vbnRoID0gY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkgKyAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpO1xuICAgICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRNb250aChtb250aCwgMSk7XG4gICAgICAgICAgZGF0ZSA9IE1hdGgubWluKGdldERheXNJbk1vbnRoKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpLCBjdHJsLmFjdGl2ZURhdGUuZ2V0TW9udGgoKSksIGRhdGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2hvbWUnKSB7XG4gICAgICAgICAgZGF0ZSA9IDE7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnZW5kJykge1xuICAgICAgICAgIGRhdGUgPSBnZXREYXlzSW5Nb250aChjdHJsLmFjdGl2ZURhdGUuZ2V0RnVsbFllYXIoKSwgY3RybC5hY3RpdmVEYXRlLmdldE1vbnRoKCkpO1xuICAgICAgICB9XG4gICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXREYXRlKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdtb250aHBpY2tlcicsIFsnZGF0ZUZpbHRlcicsIGZ1bmN0aW9uKGRhdGVGaWx0ZXIpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sJyxcbiAgICByZXF1aXJlOiAnXmRhdGVwaWNrZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybCkge1xuICAgICAgY3RybC5zdGVwID0geyB5ZWFyczogMSB9O1xuICAgICAgY3RybC5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgY3RybC5fcmVmcmVzaFZpZXcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIG1vbnRocyA9IG5ldyBBcnJheSgxMiksXG4gICAgICAgICAgICB5ZWFyID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgICAgICAgICBkYXRlO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTI7IGkrKykge1xuICAgICAgICAgIGRhdGUgPSBuZXcgRGF0ZSh5ZWFyLCBpLCAxKTtcbiAgICAgICAgICBjdHJsLmZpeFRpbWVab25lKGRhdGUpO1xuICAgICAgICAgIG1vbnRoc1tpXSA9IGFuZ3VsYXIuZXh0ZW5kKGN0cmwuY3JlYXRlRGF0ZU9iamVjdChkYXRlLCBjdHJsLmZvcm1hdE1vbnRoKSwge1xuICAgICAgICAgICAgdWlkOiBzY29wZS51bmlxdWVJZCArICctJyArIGlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLnRpdGxlID0gZGF0ZUZpbHRlcihjdHJsLmFjdGl2ZURhdGUsIGN0cmwuZm9ybWF0TW9udGhUaXRsZSk7XG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KG1vbnRocywgMyk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmNvbXBhcmUgPSBmdW5jdGlvbihkYXRlMSwgZGF0ZTIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGUxLmdldEZ1bGxZZWFyKCksIGRhdGUxLmdldE1vbnRoKCkpIC0gbmV3IERhdGUoZGF0ZTIuZ2V0RnVsbFllYXIoKSwgZGF0ZTIuZ2V0TW9udGgoKSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbihrZXksIGV2dCkge1xuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRNb250aCgpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMzsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgMztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgICAgIHZhciB5ZWFyID0gY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkgKyAoa2V5ID09PSAncGFnZXVwJyA/IC0gMSA6IDEpO1xuICAgICAgICAgIGN0cmwuYWN0aXZlRGF0ZS5zZXRGdWxsWWVhcih5ZWFyKTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykge1xuICAgICAgICAgIGRhdGUgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICBkYXRlID0gMTE7XG4gICAgICAgIH1cbiAgICAgICAgY3RybC5hY3RpdmVEYXRlLnNldE1vbnRoKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgY3RybC5yZWZyZXNoVmlldygpO1xuICAgIH1cbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd5ZWFycGlja2VyJywgWydkYXRlRmlsdGVyJywgZnVuY3Rpb24oZGF0ZUZpbHRlcikge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL3llYXIuaHRtbCcsXG4gICAgcmVxdWlyZTogJ15kYXRlcGlja2VyJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcbiAgICAgIHZhciByYW5nZSA9IGN0cmwueWVhclJhbmdlO1xuXG4gICAgICBjdHJsLnN0ZXAgPSB7IHllYXJzOiByYW5nZSB9O1xuICAgICAgY3RybC5lbGVtZW50ID0gZWxlbWVudDtcblxuICAgICAgZnVuY3Rpb24gZ2V0U3RhcnRpbmdZZWFyKCB5ZWFyICkge1xuICAgICAgICByZXR1cm4gcGFyc2VJbnQoKHllYXIgLSAxKSAvIHJhbmdlLCAxMCkgKiByYW5nZSArIDE7XG4gICAgICB9XG5cbiAgICAgIGN0cmwuX3JlZnJlc2hWaWV3ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciB5ZWFycyA9IG5ldyBBcnJheShyYW5nZSksIGRhdGU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHN0YXJ0ID0gZ2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKTsgaSA8IHJhbmdlOyBpKyspIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoc3RhcnQgKyBpLCAwLCAxKTtcbiAgICAgICAgICBjdHJsLmZpeFRpbWVab25lKGRhdGUpO1xuICAgICAgICAgIHllYXJzW2ldID0gYW5ndWxhci5leHRlbmQoY3RybC5jcmVhdGVEYXRlT2JqZWN0KGRhdGUsIGN0cmwuZm9ybWF0WWVhciksIHtcbiAgICAgICAgICAgIHVpZDogc2NvcGUudW5pcXVlSWQgKyAnLScgKyBpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBzY29wZS50aXRsZSA9IFt5ZWFyc1swXS5sYWJlbCwgeWVhcnNbcmFuZ2UgLSAxXS5sYWJlbF0uam9pbignIC0gJyk7XG4gICAgICAgIHNjb3BlLnJvd3MgPSBjdHJsLnNwbGl0KHllYXJzLCA1KTtcbiAgICAgIH07XG5cbiAgICAgIGN0cmwuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgICAgICByZXR1cm4gZGF0ZTEuZ2V0RnVsbFllYXIoKSAtIGRhdGUyLmdldEZ1bGxZZWFyKCk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbihrZXksIGV2dCkge1xuICAgICAgICB2YXIgZGF0ZSA9IGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgIGlmIChrZXkgPT09ICdsZWZ0Jykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gMTsgICAvLyB1cFxuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ3VwJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlIC0gNTsgICAvLyBkb3duXG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAncmlnaHQnKSB7XG4gICAgICAgICAgZGF0ZSA9IGRhdGUgKyAxOyAgIC8vIGRvd25cbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdkb3duJykge1xuICAgICAgICAgIGRhdGUgPSBkYXRlICsgNTtcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdwYWdldXAnIHx8IGtleSA9PT0gJ3BhZ2Vkb3duJykge1xuICAgICAgICAgIGRhdGUgKz0gKGtleSA9PT0gJ3BhZ2V1cCcgPyAtIDEgOiAxKSAqIGN0cmwuc3RlcC55ZWFycztcbiAgICAgICAgfSBlbHNlIGlmIChrZXkgPT09ICdob21lJykge1xuICAgICAgICAgIGRhdGUgPSBnZXRTdGFydGluZ1llYXIoY3RybC5hY3RpdmVEYXRlLmdldEZ1bGxZZWFyKCkpO1xuICAgICAgICB9IGVsc2UgaWYgKGtleSA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICBkYXRlID0gZ2V0U3RhcnRpbmdZZWFyKGN0cmwuYWN0aXZlRGF0ZS5nZXRGdWxsWWVhcigpKSArIHJhbmdlIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBjdHJsLmFjdGl2ZURhdGUuc2V0RnVsbFllYXIoZGF0ZSk7XG4gICAgICB9O1xuXG4gICAgICBjdHJsLnJlZnJlc2hWaWV3KCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5jb25zdGFudCgnZGF0ZXBpY2tlclBvcHVwQ29uZmlnJywge1xuICBkYXRlcGlja2VyUG9wdXA6ICd5eXl5LU1NLWRkJyxcbiAgZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwnLFxuICBkYXRlcGlja2VyVGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbCcsXG4gIGh0bWw1VHlwZXM6IHtcbiAgICBkYXRlOiAneXl5eS1NTS1kZCcsXG4gICAgJ2RhdGV0aW1lLWxvY2FsJzogJ3l5eXktTU0tZGRUSEg6bW06c3Muc3NzJyxcbiAgICAnbW9udGgnOiAneXl5eS1NTSdcbiAgfSxcbiAgY3VycmVudFRleHQ6ICdUb2RheScsXG4gIGNsZWFyVGV4dDogJ0NsZWFyJyxcbiAgY2xvc2VUZXh0OiAnRG9uZScsXG4gIGNsb3NlT25EYXRlU2VsZWN0aW9uOiB0cnVlLFxuICBhcHBlbmRUb0JvZHk6IGZhbHNlLFxuICBzaG93QnV0dG9uQmFyOiB0cnVlLFxuICBvbk9wZW5Gb2N1czogdHJ1ZVxufSlcblxuLmRpcmVjdGl2ZSgnZGF0ZXBpY2tlclBvcHVwJywgWyckY29tcGlsZScsICckcGFyc2UnLCAnJGRvY3VtZW50JywgJyRyb290U2NvcGUnLCAnJHBvc2l0aW9uJywgJ2RhdGVGaWx0ZXInLCAnZGF0ZVBhcnNlcicsICdkYXRlcGlja2VyUG9wdXBDb25maWcnLCAnJHRpbWVvdXQnLFxuZnVuY3Rpb24oJGNvbXBpbGUsICRwYXJzZSwgJGRvY3VtZW50LCAkcm9vdFNjb3BlLCAkcG9zaXRpb24sIGRhdGVGaWx0ZXIsIGRhdGVQYXJzZXIsIGRhdGVwaWNrZXJQb3B1cENvbmZpZywgJHRpbWVvdXQpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXF1aXJlOiAnbmdNb2RlbCcsXG4gICAgc2NvcGU6IHtcbiAgICAgIGlzT3BlbjogJz0/JyxcbiAgICAgIGN1cnJlbnRUZXh0OiAnQCcsXG4gICAgICBjbGVhclRleHQ6ICdAJyxcbiAgICAgIGNsb3NlVGV4dDogJ0AnLFxuICAgICAgZGF0ZURpc2FibGVkOiAnJicsXG4gICAgICBjdXN0b21DbGFzczogJyYnXG4gICAgfSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIG5nTW9kZWwpIHtcbiAgICAgIHZhciBkYXRlRm9ybWF0LFxuICAgICAgICAgIGNsb3NlT25EYXRlU2VsZWN0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY2xvc2VPbkRhdGVTZWxlY3Rpb24pID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5jbG9zZU9uRGF0ZVNlbGVjdGlvbikgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuY2xvc2VPbkRhdGVTZWxlY3Rpb24sXG4gICAgICAgICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZXBpY2tlckFwcGVuZFRvQm9keSkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRhdGVwaWNrZXJBcHBlbmRUb0JvZHkpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmFwcGVuZFRvQm9keSxcbiAgICAgICAgICBvbk9wZW5Gb2N1cyA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLm9uT3BlbkZvY3VzKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMub25PcGVuRm9jdXMpIDogZGF0ZXBpY2tlclBvcHVwQ29uZmlnLm9uT3BlbkZvY3VzLFxuICAgICAgICAgIGRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwpID8gYXR0cnMuZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwgOiBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwVGVtcGxhdGVVcmwsXG4gICAgICAgICAgZGF0ZXBpY2tlclRlbXBsYXRlVXJsID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGF0ZXBpY2tlclRlbXBsYXRlVXJsKSA/IGF0dHJzLmRhdGVwaWNrZXJUZW1wbGF0ZVVybCA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5kYXRlcGlja2VyVGVtcGxhdGVVcmwsXG4gICAgICAgICAgY2FjaGUgPSB7fTtcblxuICAgICAgc2NvcGUuc2hvd0J1dHRvbkJhciA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLnNob3dCdXR0b25CYXIpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5zaG93QnV0dG9uQmFyKSA6IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5zaG93QnV0dG9uQmFyO1xuXG4gICAgICBzY29wZS5nZXRUZXh0ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHJldHVybiBzY29wZVtrZXkgKyAnVGV4dCddIHx8IGRhdGVwaWNrZXJQb3B1cENvbmZpZ1trZXkgKyAnVGV4dCddO1xuICAgICAgfTtcblxuICAgICAgc2NvcGUuaXNEaXNhYmxlZCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgaWYgKGRhdGUgPT09ICd0b2RheScpIHtcbiAgICAgICAgICBkYXRlID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAoKHNjb3BlLndhdGNoRGF0YS5taW5EYXRlICYmIHNjb3BlLmNvbXBhcmUoZGF0ZSwgY2FjaGUubWluRGF0ZSkgPCAwKSB8fFxuICAgICAgICAgIChzY29wZS53YXRjaERhdGEubWF4RGF0ZSAmJiBzY29wZS5jb21wYXJlKGRhdGUsIGNhY2hlLm1heERhdGUpID4gMCkpO1xuICAgICAgfTtcblxuICAgICAgc2NvcGUuY29tcGFyZSA9IGZ1bmN0aW9uKGRhdGUxLCBkYXRlMikge1xuICAgICAgICByZXR1cm4gKG5ldyBEYXRlKGRhdGUxLmdldEZ1bGxZZWFyKCksIGRhdGUxLmdldE1vbnRoKCksIGRhdGUxLmdldERhdGUoKSkgLSBuZXcgRGF0ZShkYXRlMi5nZXRGdWxsWWVhcigpLCBkYXRlMi5nZXRNb250aCgpLCBkYXRlMi5nZXREYXRlKCkpKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciBpc0h0bWw1RGF0ZUlucHV0ID0gZmFsc2U7XG4gICAgICBpZiAoZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmh0bWw1VHlwZXNbYXR0cnMudHlwZV0pIHtcbiAgICAgICAgZGF0ZUZvcm1hdCA9IGRhdGVwaWNrZXJQb3B1cENvbmZpZy5odG1sNVR5cGVzW2F0dHJzLnR5cGVdO1xuICAgICAgICBpc0h0bWw1RGF0ZUlucHV0ID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGVGb3JtYXQgPSBhdHRycy5kYXRlcGlja2VyUG9wdXAgfHwgZGF0ZXBpY2tlclBvcHVwQ29uZmlnLmRhdGVwaWNrZXJQb3B1cDtcbiAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2RhdGVwaWNrZXJQb3B1cCcsIGZ1bmN0aW9uKHZhbHVlLCBvbGRWYWx1ZSkge1xuICAgICAgICAgICAgdmFyIG5ld0RhdGVGb3JtYXQgPSB2YWx1ZSB8fCBkYXRlcGlja2VyUG9wdXBDb25maWcuZGF0ZXBpY2tlclBvcHVwO1xuICAgICAgICAgICAgLy8gSW52YWxpZGF0ZSB0aGUgJG1vZGVsVmFsdWUgdG8gZW5zdXJlIHRoYXQgZm9ybWF0dGVycyByZS1ydW5cbiAgICAgICAgICAgIC8vIEZJWE1FOiBSZWZhY3RvciB3aGVuIFBSIGlzIG1lcmdlZDogaHR0cHM6Ly9naXRodWIuY29tL2FuZ3VsYXIvYW5ndWxhci5qcy9wdWxsLzEwNzY0XG4gICAgICAgICAgICBpZiAobmV3RGF0ZUZvcm1hdCAhPT0gZGF0ZUZvcm1hdCkge1xuICAgICAgICAgICAgICBkYXRlRm9ybWF0ID0gbmV3RGF0ZUZvcm1hdDtcbiAgICAgICAgICAgICAgbmdNb2RlbC4kbW9kZWxWYWx1ZSA9IG51bGw7XG5cbiAgICAgICAgICAgICAgaWYgKCFkYXRlRm9ybWF0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkYXRlcGlja2VyUG9wdXAgbXVzdCBoYXZlIGEgZGF0ZSBmb3JtYXQgc3BlY2lmaWVkLicpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWRhdGVGb3JtYXQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdkYXRlcGlja2VyUG9wdXAgbXVzdCBoYXZlIGEgZGF0ZSBmb3JtYXQgc3BlY2lmaWVkLicpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNIdG1sNURhdGVJbnB1dCAmJiBhdHRycy5kYXRlcGlja2VyUG9wdXApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdIVE1MNSBkYXRlIGlucHV0IHR5cGVzIGRvIG5vdCBzdXBwb3J0IGN1c3RvbSBmb3JtYXRzLicpO1xuICAgICAgfVxuXG4gICAgICAvLyBwb3B1cCBlbGVtZW50IHVzZWQgdG8gZGlzcGxheSBjYWxlbmRhclxuICAgICAgdmFyIHBvcHVwRWwgPSBhbmd1bGFyLmVsZW1lbnQoJzxkaXYgZGF0ZXBpY2tlci1wb3B1cC13cmFwPjxkaXYgZGF0ZXBpY2tlcj48L2Rpdj48L2Rpdj4nKTtcbiAgICAgIHBvcHVwRWwuYXR0cih7XG4gICAgICAgICduZy1tb2RlbCc6ICdkYXRlJyxcbiAgICAgICAgJ25nLWNoYW5nZSc6ICdkYXRlU2VsZWN0aW9uKGRhdGUpJyxcbiAgICAgICAgJ3RlbXBsYXRlLXVybCc6IGRhdGVwaWNrZXJQb3B1cFRlbXBsYXRlVXJsXG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gY2FtZWx0b0Rhc2goc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbigkMSkgeyByZXR1cm4gJy0nICsgJDEudG9Mb3dlckNhc2UoKTsgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGRhdGVwaWNrZXIgZWxlbWVudFxuICAgICAgdmFyIGRhdGVwaWNrZXJFbCA9IGFuZ3VsYXIuZWxlbWVudChwb3B1cEVsLmNoaWxkcmVuKClbMF0pO1xuICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ3RlbXBsYXRlLXVybCcsIGRhdGVwaWNrZXJUZW1wbGF0ZVVybCk7XG5cbiAgICAgIGlmIChpc0h0bWw1RGF0ZUlucHV0KSB7XG4gICAgICAgIGlmIChhdHRycy50eXBlID09PSAnbW9udGgnKSB7XG4gICAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ2RhdGVwaWNrZXItbW9kZScsICdcIm1vbnRoXCInKTtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignbWluLW1vZGUnLCAnbW9udGgnKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMuZGF0ZXBpY2tlck9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmRhdGVwaWNrZXJPcHRpb25zKTtcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5pbml0RGF0ZSkge1xuICAgICAgICAgIHNjb3BlLmluaXREYXRlID0gb3B0aW9ucy5pbml0RGF0ZTtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignaW5pdC1kYXRlJywgJ2luaXREYXRlJyk7XG4gICAgICAgICAgZGVsZXRlIG9wdGlvbnMuaW5pdERhdGU7XG4gICAgICAgIH1cbiAgICAgICAgYW5ndWxhci5mb3JFYWNoKG9wdGlvbnMsIGZ1bmN0aW9uKHZhbHVlLCBvcHRpb24pIHtcbiAgICAgICAgICBkYXRlcGlja2VyRWwuYXR0ciggY2FtZWx0b0Rhc2gob3B0aW9uKSwgdmFsdWUgKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHNjb3BlLndhdGNoRGF0YSA9IHt9O1xuICAgICAgYW5ndWxhci5mb3JFYWNoKFsnbWluTW9kZScsICdtYXhNb2RlJywgJ21pbkRhdGUnLCAnbWF4RGF0ZScsICdkYXRlcGlja2VyTW9kZScsICdpbml0RGF0ZScsICdzaG9ydGN1dFByb3BhZ2F0aW9uJ10sIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBpZiAoYXR0cnNba2V5XSkge1xuICAgICAgICAgIHZhciBnZXRBdHRyaWJ1dGUgPSAkcGFyc2UoYXR0cnNba2V5XSk7XG4gICAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goZ2V0QXR0cmlidXRlLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgc2NvcGUud2F0Y2hEYXRhW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdtaW5EYXRlJyB8fCBrZXkgPT09ICdtYXhEYXRlJykge1xuICAgICAgICAgICAgICBjYWNoZVtrZXldID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGRhdGVwaWNrZXJFbC5hdHRyKGNhbWVsdG9EYXNoKGtleSksICd3YXRjaERhdGEuJyArIGtleSk7XG5cbiAgICAgICAgICAvLyBQcm9wYWdhdGUgY2hhbmdlcyBmcm9tIGRhdGVwaWNrZXIgdG8gb3V0c2lkZVxuICAgICAgICAgIGlmIChrZXkgPT09ICdkYXRlcGlja2VyTW9kZScpIHtcbiAgICAgICAgICAgIHZhciBzZXRBdHRyaWJ1dGUgPSBnZXRBdHRyaWJ1dGUuYXNzaWduO1xuICAgICAgICAgICAgc2NvcGUuJHdhdGNoKCd3YXRjaERhdGEuJyArIGtleSwgZnVuY3Rpb24odmFsdWUsIG9sZHZhbHVlKSB7XG4gICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24oc2V0QXR0cmlidXRlKSAmJiB2YWx1ZSAhPT0gb2xkdmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzZXRBdHRyaWJ1dGUoc2NvcGUuJHBhcmVudCwgdmFsdWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGF0dHJzLmRhdGVEaXNhYmxlZCkge1xuICAgICAgICBkYXRlcGlja2VyRWwuYXR0cignZGF0ZS1kaXNhYmxlZCcsICdkYXRlRGlzYWJsZWQoeyBkYXRlOiBkYXRlLCBtb2RlOiBtb2RlIH0pJyk7XG4gICAgICB9XG5cbiAgICAgIGlmIChhdHRycy5zaG93V2Vla3MpIHtcbiAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ3Nob3ctd2Vla3MnLCBhdHRycy5zaG93V2Vla3MpO1xuICAgICAgfVxuXG4gICAgICBpZiAoYXR0cnMuY3VzdG9tQ2xhc3MpIHtcbiAgICAgICAgZGF0ZXBpY2tlckVsLmF0dHIoJ2N1c3RvbS1jbGFzcycsICdjdXN0b21DbGFzcyh7IGRhdGU6IGRhdGUsIG1vZGU6IG1vZGUgfSknKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gcGFyc2VEYXRlKHZpZXdWYWx1ZSkge1xuICAgICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgLy8gcHJlc3VtYWJseSB0aW1lc3RhbXAgdG8gZGF0ZSBvYmplY3RcbiAgICAgICAgICB2aWV3VmFsdWUgPSBuZXcgRGF0ZSh2aWV3VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF2aWV3VmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzRGF0ZSh2aWV3VmFsdWUpICYmICFpc05hTih2aWV3VmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHZpZXdWYWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChhbmd1bGFyLmlzU3RyaW5nKHZpZXdWYWx1ZSkpIHtcbiAgICAgICAgICB2YXIgZGF0ZSA9IGRhdGVQYXJzZXIucGFyc2Uodmlld1ZhbHVlLCBkYXRlRm9ybWF0LCBzY29wZS5kYXRlKTtcbiAgICAgICAgICBpZiAoaXNOYU4oZGF0ZSkpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHZhbGlkYXRvcihtb2RlbFZhbHVlLCB2aWV3VmFsdWUpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gbW9kZWxWYWx1ZSB8fCB2aWV3VmFsdWU7XG5cbiAgICAgICAgaWYgKCFhdHRycy5uZ1JlcXVpcmVkICYmICF2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFuZ3VsYXIuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2UgaWYgKGFuZ3VsYXIuaXNEYXRlKHZhbHVlKSAmJiAhaXNOYU4odmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICB2YXIgZGF0ZSA9IGRhdGVQYXJzZXIucGFyc2UodmFsdWUsIGRhdGVGb3JtYXQpO1xuICAgICAgICAgIHJldHVybiAhaXNOYU4oZGF0ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNIdG1sNURhdGVJbnB1dCkge1xuICAgICAgICAvLyBJbnRlcm5hbCBBUEkgdG8gbWFpbnRhaW4gdGhlIGNvcnJlY3QgbmctaW52YWxpZC1ba2V5XSBjbGFzc1xuICAgICAgICBuZ01vZGVsLiQkcGFyc2VyTmFtZSA9ICdkYXRlJztcbiAgICAgICAgbmdNb2RlbC4kdmFsaWRhdG9ycy5kYXRlID0gdmFsaWRhdG9yO1xuICAgICAgICBuZ01vZGVsLiRwYXJzZXJzLnVuc2hpZnQocGFyc2VEYXRlKTtcbiAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGF0ZSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiBuZ01vZGVsLiRpc0VtcHR5KHZhbHVlKSA/IHZhbHVlIDogZGF0ZUZpbHRlcih2YWx1ZSwgZGF0ZUZvcm1hdCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgICAgc2NvcGUuZGF0ZSA9IHZhbHVlO1xuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIC8vIElubmVyIGNoYW5nZVxuICAgICAgc2NvcGUuZGF0ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGR0KSB7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChkdCkpIHtcbiAgICAgICAgICBzY29wZS5kYXRlID0gZHQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRhdGUgPSBzY29wZS5kYXRlID8gZGF0ZUZpbHRlcihzY29wZS5kYXRlLCBkYXRlRm9ybWF0KSA6IG51bGw7IC8vIFNldHRpbmcgdG8gTlVMTCBpcyBuZWNlc3NhcnkgZm9yIGZvcm0gdmFsaWRhdG9ycyB0byBmdW5jdGlvblxuICAgICAgICBlbGVtZW50LnZhbChkYXRlKTtcbiAgICAgICAgbmdNb2RlbC4kc2V0Vmlld1ZhbHVlKGRhdGUpO1xuXG4gICAgICAgIGlmIChjbG9zZU9uRGF0ZVNlbGVjdGlvbikge1xuICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgLy8gRGV0ZWN0IGNoYW5nZXMgaW4gdGhlIHZpZXcgZnJvbSB0aGUgdGV4dCBib3hcbiAgICAgIG5nTW9kZWwuJHZpZXdDaGFuZ2VMaXN0ZW5lcnMucHVzaChmdW5jdGlvbigpIHtcbiAgICAgICAgc2NvcGUuZGF0ZSA9IGRhdGVQYXJzZXIucGFyc2UobmdNb2RlbC4kdmlld1ZhbHVlLCBkYXRlRm9ybWF0LCBzY29wZS5kYXRlKTtcbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZG9jdW1lbnRDbGlja0JpbmQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBpZiAoc2NvcGUuaXNPcGVuICYmICEoZWxlbWVudFswXS5jb250YWlucyhldmVudC50YXJnZXQpIHx8IHBvcHVwRWxbMF0uY29udGFpbnMoZXZlbnQudGFyZ2V0KSkpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgdmFyIGlucHV0S2V5ZG93bkJpbmQgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGV2dC53aGljaCA9PT0gMjcgJiYgc2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgIHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDQwICYmICFzY29wZS5pc09wZW4pIHtcbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuaXNPcGVuID0gdHJ1ZTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGVsZW1lbnQuYmluZCgna2V5ZG93bicsIGlucHV0S2V5ZG93bkJpbmQpO1xuXG4gICAgICBzY29wZS5rZXlkb3duID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmIChldnQud2hpY2ggPT09IDI3KSB7XG4gICAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uID0gYXBwZW5kVG9Cb2R5ID8gJHBvc2l0aW9uLm9mZnNldChlbGVtZW50KSA6ICRwb3NpdGlvbi5wb3NpdGlvbihlbGVtZW50KTtcbiAgICAgICAgICBzY29wZS5wb3NpdGlvbi50b3AgPSBzY29wZS5wb3NpdGlvbi50b3AgKyBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpO1xuXG4gICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAob25PcGVuRm9jdXMpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJGJyb2FkY2FzdCgnZGF0ZXBpY2tlci5mb2N1cycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgZG9jdW1lbnRDbGlja0JpbmQpO1xuICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGRvY3VtZW50Q2xpY2tCaW5kKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICAgICAgaWYgKGRhdGUgPT09ICd0b2RheScpIHtcbiAgICAgICAgICB2YXIgdG9kYXkgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGF0ZShzY29wZS5kYXRlKSkge1xuICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKHNjb3BlLmRhdGUpO1xuICAgICAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcih0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkYXRlID0gbmV3IERhdGUodG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMCkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzY29wZS5kYXRlU2VsZWN0aW9uKGRhdGUpO1xuICAgICAgfTtcblxuICAgICAgc2NvcGUuY2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgICAgIGVsZW1lbnRbMF0uZm9jdXMoKTtcbiAgICAgIH07XG5cbiAgICAgIHZhciAkcG9wdXAgPSAkY29tcGlsZShwb3B1cEVsKShzY29wZSk7XG4gICAgICAvLyBQcmV2ZW50IGpRdWVyeSBjYWNoZSBtZW1vcnkgbGVhayAodGVtcGxhdGUgaXMgbm93IHJlZHVuZGFudCBhZnRlciBsaW5raW5nKVxuICAgICAgcG9wdXBFbC5yZW1vdmUoKTtcblxuICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAkZG9jdW1lbnQuZmluZCgnYm9keScpLmFwcGVuZCgkcG9wdXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbWVudC5hZnRlcigkcG9wdXApO1xuICAgICAgfVxuXG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChzY29wZS5pc09wZW4gPT09IHRydWUpIHtcbiAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICRwb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoJ2tleWRvd24nLCBpbnB1dEtleWRvd25CaW5kKTtcbiAgICAgICAgJGRvY3VtZW50LnVuYmluZCgnY2xpY2snLCBkb2N1bWVudENsaWNrQmluZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgnZGF0ZXBpY2tlclBvcHVwV3JhcCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OidFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgcmV0dXJuIGF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9kYXRlcGlja2VyL3BvcHVwLmh0bWwnO1xuICAgIH1cbiAgfTtcbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLmRyb3Bkb3duJywgWyd1aS5ib290c3RyYXAucG9zaXRpb24nXSlcblxuLmNvbnN0YW50KCdkcm9wZG93bkNvbmZpZycsIHtcbiAgb3BlbkNsYXNzOiAnb3Blbidcbn0pXG5cbi5zZXJ2aWNlKCdkcm9wZG93blNlcnZpY2UnLCBbJyRkb2N1bWVudCcsICckcm9vdFNjb3BlJywgZnVuY3Rpb24oJGRvY3VtZW50LCAkcm9vdFNjb3BlKSB7XG4gIHZhciBvcGVuU2NvcGUgPSBudWxsO1xuXG4gIHRoaXMub3BlbiA9IGZ1bmN0aW9uKGRyb3Bkb3duU2NvcGUpIHtcbiAgICBpZiAoIW9wZW5TY29wZSkge1xuICAgICAgJGRvY3VtZW50LmJpbmQoJ2NsaWNrJywgY2xvc2VEcm9wZG93bik7XG4gICAgICAkZG9jdW1lbnQuYmluZCgna2V5ZG93bicsIGtleWJpbmRGaWx0ZXIpO1xuICAgIH1cblxuICAgIGlmIChvcGVuU2NvcGUgJiYgb3BlblNjb3BlICE9PSBkcm9wZG93blNjb3BlKSB7XG4gICAgICBvcGVuU2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgfVxuXG4gICAgb3BlblNjb3BlID0gZHJvcGRvd25TY29wZTtcbiAgfTtcblxuICB0aGlzLmNsb3NlID0gZnVuY3Rpb24oZHJvcGRvd25TY29wZSkge1xuICAgIGlmIChvcGVuU2NvcGUgPT09IGRyb3Bkb3duU2NvcGUpIHtcbiAgICAgIG9wZW5TY29wZSA9IG51bGw7XG4gICAgICAkZG9jdW1lbnQudW5iaW5kKCdjbGljaycsIGNsb3NlRHJvcGRvd24pO1xuICAgICAgJGRvY3VtZW50LnVuYmluZCgna2V5ZG93bicsIGtleWJpbmRGaWx0ZXIpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgY2xvc2VEcm9wZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuICAgIC8vIFRoaXMgbWV0aG9kIG1heSBzdGlsbCBiZSBjYWxsZWQgZHVyaW5nIHRoZSBzYW1lIG1vdXNlIGV2ZW50IHRoYXRcbiAgICAvLyB1bmJvdW5kIHRoaXMgZXZlbnQgaGFuZGxlci4gU28gY2hlY2sgb3BlblNjb3BlIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAgIGlmICghb3BlblNjb3BlKSB7IHJldHVybjsgfVxuXG4gICAgaWYgKGV2dCAmJiBvcGVuU2NvcGUuZ2V0QXV0b0Nsb3NlKCkgPT09ICdkaXNhYmxlZCcpICB7IHJldHVybiA7IH1cblxuICAgIHZhciB0b2dnbGVFbGVtZW50ID0gb3BlblNjb3BlLmdldFRvZ2dsZUVsZW1lbnQoKTtcbiAgICBpZiAoZXZ0ICYmIHRvZ2dsZUVsZW1lbnQgJiYgdG9nZ2xlRWxlbWVudFswXS5jb250YWlucyhldnQudGFyZ2V0KSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBkcm9wZG93bkVsZW1lbnQgPSBvcGVuU2NvcGUuZ2V0RHJvcGRvd25FbGVtZW50KCk7XG4gICAgaWYgKGV2dCAmJiBvcGVuU2NvcGUuZ2V0QXV0b0Nsb3NlKCkgPT09ICdvdXRzaWRlQ2xpY2snICYmXG4gICAgICBkcm9wZG93bkVsZW1lbnQgJiYgZHJvcGRvd25FbGVtZW50WzBdLmNvbnRhaW5zKGV2dC50YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgb3BlblNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgaWYgKCEkcm9vdFNjb3BlLiQkcGhhc2UpIHtcbiAgICAgIG9wZW5TY29wZS4kYXBwbHkoKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGtleWJpbmRGaWx0ZXIgPSBmdW5jdGlvbihldnQpIHtcbiAgICBpZiAoZXZ0LndoaWNoID09PSAyNykge1xuICAgICAgb3BlblNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCgpO1xuICAgICAgY2xvc2VEcm9wZG93bigpO1xuICAgIH0gZWxzZSBpZiAob3BlblNjb3BlLmlzS2V5bmF2RW5hYmxlZCgpICYmIC8oMzh8NDApLy50ZXN0KGV2dC53aGljaCkgJiYgb3BlblNjb3BlLmlzT3Blbikge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICBvcGVuU2NvcGUuZm9jdXNEcm9wZG93bkVudHJ5KGV2dC53aGljaCk7XG4gICAgfVxuICB9O1xufV0pXG5cbi5jb250cm9sbGVyKCdEcm9wZG93bkNvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAnJHBhcnNlJywgJ2Ryb3Bkb3duQ29uZmlnJywgJ2Ryb3Bkb3duU2VydmljZScsICckYW5pbWF0ZScsICckcG9zaXRpb24nLCAnJGRvY3VtZW50JywgJyRjb21waWxlJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlLCBkcm9wZG93bkNvbmZpZywgZHJvcGRvd25TZXJ2aWNlLCAkYW5pbWF0ZSwgJHBvc2l0aW9uLCAkZG9jdW1lbnQsICRjb21waWxlLCAkdGVtcGxhdGVSZXF1ZXN0KSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICBzY29wZSA9ICRzY29wZS4kbmV3KCksIC8vIGNyZWF0ZSBhIGNoaWxkIHNjb3BlIHNvIHdlIGFyZSBub3QgcG9sbHV0aW5nIG9yaWdpbmFsIG9uZVxuICAgIHRlbXBsYXRlU2NvcGUsXG4gICAgb3BlbkNsYXNzID0gZHJvcGRvd25Db25maWcub3BlbkNsYXNzLFxuICAgIGdldElzT3BlbixcbiAgICBzZXRJc09wZW4gPSBhbmd1bGFyLm5vb3AsXG4gICAgdG9nZ2xlSW52b2tlciA9ICRhdHRycy5vblRvZ2dsZSA/ICRwYXJzZSgkYXR0cnMub25Ub2dnbGUpIDogYW5ndWxhci5ub29wLFxuICAgIGFwcGVuZFRvQm9keSA9IGZhbHNlLFxuICAgIGtleW5hdkVuYWJsZWQgPSBmYWxzZSxcbiAgICBzZWxlY3RlZE9wdGlvbiA9IG51bGwsXG4gICAgYm9keSA9ICRkb2N1bWVudC5maW5kKCdib2R5Jyk7XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgIHNlbGYuJGVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgaWYgKCRhdHRycy5pc09wZW4pIHtcbiAgICAgIGdldElzT3BlbiA9ICRwYXJzZSgkYXR0cnMuaXNPcGVuKTtcbiAgICAgIHNldElzT3BlbiA9IGdldElzT3Blbi5hc3NpZ247XG5cbiAgICAgICRzY29wZS4kd2F0Y2goZ2V0SXNPcGVuLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzY29wZS5pc09wZW4gPSAhIXZhbHVlO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXBwZW5kVG9Cb2R5ID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmRyb3Bkb3duQXBwZW5kVG9Cb2R5KTtcbiAgICBrZXluYXZFbmFibGVkID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmtleWJvYXJkTmF2KTtcblxuICAgIGlmIChhcHBlbmRUb0JvZHkgJiYgc2VsZi5kcm9wZG93bk1lbnUpIHtcbiAgICAgIGJvZHkuYXBwZW5kKHNlbGYuZHJvcGRvd25NZW51KTtcbiAgICAgIGJvZHkuYWRkQ2xhc3MoJ2Ryb3Bkb3duJyk7XG4gICAgICBlbGVtZW50Lm9uKCckZGVzdHJveScsIGZ1bmN0aW9uIGhhbmRsZURlc3Ryb3lFdmVudCgpIHtcbiAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUucmVtb3ZlKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy50b2dnbGUgPSBmdW5jdGlvbihvcGVuKSB7XG4gICAgcmV0dXJuIHNjb3BlLmlzT3BlbiA9IGFyZ3VtZW50cy5sZW5ndGggPyAhIW9wZW4gOiAhc2NvcGUuaXNPcGVuO1xuICB9O1xuXG4gIC8vIEFsbG93IG90aGVyIGRpcmVjdGl2ZXMgdG8gd2F0Y2ggc3RhdHVzXG4gIHRoaXMuaXNPcGVuID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNjb3BlLmlzT3BlbjtcbiAgfTtcblxuICBzY29wZS5nZXRUb2dnbGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYudG9nZ2xlRWxlbWVudDtcbiAgfTtcblxuICBzY29wZS5nZXRBdXRvQ2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJGF0dHJzLmF1dG9DbG9zZSB8fCAnYWx3YXlzJzsgLy9vciAnb3V0c2lkZUNsaWNrJyBvciAnZGlzYWJsZWQnXG4gIH07XG5cbiAgc2NvcGUuZ2V0RWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBzZWxmLiRlbGVtZW50O1xuICB9O1xuXG4gIHNjb3BlLmlzS2V5bmF2RW5hYmxlZCA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBrZXluYXZFbmFibGVkO1xuICB9O1xuXG4gIHNjb3BlLmZvY3VzRHJvcGRvd25FbnRyeSA9IGZ1bmN0aW9uKGtleUNvZGUpIHtcbiAgICB2YXIgZWxlbXMgPSBzZWxmLmRyb3Bkb3duTWVudSA/IC8vSWYgYXBwZW5kIHRvIGJvZHkgaXMgdXNlZC5cbiAgICAgIChhbmd1bGFyLmVsZW1lbnQoc2VsZi5kcm9wZG93bk1lbnUpLmZpbmQoJ2EnKSkgOlxuICAgICAgKGFuZ3VsYXIuZWxlbWVudChzZWxmLiRlbGVtZW50KS5maW5kKCd1bCcpLmVxKDApLmZpbmQoJ2EnKSk7XG5cbiAgICBzd2l0Y2ggKGtleUNvZGUpIHtcbiAgICAgIGNhc2UgKDQwKToge1xuICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoc2VsZi5zZWxlY3RlZE9wdGlvbikpIHtcbiAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gMDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gKHNlbGYuc2VsZWN0ZWRPcHRpb24gPT09IGVsZW1zLmxlbmd0aCAtMSA/XG4gICAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uIDpcbiAgICAgICAgICAgIHNlbGYuc2VsZWN0ZWRPcHRpb24gKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgKDM4KToge1xuICAgICAgICBpZiAoIWFuZ3VsYXIuaXNOdW1iZXIoc2VsZi5zZWxlY3RlZE9wdGlvbikpIHtcbiAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gZWxlbXMubGVuZ3RoIC0gMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLnNlbGVjdGVkT3B0aW9uID0gc2VsZi5zZWxlY3RlZE9wdGlvbiA9PT0gMCA/XG4gICAgICAgICAgICAwIDogc2VsZi5zZWxlY3RlZE9wdGlvbiAtIDE7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGVsZW1zW3NlbGYuc2VsZWN0ZWRPcHRpb25dLmZvY3VzKCk7XG4gIH07XG5cbiAgc2NvcGUuZ2V0RHJvcGRvd25FbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHNlbGYuZHJvcGRvd25NZW51O1xuICB9O1xuXG4gIHNjb3BlLmZvY3VzVG9nZ2xlRWxlbWVudCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChzZWxmLnRvZ2dsZUVsZW1lbnQpIHtcbiAgICAgIHNlbGYudG9nZ2xlRWxlbWVudFswXS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxuICBzY29wZS4kd2F0Y2goJ2lzT3BlbicsIGZ1bmN0aW9uKGlzT3Blbiwgd2FzT3Blbikge1xuICAgIGlmIChhcHBlbmRUb0JvZHkgJiYgc2VsZi5kcm9wZG93bk1lbnUpIHtcbiAgICAgIHZhciBwb3MgPSAkcG9zaXRpb24ucG9zaXRpb25FbGVtZW50cyhzZWxmLiRlbGVtZW50LCBzZWxmLmRyb3Bkb3duTWVudSwgJ2JvdHRvbS1sZWZ0JywgdHJ1ZSk7XG4gICAgICB2YXIgY3NzID0ge1xuICAgICAgICB0b3A6IHBvcy50b3AgKyAncHgnLFxuICAgICAgICBkaXNwbGF5OiBpc09wZW4gPyAnYmxvY2snIDogJ25vbmUnXG4gICAgICB9O1xuXG4gICAgICB2YXIgcmlnaHRhbGlnbiA9IHNlbGYuZHJvcGRvd25NZW51Lmhhc0NsYXNzKCdkcm9wZG93bi1tZW51LXJpZ2h0Jyk7XG4gICAgICBpZiAoIXJpZ2h0YWxpZ24pIHtcbiAgICAgICAgY3NzLmxlZnQgPSBwb3MubGVmdCArICdweCc7XG4gICAgICAgIGNzcy5yaWdodCA9ICdhdXRvJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNzcy5sZWZ0ID0gJ2F1dG8nO1xuICAgICAgICBjc3MucmlnaHQgPSAod2luZG93LmlubmVyV2lkdGggLSAocG9zLmxlZnQgKyBzZWxmLiRlbGVtZW50LnByb3AoJ29mZnNldFdpZHRoJykpKSArICdweCc7XG4gICAgICB9XG5cbiAgICAgIHNlbGYuZHJvcGRvd25NZW51LmNzcyhjc3MpO1xuICAgIH1cblxuICAgIHZhciBvcGVuQ29udGFpbmVyID0gYXBwZW5kVG9Cb2R5ID8gYm9keSA6IHNlbGYuJGVsZW1lbnQ7XG5cbiAgICAkYW5pbWF0ZVtpc09wZW4gPyAnYWRkQ2xhc3MnIDogJ3JlbW92ZUNsYXNzJ10ob3BlbkNvbnRhaW5lciwgb3BlbkNsYXNzKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKGlzT3BlbikgJiYgaXNPcGVuICE9PSB3YXNPcGVuKSB7XG4gICAgICAgIHRvZ2dsZUludm9rZXIoJHNjb3BlLCB7IG9wZW46ICEhaXNPcGVuIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgaWYgKGlzT3Blbikge1xuICAgICAgaWYgKHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpIHtcbiAgICAgICAgJHRlbXBsYXRlUmVxdWVzdChzZWxmLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsKS50aGVuKGZ1bmN0aW9uKHRwbENvbnRlbnQpIHtcbiAgICAgICAgICB0ZW1wbGF0ZVNjb3BlID0gc2NvcGUuJG5ldygpO1xuICAgICAgICAgICRjb21waWxlKHRwbENvbnRlbnQudHJpbSgpKSh0ZW1wbGF0ZVNjb3BlLCBmdW5jdGlvbihkcm9wZG93bkVsZW1lbnQpIHtcbiAgICAgICAgICAgIHZhciBuZXdFbCA9IGRyb3Bkb3duRWxlbWVudDtcbiAgICAgICAgICAgIHNlbGYuZHJvcGRvd25NZW51LnJlcGxhY2VXaXRoKG5ld0VsKTtcbiAgICAgICAgICAgIHNlbGYuZHJvcGRvd25NZW51ID0gbmV3RWw7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBzY29wZS5mb2N1c1RvZ2dsZUVsZW1lbnQoKTtcbiAgICAgIGRyb3Bkb3duU2VydmljZS5vcGVuKHNjb3BlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHNlbGYuZHJvcGRvd25NZW51VGVtcGxhdGVVcmwpIHtcbiAgICAgICAgaWYgKHRlbXBsYXRlU2NvcGUpIHtcbiAgICAgICAgICB0ZW1wbGF0ZVNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5ld0VsID0gYW5ndWxhci5lbGVtZW50KCc8dWwgY2xhc3M9XCJkcm9wZG93bi1tZW51XCI+PC91bD4nKTtcbiAgICAgICAgc2VsZi5kcm9wZG93bk1lbnUucmVwbGFjZVdpdGgobmV3RWwpO1xuICAgICAgICBzZWxmLmRyb3Bkb3duTWVudSA9IG5ld0VsO1xuICAgICAgfVxuXG4gICAgICBkcm9wZG93blNlcnZpY2UuY2xvc2Uoc2NvcGUpO1xuICAgICAgc2VsZi5zZWxlY3RlZE9wdGlvbiA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGFuZ3VsYXIuaXNGdW5jdGlvbihzZXRJc09wZW4pKSB7XG4gICAgICBzZXRJc09wZW4oJHNjb3BlLCBpc09wZW4pO1xuICAgIH1cbiAgfSk7XG5cbiAgJHNjb3BlLiRvbignJGxvY2F0aW9uQ2hhbmdlU3VjY2VzcycsIGZ1bmN0aW9uKCkge1xuICAgIGlmIChzY29wZS5nZXRBdXRvQ2xvc2UoKSAhPT0gJ2Rpc2FibGVkJykge1xuICAgICAgc2NvcGUuaXNPcGVuID0gZmFsc2U7XG4gICAgfVxuICB9KTtcblxuICB2YXIgb2ZmRGVzdHJveSA9ICRzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgc2NvcGUuJGRlc3Ryb3koKTtcbiAgfSk7XG4gIHNjb3BlLiRvbignJGRlc3Ryb3knLCBvZmZEZXN0cm95KTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdkcm9wZG93bicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIGNvbnRyb2xsZXI6ICdEcm9wZG93bkNvbnRyb2xsZXInLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7XG4gICAgICBkcm9wZG93bkN0cmwuaW5pdCggZWxlbWVudCApO1xuICAgICAgZWxlbWVudC5hZGRDbGFzcygnZHJvcGRvd24nKTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkcm9wZG93bk1lbnUnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0FDJyxcbiAgICByZXF1aXJlOiAnP15kcm9wZG93bicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBkcm9wZG93bkN0cmwpIHtcbiAgICAgIGlmICghZHJvcGRvd25DdHJsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciB0cGxVcmwgPSBhdHRycy50ZW1wbGF0ZVVybDtcbiAgICAgIGlmICh0cGxVcmwpIHtcbiAgICAgICAgZHJvcGRvd25DdHJsLmRyb3Bkb3duTWVudVRlbXBsYXRlVXJsID0gdHBsVXJsO1xuICAgICAgfVxuICAgICAgaWYgKCFkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51KSB7XG4gICAgICAgIGRyb3Bkb3duQ3RybC5kcm9wZG93bk1lbnUgPSBlbGVtZW50O1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2tleWJvYXJkTmF2JywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnP15kcm9wZG93bicsXG4gICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCBlbGVtZW50LCBhdHRycywgZHJvcGRvd25DdHJsKSB7XG5cbiAgICAgIGVsZW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgaWYgKFszOCwgNDBdLmluZGV4T2YoZS53aGljaCkgIT09IC0xKSB7XG4gICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICB2YXIgZWxlbXMgPSBkcm9wZG93bkN0cmwuZHJvcGRvd25NZW51LmZpbmQoJ2EnKTtcblxuICAgICAgICAgIHN3aXRjaCAoZS53aGljaCkge1xuICAgICAgICAgICAgY2FzZSAoNDApOiB7IC8vIERvd25cbiAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbikpIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gPSAwO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9PT0gZWxlbXMubGVuZ3RoIC0xID9cbiAgICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA6IGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiArIDE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICgzOCk6IHsgLy8gVXBcbiAgICAgICAgICAgICAgaWYgKCFhbmd1bGFyLmlzTnVtYmVyKGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbikpIHtcbiAgICAgICAgICAgICAgICBkcm9wZG93bkN0cmwuc2VsZWN0ZWRPcHRpb24gPSBlbGVtcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9IGRyb3Bkb3duQ3RybC5zZWxlY3RlZE9wdGlvbiA9PT0gMCA/XG4gICAgICAgICAgICAgICAgICAwIDogZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uIC0gMTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZWxlbXNbZHJvcGRvd25DdHJsLnNlbGVjdGVkT3B0aW9uXS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdkcm9wZG93blRvZ2dsZScsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlcXVpcmU6ICc/XmRyb3Bkb3duJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGRyb3Bkb3duQ3RybCkge1xuICAgICAgaWYgKCFkcm9wZG93bkN0cmwpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBlbGVtZW50LmFkZENsYXNzKCdkcm9wZG93bi10b2dnbGUnKTtcblxuICAgICAgZHJvcGRvd25DdHJsLnRvZ2dsZUVsZW1lbnQgPSBlbGVtZW50O1xuXG4gICAgICB2YXIgdG9nZ2xlRHJvcGRvd24gPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmICghZWxlbWVudC5oYXNDbGFzcygnZGlzYWJsZWQnKSAmJiAhYXR0cnMuZGlzYWJsZWQpIHtcbiAgICAgICAgICBzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBkcm9wZG93bkN0cmwudG9nZ2xlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIGVsZW1lbnQuYmluZCgnY2xpY2snLCB0b2dnbGVEcm9wZG93bik7XG5cbiAgICAgIC8vIFdBSS1BUklBXG4gICAgICBlbGVtZW50LmF0dHIoeyAnYXJpYS1oYXNwb3B1cCc6IHRydWUsICdhcmlhLWV4cGFuZGVkJzogZmFsc2UgfSk7XG4gICAgICBzY29wZS4kd2F0Y2goZHJvcGRvd25DdHJsLmlzT3BlbiwgZnVuY3Rpb24oIGlzT3BlbiApIHtcbiAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgISFpc09wZW4pO1xuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoJ2NsaWNrJywgdG9nZ2xlRHJvcGRvd24pO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAubW9kYWwnLCBbXSlcblxuLyoqXG4gKiBBIGhlbHBlciwgaW50ZXJuYWwgZGF0YSBzdHJ1Y3R1cmUgdGhhdCBhY3RzIGFzIGEgbWFwIGJ1dCBhbHNvIGFsbG93cyBnZXR0aW5nIC8gcmVtb3ZpbmdcbiAqIGVsZW1lbnRzIGluIHRoZSBMSUZPIG9yZGVyXG4gKi9cbiAgLmZhY3RvcnkoJyQkc3RhY2tlZE1hcCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBjcmVhdGVOZXc6IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc3RhY2sgPSBbXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGFkZDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgc3RhY2sucHVzaCh7XG4gICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgZ2V0OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGtleSA9PSBzdGFja1tpXS5rZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gc3RhY2tbaV07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIGtleXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAga2V5cy5wdXNoKHN0YWNrW2ldLmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tbc3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgICAgfSxcbiAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgdmFyIGlkeCA9IC0xO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGFjay5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBpZiAoa2V5ID09IHN0YWNrW2ldLmtleSkge1xuICAgICAgICAgICAgICAgIGlkeCA9IGk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGFjay5zcGxpY2UoaWR4LCAxKVswXTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZVRvcDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2suc3BsaWNlKHN0YWNrLmxlbmd0aCAtIDEsIDEpWzBdO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgbGVuZ3RoOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGFjay5sZW5ndGg7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH07XG4gIH0pXG5cbi8qKlxuICogQSBoZWxwZXIsIGludGVybmFsIGRhdGEgc3RydWN0dXJlIHRoYXQgc3RvcmVzIGFsbCByZWZlcmVuY2VzIGF0dGFjaGVkIHRvIGtleVxuICovXG4gIC5mYWN0b3J5KCckJG11bHRpTWFwJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNyZWF0ZU5ldzogZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtYXAgPSB7fTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIGVudHJpZXM6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hcCkubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGtleToga2V5LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBtYXBba2V5XVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcFtrZXldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgaGFzS2V5OiBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHJldHVybiAhIW1hcFtrZXldO1xuICAgICAgICAgIH0sXG4gICAgICAgICAga2V5czogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMobWFwKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHB1dDogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKCFtYXBba2V5XSkge1xuICAgICAgICAgICAgICBtYXBba2V5XSA9IFtdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtYXBba2V5XS5wdXNoKHZhbHVlKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHJlbW92ZTogZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IG1hcFtrZXldO1xuXG4gICAgICAgICAgICBpZiAoIXZhbHVlcykge1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBpZHggPSB2YWx1ZXMuaW5kZXhPZih2YWx1ZSk7XG5cbiAgICAgICAgICAgIGlmIChpZHggIT09IC0xKSB7XG4gICAgICAgICAgICAgIHZhbHVlcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCF2YWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBtYXBba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcbiAgfSlcblxuLyoqXG4gKiBBIGhlbHBlciBkaXJlY3RpdmUgZm9yIHRoZSAkbW9kYWwgc2VydmljZS4gSXQgY3JlYXRlcyBhIGJhY2tkcm9wIGVsZW1lbnQuXG4gKi9cbiAgLmRpcmVjdGl2ZSgnbW9kYWxCYWNrZHJvcCcsIFtcbiAgICAgICAgICAgJyRhbmltYXRlJywgJyRpbmplY3RvcicsICckbW9kYWxTdGFjaycsXG4gIGZ1bmN0aW9uKCRhbmltYXRlICwgICRpbmplY3RvciwgICAkbW9kYWxTdGFjaykge1xuICAgIHZhciAkYW5pbWF0ZUNzcyA9IG51bGw7XG5cbiAgICBpZiAoJGluamVjdG9yLmhhcygnJGFuaW1hdGVDc3MnKSkge1xuICAgICAgJGFuaW1hdGVDc3MgPSAkaW5qZWN0b3IuZ2V0KCckYW5pbWF0ZUNzcycpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHJlcGxhY2U6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWwnLFxuICAgICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICB0RWxlbWVudC5hZGRDbGFzcyh0QXR0cnMuYmFja2Ryb3BDbGFzcyk7XG4gICAgICAgIHJldHVybiBsaW5rRm47XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGxpbmtGbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIGlmIChhdHRycy5tb2RhbEluQ2xhc3MpIHtcbiAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICAgICAgICAgICAgYWRkQ2xhc3M6IGF0dHJzLm1vZGFsSW5DbGFzc1xuICAgICAgICAgIH0pLnN0YXJ0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJGFuaW1hdGUuYWRkQ2xhc3MoZWxlbWVudCwgYXR0cnMubW9kYWxJbkNsYXNzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNjb3BlLiRvbigkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgZnVuY3Rpb24oZSwgc2V0SXNBc3luYykge1xuICAgICAgICAgIHZhciBkb25lID0gc2V0SXNBc3luYygpO1xuICAgICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICAgICAgICAgICAgICByZW1vdmVDbGFzczogYXR0cnMubW9kYWxJbkNsYXNzXG4gICAgICAgICAgICB9KS5zdGFydCgpLnRoZW4oZG9uZSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICRhbmltYXRlLnJlbW92ZUNsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcykudGhlbihkb25lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxXaW5kb3cnLCBbXG4gICAgICAgICAgICckbW9kYWxTdGFjaycsICckcScsICckYW5pbWF0ZScsICckaW5qZWN0b3InLFxuICBmdW5jdGlvbigkbW9kYWxTdGFjayAsICAkcSAsICAkYW5pbWF0ZSwgICAkaW5qZWN0b3IpIHtcbiAgICB2YXIgJGFuaW1hdGVDc3MgPSBudWxsO1xuXG4gICAgaWYgKCRpbmplY3Rvci5oYXMoJyRhbmltYXRlQ3NzJykpIHtcbiAgICAgICRhbmltYXRlQ3NzID0gJGluamVjdG9yLmdldCgnJGFuaW1hdGVDc3MnKTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICBzY29wZToge1xuICAgICAgICBpbmRleDogJ0AnXG4gICAgICB9LFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICByZXR1cm4gdEF0dHJzLnRlbXBsYXRlVXJsIHx8ICd0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbCc7XG4gICAgICB9LFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoYXR0cnMud2luZG93Q2xhc3MgfHwgJycpO1xuICAgICAgICBzY29wZS5zaXplID0gYXR0cnMuc2l6ZTtcblxuICAgICAgICBzY29wZS5jbG9zZSA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIHZhciBtb2RhbCA9ICRtb2RhbFN0YWNrLmdldFRvcCgpO1xuICAgICAgICAgIGlmIChtb2RhbCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAmJiBtb2RhbC52YWx1ZS5iYWNrZHJvcCAhPT0gJ3N0YXRpYycgJiYgKGV2dC50YXJnZXQgPT09IGV2dC5jdXJyZW50VGFyZ2V0KSkge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAkbW9kYWxTdGFjay5kaXNtaXNzKG1vZGFsLmtleSwgJ2JhY2tkcm9wIGNsaWNrJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIFRoaXMgcHJvcGVydHkgaXMgb25seSBhZGRlZCB0byB0aGUgc2NvcGUgZm9yIHRoZSBwdXJwb3NlIG9mIGRldGVjdGluZyB3aGVuIHRoaXMgZGlyZWN0aXZlIGlzIHJlbmRlcmVkLlxuICAgICAgICAvLyBXZSBjYW4gZGV0ZWN0IHRoYXQgYnkgdXNpbmcgdGhpcyBwcm9wZXJ0eSBpbiB0aGUgdGVtcGxhdGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZGlyZWN0aXZlIGFuZCB0aGVuIHVzZVxuICAgICAgICAvLyB7QGxpbmsgQXR0cmlidXRlIyRvYnNlcnZlfSBvbiBpdC4gRm9yIG1vcmUgZGV0YWlscyBwbGVhc2Ugc2VlIHtAbGluayBUYWJsZUNvbHVtblJlc2l6ZX0uXG4gICAgICAgIHNjb3BlLiRpc1JlbmRlcmVkID0gdHJ1ZTtcblxuICAgICAgICAvLyBEZWZlcnJlZCBvYmplY3QgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdoZW4gdGhpcyBtb2RhbCBpcyByZW5kZXIuXG4gICAgICAgIHZhciBtb2RhbFJlbmRlckRlZmVyT2JqID0gJHEuZGVmZXIoKTtcbiAgICAgICAgLy8gT2JzZXJ2ZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBvbiBuZXh0IGRpZ2VzdCBjeWNsZSBhZnRlciBjb21waWxhdGlvbiwgZW5zdXJpbmcgdGhhdCB0aGUgRE9NIGlzIHJlYWR5LlxuICAgICAgICAvLyBJbiBvcmRlciB0byB1c2UgdGhpcyB3YXkgb2YgZmluZGluZyB3aGV0aGVyIERPTSBpcyByZWFkeSwgd2UgbmVlZCB0byBvYnNlcnZlIGEgc2NvcGUgcHJvcGVydHkgdXNlZCBpbiBtb2RhbCdzIHRlbXBsYXRlLlxuICAgICAgICBhdHRycy4kb2JzZXJ2ZSgnbW9kYWxSZW5kZXInLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZSA9PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIG1vZGFsUmVuZGVyRGVmZXJPYmoucmVzb2x2ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbW9kYWxSZW5kZXJEZWZlck9iai5wcm9taXNlLnRoZW4oZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGFuaW1hdGlvblByb21pc2UgPSBudWxsO1xuXG4gICAgICAgICAgaWYgKGF0dHJzLm1vZGFsSW5DbGFzcykge1xuICAgICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgICAgIGFuaW1hdGlvblByb21pc2UgPSAkYW5pbWF0ZUNzcyhlbGVtZW50LCB7XG4gICAgICAgICAgICAgICAgYWRkQ2xhc3M6IGF0dHJzLm1vZGFsSW5DbGFzc1xuICAgICAgICAgICAgICB9KS5zdGFydCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYW5pbWF0aW9uUHJvbWlzZSA9ICRhbmltYXRlLmFkZENsYXNzKGVsZW1lbnQsIGF0dHJzLm1vZGFsSW5DbGFzcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNjb3BlLiRvbigkbW9kYWxTdGFjay5OT1dfQ0xPU0lOR19FVkVOVCwgZnVuY3Rpb24oZSwgc2V0SXNBc3luYykge1xuICAgICAgICAgICAgICB2YXIgZG9uZSA9IHNldElzQXN5bmMoKTtcbiAgICAgICAgICAgICAgaWYgKCRhbmltYXRlQ3NzKSB7XG4gICAgICAgICAgICAgICAgJGFuaW1hdGVDc3MoZWxlbWVudCwge1xuICAgICAgICAgICAgICAgICAgcmVtb3ZlQ2xhc3M6IGF0dHJzLm1vZGFsSW5DbGFzc1xuICAgICAgICAgICAgICAgIH0pLnN0YXJ0KCkudGhlbihkb25lKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkYW5pbWF0ZS5yZW1vdmVDbGFzcyhlbGVtZW50LCBhdHRycy5tb2RhbEluQ2xhc3MpLnRoZW4oZG9uZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuXG4gICAgICAgICAgJHEud2hlbihhbmltYXRpb25Qcm9taXNlKS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdmFyIGlucHV0c1dpdGhBdXRvZm9jdXMgPSBlbGVtZW50WzBdLnF1ZXJ5U2VsZWN0b3JBbGwoJ1thdXRvZm9jdXNdJyk7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqIEF1dG8tZm9jdXNpbmcgb2YgYSBmcmVzaGx5LW9wZW5lZCBtb2RhbCBlbGVtZW50IGNhdXNlcyBhbnkgY2hpbGQgZWxlbWVudHNcbiAgICAgICAgICAgICAqIHdpdGggdGhlIGF1dG9mb2N1cyBhdHRyaWJ1dGUgdG8gbG9zZSBmb2N1cy4gVGhpcyBpcyBhbiBpc3N1ZSBvbiB0b3VjaFxuICAgICAgICAgICAgICogYmFzZWQgZGV2aWNlcyB3aGljaCB3aWxsIHNob3cgYW5kIHRoZW4gaGlkZSB0aGUgb25zY3JlZW4ga2V5Ym9hcmQuXG4gICAgICAgICAgICAgKiBBdHRlbXB0cyB0byByZWZvY3VzIHRoZSBhdXRvZm9jdXMgZWxlbWVudCB2aWEgSmF2YVNjcmlwdCB3aWxsIG5vdCByZW9wZW5cbiAgICAgICAgICAgICAqIHRoZSBvbnNjcmVlbiBrZXlib2FyZC4gRml4ZWQgYnkgdXBkYXRlZCB0aGUgZm9jdXNpbmcgbG9naWMgdG8gb25seSBhdXRvZm9jdXNcbiAgICAgICAgICAgICAqIHRoZSBtb2RhbCBlbGVtZW50IGlmIHRoZSBtb2RhbCBkb2VzIG5vdCBjb250YWluIGFuIGF1dG9mb2N1cyBlbGVtZW50LlxuICAgICAgICAgICAgICovXG4gICAgICAgICAgICBpZiAoaW5wdXRzV2l0aEF1dG9mb2N1cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaW5wdXRzV2l0aEF1dG9mb2N1c1swXS5mb2N1cygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZWxlbWVudFswXS5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gTm90aWZ5IHtAbGluayAkbW9kYWxTdGFja30gdGhhdCBtb2RhbCBpcyByZW5kZXJlZC5cbiAgICAgICAgICB2YXIgbW9kYWwgPSAkbW9kYWxTdGFjay5nZXRUb3AoKTtcbiAgICAgICAgICBpZiAobW9kYWwpIHtcbiAgICAgICAgICAgICRtb2RhbFN0YWNrLm1vZGFsUmVuZGVyZWQobW9kYWwua2V5KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKVxuXG4gIC5kaXJlY3RpdmUoJ21vZGFsQW5pbWF0aW9uQ2xhc3MnLCBbXG4gICAgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW1lbnQsIHRBdHRycykge1xuICAgICAgICAgIGlmICh0QXR0cnMubW9kYWxBbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRFbGVtZW50LmFkZENsYXNzKHRBdHRycy5tb2RhbEFuaW1hdGlvbkNsYXNzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pXG5cbiAgLmRpcmVjdGl2ZSgnbW9kYWxUcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSwgJGVsZW1lbnQsICRhdHRycywgY29udHJvbGxlciwgJHRyYW5zY2x1ZGUpIHtcbiAgICAgICAgJHRyYW5zY2x1ZGUoJHNjb3BlLiRwYXJlbnQsIGZ1bmN0aW9uKGNsb25lKSB7XG4gICAgICAgICAgJGVsZW1lbnQuZW1wdHkoKTtcbiAgICAgICAgICAkZWxlbWVudC5hcHBlbmQoY2xvbmUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuXG4gIC5mYWN0b3J5KCckbW9kYWxTdGFjaycsIFtcbiAgICAgICAgICAgICAnJGFuaW1hdGUnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyRjb21waWxlJywgJyRyb290U2NvcGUnLFxuICAgICAgICAgICAgICckcScsXG4gICAgICAgICAgICAgJyRpbmplY3RvcicsXG4gICAgICAgICAgICAgJyQkbXVsdGlNYXAnLFxuICAgICAgICAgICAgICckJHN0YWNrZWRNYXAnLFxuICAgIGZ1bmN0aW9uKCRhbmltYXRlICwgICR0aW1lb3V0ICwgICRkb2N1bWVudCAsICAkY29tcGlsZSAsICAkcm9vdFNjb3BlICxcbiAgICAgICAgICAgICAgJHEsXG4gICAgICAgICAgICAgICRpbmplY3RvcixcbiAgICAgICAgICAgICAgJCRtdWx0aU1hcCxcbiAgICAgICAgICAgICAgJCRzdGFja2VkTWFwKSB7XG4gICAgICB2YXIgJGFuaW1hdGVDc3MgPSBudWxsO1xuXG4gICAgICBpZiAoJGluamVjdG9yLmhhcygnJGFuaW1hdGVDc3MnKSkge1xuICAgICAgICAkYW5pbWF0ZUNzcyA9ICRpbmplY3Rvci5nZXQoJyRhbmltYXRlQ3NzJyk7XG4gICAgICB9XG5cbiAgICAgIHZhciBPUEVORURfTU9EQUxfQ0xBU1MgPSAnbW9kYWwtb3Blbic7XG5cbiAgICAgIHZhciBiYWNrZHJvcERvbUVsLCBiYWNrZHJvcFNjb3BlO1xuICAgICAgdmFyIG9wZW5lZFdpbmRvd3MgPSAkJHN0YWNrZWRNYXAuY3JlYXRlTmV3KCk7XG4gICAgICB2YXIgb3BlbmVkQ2xhc3NlcyA9ICQkbXVsdGlNYXAuY3JlYXRlTmV3KCk7XG4gICAgICB2YXIgJG1vZGFsU3RhY2sgPSB7XG4gICAgICAgIE5PV19DTE9TSU5HX0VWRU5UOiAnbW9kYWwuc3RhY2subm93LWNsb3NpbmcnXG4gICAgICB9O1xuXG4gICAgICAvL01vZGFsIGZvY3VzIGJlaGF2aW9yXG4gICAgICB2YXIgZm9jdXNhYmxlRWxlbWVudExpc3Q7XG4gICAgICB2YXIgZm9jdXNJbmRleCA9IDA7XG4gICAgICB2YXIgdGFiYWJibGVTZWxlY3RvciA9ICdhW2hyZWZdLCBhcmVhW2hyZWZdLCBpbnB1dDpub3QoW2Rpc2FibGVkXSksICcgK1xuICAgICAgICAnYnV0dG9uOm5vdChbZGlzYWJsZWRdKSxzZWxlY3Q6bm90KFtkaXNhYmxlZF0pLCB0ZXh0YXJlYTpub3QoW2Rpc2FibGVkXSksICcgK1xuICAgICAgICAnaWZyYW1lLCBvYmplY3QsIGVtYmVkLCAqW3RhYmluZGV4XSwgKltjb250ZW50ZWRpdGFibGU9dHJ1ZV0nO1xuXG4gICAgICBmdW5jdGlvbiBiYWNrZHJvcEluZGV4KCkge1xuICAgICAgICB2YXIgdG9wQmFja2Ryb3BJbmRleCA9IC0xO1xuICAgICAgICB2YXIgb3BlbmVkID0gb3BlbmVkV2luZG93cy5rZXlzKCk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlbmVkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKG9wZW5lZFdpbmRvd3MuZ2V0KG9wZW5lZFtpXSkudmFsdWUuYmFja2Ryb3ApIHtcbiAgICAgICAgICAgIHRvcEJhY2tkcm9wSW5kZXggPSBpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9wQmFja2Ryb3BJbmRleDtcbiAgICAgIH1cblxuICAgICAgJHJvb3RTY29wZS4kd2F0Y2goYmFja2Ryb3BJbmRleCwgZnVuY3Rpb24obmV3QmFja2Ryb3BJbmRleCkge1xuICAgICAgICBpZiAoYmFja2Ryb3BTY29wZSkge1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBuZXdCYWNrZHJvcEluZGV4O1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZnVuY3Rpb24gcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSwgZWxlbWVudFRvUmVjZWl2ZUZvY3VzKSB7XG4gICAgICAgIHZhciBib2R5ID0gJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5lcSgwKTtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSkudmFsdWU7XG5cbiAgICAgICAgLy9jbGVhbiB1cCB0aGUgc3RhY2tcbiAgICAgICAgb3BlbmVkV2luZG93cy5yZW1vdmUobW9kYWxJbnN0YW5jZSk7XG5cbiAgICAgICAgcmVtb3ZlQWZ0ZXJBbmltYXRlKG1vZGFsV2luZG93Lm1vZGFsRG9tRWwsIG1vZGFsV2luZG93Lm1vZGFsU2NvcGUsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBtb2RhbEJvZHlDbGFzcyA9IG1vZGFsV2luZG93Lm9wZW5lZENsYXNzIHx8IE9QRU5FRF9NT0RBTF9DTEFTUztcbiAgICAgICAgICBvcGVuZWRDbGFzc2VzLnJlbW92ZShtb2RhbEJvZHlDbGFzcywgbW9kYWxJbnN0YW5jZSk7XG4gICAgICAgICAgYm9keS50b2dnbGVDbGFzcyhtb2RhbEJvZHlDbGFzcywgb3BlbmVkQ2xhc3Nlcy5oYXNLZXkobW9kYWxCb2R5Q2xhc3MpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNoZWNrUmVtb3ZlQmFja2Ryb3AoKTtcblxuICAgICAgICAvL21vdmUgZm9jdXMgdG8gc3BlY2lmaWVkIGVsZW1lbnQgaWYgYXZhaWxhYmxlLCBvciBlbHNlIHRvIGJvZHlcbiAgICAgICAgaWYgKGVsZW1lbnRUb1JlY2VpdmVGb2N1cyAmJiBlbGVtZW50VG9SZWNlaXZlRm9jdXMuZm9jdXMpIHtcbiAgICAgICAgICBlbGVtZW50VG9SZWNlaXZlRm9jdXMuZm9jdXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBib2R5LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2hlY2tSZW1vdmVCYWNrZHJvcCgpIHtcbiAgICAgICAgICAvL3JlbW92ZSBiYWNrZHJvcCBpZiBubyBsb25nZXIgbmVlZGVkXG4gICAgICAgICAgaWYgKGJhY2tkcm9wRG9tRWwgJiYgYmFja2Ryb3BJbmRleCgpID09IC0xKSB7XG4gICAgICAgICAgICB2YXIgYmFja2Ryb3BTY29wZVJlZiA9IGJhY2tkcm9wU2NvcGU7XG4gICAgICAgICAgICByZW1vdmVBZnRlckFuaW1hdGUoYmFja2Ryb3BEb21FbCwgYmFja2Ryb3BTY29wZSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGJhY2tkcm9wU2NvcGVSZWYgPSBudWxsO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBiYWNrZHJvcERvbUVsID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgYmFja2Ryb3BTY29wZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbW92ZUFmdGVyQW5pbWF0ZShkb21FbCwgc2NvcGUsIGRvbmUpIHtcbiAgICAgICAgdmFyIGFzeW5jRGVmZXJyZWQ7XG4gICAgICAgIHZhciBhc3luY1Byb21pc2UgPSBudWxsO1xuICAgICAgICB2YXIgc2V0SXNBc3luYyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghYXN5bmNEZWZlcnJlZCkge1xuICAgICAgICAgICAgYXN5bmNEZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICAgICAgICBhc3luY1Byb21pc2UgPSBhc3luY0RlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGFzeW5jRG9uZSgpIHtcbiAgICAgICAgICAgIGFzeW5jRGVmZXJyZWQucmVzb2x2ZSgpO1xuICAgICAgICAgIH07XG4gICAgICAgIH07XG4gICAgICAgIHNjb3BlLiRicm9hZGNhc3QoJG1vZGFsU3RhY2suTk9XX0NMT1NJTkdfRVZFTlQsIHNldElzQXN5bmMpO1xuXG4gICAgICAgIC8vIE5vdGUgdGhhdCBpdCdzIGludGVudGlvbmFsIHRoYXQgYXN5bmNQcm9taXNlIG1pZ2h0IGJlIG51bGwuXG4gICAgICAgIC8vIFRoYXQncyB3aGVuIHNldElzQXN5bmMgaGFzIG5vdCBiZWVuIGNhbGxlZCBkdXJpbmcgdGhlXG4gICAgICAgIC8vIE5PV19DTE9TSU5HX0VWRU5UIGJyb2FkY2FzdC5cbiAgICAgICAgcmV0dXJuICRxLndoZW4oYXN5bmNQcm9taXNlKS50aGVuKGFmdGVyQW5pbWF0aW5nKTtcblxuICAgICAgICBmdW5jdGlvbiBhZnRlckFuaW1hdGluZygpIHtcbiAgICAgICAgICBpZiAoYWZ0ZXJBbmltYXRpbmcuZG9uZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZnRlckFuaW1hdGluZy5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIGlmICgkYW5pbWF0ZUNzcykge1xuICAgICAgICAgICAgJGFuaW1hdGVDc3MoZG9tRWwsIHtcbiAgICAgICAgICAgICAgZXZlbnQ6ICdsZWF2ZSdcbiAgICAgICAgICAgIH0pLnN0YXJ0KCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZG9tRWwucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJGFuaW1hdGUubGVhdmUoZG9tRWwpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzY29wZS4kZGVzdHJveSgpO1xuICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICBkb25lKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRkb2N1bWVudC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmIChldnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm4gZXZ0O1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG1vZGFsID0gb3BlbmVkV2luZG93cy50b3AoKTtcbiAgICAgICAgaWYgKG1vZGFsICYmIG1vZGFsLnZhbHVlLmtleWJvYXJkKSB7XG4gICAgICAgICAgc3dpdGNoIChldnQud2hpY2gpe1xuICAgICAgICAgICAgY2FzZSAyNzoge1xuICAgICAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgJHJvb3RTY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbC5rZXksICdlc2NhcGUga2V5IHByZXNzJyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgOToge1xuICAgICAgICAgICAgICAkbW9kYWxTdGFjay5sb2FkRm9jdXNFbGVtZW50TGlzdChtb2RhbCk7XG4gICAgICAgICAgICAgIHZhciBmb2N1c0NoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgaWYgKGV2dC5zaGlmdEtleSkge1xuICAgICAgICAgICAgICAgIGlmICgkbW9kYWxTdGFjay5pc0ZvY3VzSW5GaXJzdEl0ZW0oZXZ0KSkge1xuICAgICAgICAgICAgICAgICAgZm9jdXNDaGFuZ2VkID0gJG1vZGFsU3RhY2suZm9jdXNMYXN0Rm9jdXNhYmxlRWxlbWVudCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoJG1vZGFsU3RhY2suaXNGb2N1c0luTGFzdEl0ZW0oZXZ0KSkge1xuICAgICAgICAgICAgICAgICAgZm9jdXNDaGFuZ2VkID0gJG1vZGFsU3RhY2suZm9jdXNGaXJzdEZvY3VzYWJsZUVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoZm9jdXNDaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICRtb2RhbFN0YWNrLm9wZW4gPSBmdW5jdGlvbihtb2RhbEluc3RhbmNlLCBtb2RhbCkge1xuICAgICAgICB2YXIgbW9kYWxPcGVuZXIgPSAkZG9jdW1lbnRbMF0uYWN0aXZlRWxlbWVudCxcbiAgICAgICAgICBtb2RhbEJvZHlDbGFzcyA9IG1vZGFsLm9wZW5lZENsYXNzIHx8IE9QRU5FRF9NT0RBTF9DTEFTUztcblxuICAgICAgICBvcGVuZWRXaW5kb3dzLmFkZChtb2RhbEluc3RhbmNlLCB7XG4gICAgICAgICAgZGVmZXJyZWQ6IG1vZGFsLmRlZmVycmVkLFxuICAgICAgICAgIHJlbmRlckRlZmVycmVkOiBtb2RhbC5yZW5kZXJEZWZlcnJlZCxcbiAgICAgICAgICBtb2RhbFNjb3BlOiBtb2RhbC5zY29wZSxcbiAgICAgICAgICBiYWNrZHJvcDogbW9kYWwuYmFja2Ryb3AsXG4gICAgICAgICAga2V5Ym9hcmQ6IG1vZGFsLmtleWJvYXJkLFxuICAgICAgICAgIG9wZW5lZENsYXNzOiBtb2RhbC5vcGVuZWRDbGFzc1xuICAgICAgICB9KTtcblxuICAgICAgICBvcGVuZWRDbGFzc2VzLnB1dChtb2RhbEJvZHlDbGFzcywgbW9kYWxJbnN0YW5jZSk7XG5cbiAgICAgICAgdmFyIGJvZHkgPSAkZG9jdW1lbnQuZmluZCgnYm9keScpLmVxKDApLFxuICAgICAgICAgICAgY3VyckJhY2tkcm9wSW5kZXggPSBiYWNrZHJvcEluZGV4KCk7XG5cbiAgICAgICAgaWYgKGN1cnJCYWNrZHJvcEluZGV4ID49IDAgJiYgIWJhY2tkcm9wRG9tRWwpIHtcbiAgICAgICAgICBiYWNrZHJvcFNjb3BlID0gJHJvb3RTY29wZS4kbmV3KHRydWUpO1xuICAgICAgICAgIGJhY2tkcm9wU2NvcGUuaW5kZXggPSBjdXJyQmFja2Ryb3BJbmRleDtcbiAgICAgICAgICB2YXIgYW5ndWxhckJhY2tncm91bmREb21FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBtb2RhbC1iYWNrZHJvcD1cIm1vZGFsLWJhY2tkcm9wXCI+PC9kaXY+Jyk7XG4gICAgICAgICAgYW5ndWxhckJhY2tncm91bmREb21FbC5hdHRyKCdiYWNrZHJvcC1jbGFzcycsIG1vZGFsLmJhY2tkcm9wQ2xhc3MpO1xuICAgICAgICAgIGlmIChtb2RhbC5hbmltYXRpb24pIHtcbiAgICAgICAgICAgIGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwuYXR0cignbW9kYWwtYW5pbWF0aW9uJywgJ3RydWUnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYmFja2Ryb3BEb21FbCA9ICRjb21waWxlKGFuZ3VsYXJCYWNrZ3JvdW5kRG9tRWwpKGJhY2tkcm9wU2NvcGUpO1xuICAgICAgICAgIGJvZHkuYXBwZW5kKGJhY2tkcm9wRG9tRWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGFuZ3VsYXJEb21FbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiBtb2RhbC13aW5kb3c9XCJtb2RhbC13aW5kb3dcIj48L2Rpdj4nKTtcbiAgICAgICAgYW5ndWxhckRvbUVsLmF0dHIoe1xuICAgICAgICAgICd0ZW1wbGF0ZS11cmwnOiBtb2RhbC53aW5kb3dUZW1wbGF0ZVVybCxcbiAgICAgICAgICAnd2luZG93LWNsYXNzJzogbW9kYWwud2luZG93Q2xhc3MsXG4gICAgICAgICAgJ3NpemUnOiBtb2RhbC5zaXplLFxuICAgICAgICAgICdpbmRleCc6IG9wZW5lZFdpbmRvd3MubGVuZ3RoKCkgLSAxLFxuICAgICAgICAgICdhbmltYXRlJzogJ2FuaW1hdGUnXG4gICAgICAgIH0pLmh0bWwobW9kYWwuY29udGVudCk7XG4gICAgICAgIGlmIChtb2RhbC5hbmltYXRpb24pIHtcbiAgICAgICAgICBhbmd1bGFyRG9tRWwuYXR0cignbW9kYWwtYW5pbWF0aW9uJywgJ3RydWUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBtb2RhbERvbUVsID0gJGNvbXBpbGUoYW5ndWxhckRvbUVsKShtb2RhbC5zY29wZSk7XG4gICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxEb21FbCA9IG1vZGFsRG9tRWw7XG4gICAgICAgIG9wZW5lZFdpbmRvd3MudG9wKCkudmFsdWUubW9kYWxPcGVuZXIgPSBtb2RhbE9wZW5lcjtcbiAgICAgICAgYm9keS5hcHBlbmQobW9kYWxEb21FbCk7XG4gICAgICAgIGJvZHkuYWRkQ2xhc3MobW9kYWxCb2R5Q2xhc3MpO1xuXG4gICAgICAgICRtb2RhbFN0YWNrLmNsZWFyRm9jdXNMaXN0Q2FjaGUoKTtcbiAgICAgIH07XG5cbiAgICAgIGZ1bmN0aW9uIGJyb2FkY2FzdENsb3NpbmcobW9kYWxXaW5kb3csIHJlc3VsdE9yUmVhc29uLCBjbG9zaW5nKSB7XG4gICAgICAgICAgcmV0dXJuICFtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbFNjb3BlLiRicm9hZGNhc3QoJ21vZGFsLmNsb3NpbmcnLCByZXN1bHRPclJlYXNvbiwgY2xvc2luZykuZGVmYXVsdFByZXZlbnRlZDtcbiAgICAgIH1cblxuICAgICAgJG1vZGFsU3RhY2suY2xvc2UgPSBmdW5jdGlvbihtb2RhbEluc3RhbmNlLCByZXN1bHQpIHtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7XG4gICAgICAgIGlmIChtb2RhbFdpbmRvdyAmJiBicm9hZGNhc3RDbG9zaW5nKG1vZGFsV2luZG93LCByZXN1bHQsIHRydWUpKSB7XG4gICAgICAgICAgbW9kYWxXaW5kb3cudmFsdWUubW9kYWxTY29wZS4kJHVpYkRlc3RydWN0aW9uU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5kZWZlcnJlZC5yZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgICAgcmVtb3ZlTW9kYWxXaW5kb3cobW9kYWxJbnN0YW5jZSwgbW9kYWxXaW5kb3cudmFsdWUubW9kYWxPcGVuZXIpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhbW9kYWxXaW5kb3c7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5kaXNtaXNzID0gZnVuY3Rpb24obW9kYWxJbnN0YW5jZSwgcmVhc29uKSB7XG4gICAgICAgIHZhciBtb2RhbFdpbmRvdyA9IG9wZW5lZFdpbmRvd3MuZ2V0KG1vZGFsSW5zdGFuY2UpO1xuICAgICAgICBpZiAobW9kYWxXaW5kb3cgJiYgYnJvYWRjYXN0Q2xvc2luZyhtb2RhbFdpbmRvdywgcmVhc29uLCBmYWxzZSkpIHtcbiAgICAgICAgICBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbFNjb3BlLiQkdWliRGVzdHJ1Y3Rpb25TY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLmRlZmVycmVkLnJlamVjdChyZWFzb24pO1xuICAgICAgICAgIHJlbW92ZU1vZGFsV2luZG93KG1vZGFsSW5zdGFuY2UsIG1vZGFsV2luZG93LnZhbHVlLm1vZGFsT3BlbmVyKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gIW1vZGFsV2luZG93O1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suZGlzbWlzc0FsbCA9IGZ1bmN0aW9uKHJlYXNvbikge1xuICAgICAgICB2YXIgdG9wTW9kYWwgPSB0aGlzLmdldFRvcCgpO1xuICAgICAgICB3aGlsZSAodG9wTW9kYWwgJiYgdGhpcy5kaXNtaXNzKHRvcE1vZGFsLmtleSwgcmVhc29uKSkge1xuICAgICAgICAgIHRvcE1vZGFsID0gdGhpcy5nZXRUb3AoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suZ2V0VG9wID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBvcGVuZWRXaW5kb3dzLnRvcCgpO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2subW9kYWxSZW5kZXJlZCA9IGZ1bmN0aW9uKG1vZGFsSW5zdGFuY2UpIHtcbiAgICAgICAgdmFyIG1vZGFsV2luZG93ID0gb3BlbmVkV2luZG93cy5nZXQobW9kYWxJbnN0YW5jZSk7XG4gICAgICAgIGlmIChtb2RhbFdpbmRvdykge1xuICAgICAgICAgIG1vZGFsV2luZG93LnZhbHVlLnJlbmRlckRlZmVycmVkLnJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2suZm9jdXNGaXJzdEZvY3VzYWJsZUVsZW1lbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBmb2N1c2FibGVFbGVtZW50TGlzdFswXS5mb2N1cygpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG4gICAgICAkbW9kYWxTdGFjay5mb2N1c0xhc3RGb2N1c2FibGVFbGVtZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgZm9jdXNhYmxlRWxlbWVudExpc3RbZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoIC0gMV0uZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5pc0ZvY3VzSW5GaXJzdEl0ZW0gPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgaWYgKGZvY3VzYWJsZUVsZW1lbnRMaXN0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gKGV2dC50YXJnZXQgfHwgZXZ0LnNyY0VsZW1lbnQpID09IGZvY3VzYWJsZUVsZW1lbnRMaXN0WzBdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH07XG5cbiAgICAgICRtb2RhbFN0YWNrLmlzRm9jdXNJbkxhc3RJdGVtID0gZnVuY3Rpb24oZXZ0KSB7XG4gICAgICAgIGlmIChmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgcmV0dXJuIChldnQudGFyZ2V0IHx8IGV2dC5zcmNFbGVtZW50KSA9PSBmb2N1c2FibGVFbGVtZW50TGlzdFtmb2N1c2FibGVFbGVtZW50TGlzdC5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9O1xuXG4gICAgICAkbW9kYWxTdGFjay5jbGVhckZvY3VzTGlzdENhY2hlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvY3VzYWJsZUVsZW1lbnRMaXN0ID0gW107XG4gICAgICAgIGZvY3VzSW5kZXggPSAwO1xuICAgICAgfTtcblxuICAgICAgJG1vZGFsU3RhY2subG9hZEZvY3VzRWxlbWVudExpc3QgPSBmdW5jdGlvbihtb2RhbFdpbmRvdykge1xuICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudExpc3QgPT09IHVuZGVmaW5lZCB8fCAhZm9jdXNhYmxlRWxlbWVudExpc3QubGVuZ3RoMCkge1xuICAgICAgICAgIGlmIChtb2RhbFdpbmRvdykge1xuICAgICAgICAgICAgdmFyIG1vZGFsRG9tRTEgPSBtb2RhbFdpbmRvdy52YWx1ZS5tb2RhbERvbUVsO1xuICAgICAgICAgICAgaWYgKG1vZGFsRG9tRTEgJiYgbW9kYWxEb21FMS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgZm9jdXNhYmxlRWxlbWVudExpc3QgPSBtb2RhbERvbUUxWzBdLnF1ZXJ5U2VsZWN0b3JBbGwodGFiYWJibGVTZWxlY3Rvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gJG1vZGFsU3RhY2s7XG4gICAgfV0pXG5cbiAgLnByb3ZpZGVyKCckbW9kYWwnLCBmdW5jdGlvbigpIHtcbiAgICB2YXIgJG1vZGFsUHJvdmlkZXIgPSB7XG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIGFuaW1hdGlvbjogdHJ1ZSxcbiAgICAgICAgYmFja2Ryb3A6IHRydWUsIC8vY2FuIGFsc28gYmUgZmFsc2Ugb3IgJ3N0YXRpYydcbiAgICAgICAga2V5Ym9hcmQ6IHRydWVcbiAgICAgIH0sXG4gICAgICAkZ2V0OiBbJyRpbmplY3RvcicsICckcm9vdFNjb3BlJywgJyRxJywgJyR0ZW1wbGF0ZVJlcXVlc3QnLCAnJGNvbnRyb2xsZXInLCAnJG1vZGFsU3RhY2snLFxuICAgICAgICBmdW5jdGlvbiAoJGluamVjdG9yLCAkcm9vdFNjb3BlLCAkcSwgJHRlbXBsYXRlUmVxdWVzdCwgJGNvbnRyb2xsZXIsICRtb2RhbFN0YWNrKSB7XG4gICAgICAgICAgdmFyICRtb2RhbCA9IHt9O1xuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0VGVtcGxhdGVQcm9taXNlKG9wdGlvbnMpIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb25zLnRlbXBsYXRlID8gJHEud2hlbihvcHRpb25zLnRlbXBsYXRlKSA6XG4gICAgICAgICAgICAgICR0ZW1wbGF0ZVJlcXVlc3QoYW5ndWxhci5pc0Z1bmN0aW9uKG9wdGlvbnMudGVtcGxhdGVVcmwpID8gKG9wdGlvbnMudGVtcGxhdGVVcmwpKCkgOiBvcHRpb25zLnRlbXBsYXRlVXJsKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBnZXRSZXNvbHZlUHJvbWlzZXMocmVzb2x2ZXMpIHtcbiAgICAgICAgICAgIHZhciBwcm9taXNlc0FyciA9IFtdO1xuICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlc29sdmVzLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoYW5ndWxhci5pc0Z1bmN0aW9uKHZhbHVlKSB8fCBhbmd1bGFyLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZXNBcnIucHVzaCgkcS53aGVuKCRpbmplY3Rvci5pbnZva2UodmFsdWUpKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5ndWxhci5pc1N0cmluZyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4oJGluamVjdG9yLmdldCh2YWx1ZSkpKTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcm9taXNlc0Fyci5wdXNoKCRxLndoZW4odmFsdWUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZXNBcnI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHByb21pc2VDaGFpbiA9IG51bGw7XG4gICAgICAgICAgJG1vZGFsLmdldFByb21pc2VDaGFpbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VDaGFpbjtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJG1vZGFsLm9wZW4gPSBmdW5jdGlvbiAobW9kYWxPcHRpb25zKSB7XG5cbiAgICAgICAgICAgIHZhciBtb2RhbFJlc3VsdERlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBtb2RhbE9wZW5lZERlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBtb2RhbFJlbmRlckRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgICAgICAgLy9wcmVwYXJlIGFuIGluc3RhbmNlIG9mIGEgbW9kYWwgdG8gYmUgaW5qZWN0ZWQgaW50byBjb250cm9sbGVycyBhbmQgcmV0dXJuZWQgdG8gYSBjYWxsZXJcbiAgICAgICAgICAgIHZhciBtb2RhbEluc3RhbmNlID0ge1xuICAgICAgICAgICAgICByZXN1bHQ6IG1vZGFsUmVzdWx0RGVmZXJyZWQucHJvbWlzZSxcbiAgICAgICAgICAgICAgb3BlbmVkOiBtb2RhbE9wZW5lZERlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIHJlbmRlcmVkOiBtb2RhbFJlbmRlckRlZmVycmVkLnByb21pc2UsXG4gICAgICAgICAgICAgIGNsb3NlOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICRtb2RhbFN0YWNrLmNsb3NlKG1vZGFsSW5zdGFuY2UsIHJlc3VsdCk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRpc21pc3M6IGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJG1vZGFsU3RhY2suZGlzbWlzcyhtb2RhbEluc3RhbmNlLCByZWFzb24pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAvL21lcmdlIGFuZCBjbGVhbiB1cCBvcHRpb25zXG4gICAgICAgICAgICBtb2RhbE9wdGlvbnMgPSBhbmd1bGFyLmV4dGVuZCh7fSwgJG1vZGFsUHJvdmlkZXIub3B0aW9ucywgbW9kYWxPcHRpb25zKTtcbiAgICAgICAgICAgIG1vZGFsT3B0aW9ucy5yZXNvbHZlID0gbW9kYWxPcHRpb25zLnJlc29sdmUgfHwge307XG5cbiAgICAgICAgICAgIC8vdmVyaWZ5IG9wdGlvbnNcbiAgICAgICAgICAgIGlmICghbW9kYWxPcHRpb25zLnRlbXBsYXRlICYmICFtb2RhbE9wdGlvbnMudGVtcGxhdGVVcmwpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPbmUgb2YgdGVtcGxhdGUgb3IgdGVtcGxhdGVVcmwgb3B0aW9ucyBpcyByZXF1aXJlZC4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2UgPVxuICAgICAgICAgICAgICAkcS5hbGwoW2dldFRlbXBsYXRlUHJvbWlzZShtb2RhbE9wdGlvbnMpXS5jb25jYXQoZ2V0UmVzb2x2ZVByb21pc2VzKG1vZGFsT3B0aW9ucy5yZXNvbHZlKSkpO1xuXG4gICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgcmVzb2x1dGlvbiBvZiB0aGUgZXhpc3RpbmcgcHJvbWlzZSBjaGFpbi5cbiAgICAgICAgICAgIC8vIFRoZW4gc3dpdGNoIHRvIG91ciBvd24gY29tYmluZWQgcHJvbWlzZSBkZXBlbmRlbmN5IChyZWdhcmRsZXNzIG9mIGhvdyB0aGUgcHJldmlvdXMgbW9kYWwgZmFyZWQpLlxuICAgICAgICAgICAgLy8gVGhlbiBhZGQgdG8gJG1vZGFsU3RhY2sgYW5kIHJlc29sdmUgb3BlbmVkLlxuICAgICAgICAgICAgLy8gRmluYWxseSBjbGVhbiB1cCB0aGUgY2hhaW4gdmFyaWFibGUgaWYgbm8gc3Vic2VxdWVudCBtb2RhbCBoYXMgb3ZlcndyaXR0ZW4gaXQuXG4gICAgICAgICAgICB2YXIgc2FtZVByb21pc2U7XG4gICAgICAgICAgICBzYW1lUHJvbWlzZSA9IHByb21pc2VDaGFpbiA9ICRxLmFsbChbcHJvbWlzZUNoYWluXSlcbiAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24oKSB7IHJldHVybiB0ZW1wbGF0ZUFuZFJlc29sdmVQcm9taXNlOyB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIHRlbXBsYXRlQW5kUmVzb2x2ZVByb21pc2U7IH0pXG4gICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIHJlc29sdmVTdWNjZXNzKHRwbEFuZFZhcnMpIHtcblxuICAgICAgICAgICAgICAgIHZhciBtb2RhbFNjb3BlID0gKG1vZGFsT3B0aW9ucy5zY29wZSB8fCAkcm9vdFNjb3BlKS4kbmV3KCk7XG4gICAgICAgICAgICAgICAgbW9kYWxTY29wZS4kY2xvc2UgPSBtb2RhbEluc3RhbmNlLmNsb3NlO1xuICAgICAgICAgICAgICAgIG1vZGFsU2NvcGUuJGRpc21pc3MgPSBtb2RhbEluc3RhbmNlLmRpc21pc3M7XG5cbiAgICAgICAgICAgICAgICBtb2RhbFNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIGlmICghbW9kYWxTY29wZS4kJHVpYkRlc3RydWN0aW9uU2NoZWR1bGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1vZGFsU2NvcGUuJGRpc21pc3MoJyR1aWJVbnNjaGVkdWxlZERlc3RydWN0aW9uJyk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB2YXIgY3RybEluc3RhbmNlLCBjdHJsTG9jYWxzID0ge307XG4gICAgICAgICAgICAgICAgdmFyIHJlc29sdmVJdGVyID0gMTtcblxuICAgICAgICAgICAgICAgIC8vY29udHJvbGxlcnNcbiAgICAgICAgICAgICAgICBpZiAobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICAgIGN0cmxMb2NhbHMuJHNjb3BlID0gbW9kYWxTY29wZTtcbiAgICAgICAgICAgICAgICAgIGN0cmxMb2NhbHMuJG1vZGFsSW5zdGFuY2UgPSBtb2RhbEluc3RhbmNlO1xuICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKG1vZGFsT3B0aW9ucy5yZXNvbHZlLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGN0cmxMb2NhbHNba2V5XSA9IHRwbEFuZFZhcnNbcmVzb2x2ZUl0ZXIrK107XG4gICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgY3RybEluc3RhbmNlID0gJGNvbnRyb2xsZXIobW9kYWxPcHRpb25zLmNvbnRyb2xsZXIsIGN0cmxMb2NhbHMpO1xuICAgICAgICAgICAgICAgICAgaWYgKG1vZGFsT3B0aW9ucy5jb250cm9sbGVyQXMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1vZGFsT3B0aW9ucy5iaW5kVG9Db250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5leHRlbmQoY3RybEluc3RhbmNlLCBtb2RhbFNjb3BlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsU2NvcGVbbW9kYWxPcHRpb25zLmNvbnRyb2xsZXJBc10gPSBjdHJsSW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgJG1vZGFsU3RhY2sub3Blbihtb2RhbEluc3RhbmNlLCB7XG4gICAgICAgICAgICAgICAgICBzY29wZTogbW9kYWxTY29wZSxcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkOiBtb2RhbFJlc3VsdERlZmVycmVkLFxuICAgICAgICAgICAgICAgICAgcmVuZGVyRGVmZXJyZWQ6IG1vZGFsUmVuZGVyRGVmZXJyZWQsXG4gICAgICAgICAgICAgICAgICBjb250ZW50OiB0cGxBbmRWYXJzWzBdLFxuICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBtb2RhbE9wdGlvbnMuYW5pbWF0aW9uLFxuICAgICAgICAgICAgICAgICAgYmFja2Ryb3A6IG1vZGFsT3B0aW9ucy5iYWNrZHJvcCxcbiAgICAgICAgICAgICAgICAgIGtleWJvYXJkOiBtb2RhbE9wdGlvbnMua2V5Ym9hcmQsXG4gICAgICAgICAgICAgICAgICBiYWNrZHJvcENsYXNzOiBtb2RhbE9wdGlvbnMuYmFja2Ryb3BDbGFzcyxcbiAgICAgICAgICAgICAgICAgIHdpbmRvd0NsYXNzOiBtb2RhbE9wdGlvbnMud2luZG93Q2xhc3MsXG4gICAgICAgICAgICAgICAgICB3aW5kb3dUZW1wbGF0ZVVybDogbW9kYWxPcHRpb25zLndpbmRvd1RlbXBsYXRlVXJsLFxuICAgICAgICAgICAgICAgICAgc2l6ZTogbW9kYWxPcHRpb25zLnNpemUsXG4gICAgICAgICAgICAgICAgICBvcGVuZWRDbGFzczogbW9kYWxPcHRpb25zLm9wZW5lZENsYXNzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbW9kYWxPcGVuZWREZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuXG4gICAgICAgICAgICB9LCBmdW5jdGlvbiByZXNvbHZlRXJyb3IocmVhc29uKSB7XG4gICAgICAgICAgICAgIG1vZGFsT3BlbmVkRGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgICAgIG1vZGFsUmVzdWx0RGVmZXJyZWQucmVqZWN0KHJlYXNvbik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbmFsbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmIChwcm9taXNlQ2hhaW4gPT09IHNhbWVQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcHJvbWlzZUNoYWluID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHJldHVybiBtb2RhbEluc3RhbmNlO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICByZXR1cm4gJG1vZGFsO1xuICAgICAgICB9XVxuICAgIH07XG5cbiAgICByZXR1cm4gJG1vZGFsUHJvdmlkZXI7XG4gIH0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnBhZ2luYXRpb24nLCBbXSlcbi5jb250cm9sbGVyKCdQYWdpbmF0aW9uQ29udHJvbGxlcicsIFsnJHNjb3BlJywgJyRhdHRycycsICckcGFyc2UnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgJHBhcnNlKSB7XG4gIHZhciBzZWxmID0gdGhpcyxcbiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfSwgLy8gbnVsbE1vZGVsQ3RybFxuICAgICAgc2V0TnVtUGFnZXMgPSAkYXR0cnMubnVtUGFnZXMgPyAkcGFyc2UoJGF0dHJzLm51bVBhZ2VzKS5hc3NpZ24gOiBhbmd1bGFyLm5vb3A7XG5cbiAgdGhpcy5pbml0ID0gZnVuY3Rpb24obmdNb2RlbEN0cmxfLCBjb25maWcpIHtcbiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXztcbiAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcblxuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHNlbGYucmVuZGVyKCk7XG4gICAgfTtcblxuICAgIGlmICgkYXR0cnMuaXRlbXNQZXJQYWdlKSB7XG4gICAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5pdGVtc1BlclBhZ2UpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBzZWxmLml0ZW1zUGVyUGFnZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICRzY29wZS50b3RhbFBhZ2VzID0gc2VsZi5jYWxjdWxhdGVUb3RhbFBhZ2VzKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pdGVtc1BlclBhZ2UgPSBjb25maWcuaXRlbXNQZXJQYWdlO1xuICAgIH1cblxuICAgICRzY29wZS4kd2F0Y2goJ3RvdGFsSXRlbXMnLCBmdW5jdGlvbigpIHtcbiAgICAgICRzY29wZS50b3RhbFBhZ2VzID0gc2VsZi5jYWxjdWxhdGVUb3RhbFBhZ2VzKCk7XG4gICAgfSk7XG5cbiAgICAkc2NvcGUuJHdhdGNoKCd0b3RhbFBhZ2VzJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHNldE51bVBhZ2VzKCRzY29wZS4kcGFyZW50LCB2YWx1ZSk7IC8vIFJlYWRvbmx5IHZhcmlhYmxlXG5cbiAgICAgIGlmICggJHNjb3BlLnBhZ2UgPiB2YWx1ZSApIHtcbiAgICAgICAgJHNjb3BlLnNlbGVjdFBhZ2UodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuY2FsY3VsYXRlVG90YWxQYWdlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciB0b3RhbFBhZ2VzID0gdGhpcy5pdGVtc1BlclBhZ2UgPCAxID8gMSA6IE1hdGguY2VpbCgkc2NvcGUudG90YWxJdGVtcyAvIHRoaXMuaXRlbXNQZXJQYWdlKTtcbiAgICByZXR1cm4gTWF0aC5tYXgodG90YWxQYWdlcyB8fCAwLCAxKTtcbiAgfTtcblxuICB0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkge1xuICAgICRzY29wZS5wYWdlID0gcGFyc2VJbnQobmdNb2RlbEN0cmwuJHZpZXdWYWx1ZSwgMTApIHx8IDE7XG4gIH07XG5cbiAgJHNjb3BlLnNlbGVjdFBhZ2UgPSBmdW5jdGlvbihwYWdlLCBldnQpIHtcbiAgICBpZiAoZXZ0KSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9XG5cbiAgICB2YXIgY2xpY2tBbGxvd2VkID0gISRzY29wZS5uZ0Rpc2FibGVkIHx8ICFldnQ7XG4gICAgaWYgKGNsaWNrQWxsb3dlZCAmJiAkc2NvcGUucGFnZSAhPT0gcGFnZSAmJiBwYWdlID4gMCAmJiBwYWdlIDw9ICRzY29wZS50b3RhbFBhZ2VzKSB7XG4gICAgICBpZiAoZXZ0ICYmIGV2dC50YXJnZXQpIHtcbiAgICAgICAgZXZ0LnRhcmdldC5ibHVyKCk7XG4gICAgICB9XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0Vmlld1ZhbHVlKHBhZ2UpO1xuICAgICAgbmdNb2RlbEN0cmwuJHJlbmRlcigpO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiAkc2NvcGVba2V5ICsgJ1RleHQnXSB8fCBzZWxmLmNvbmZpZ1trZXkgKyAnVGV4dCddO1xuICB9O1xuXG4gICRzY29wZS5ub1ByZXZpb3VzID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICRzY29wZS5wYWdlID09PSAxO1xuICB9O1xuXG4gICRzY29wZS5ub05leHQgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJHNjb3BlLnBhZ2UgPT09ICRzY29wZS50b3RhbFBhZ2VzO1xuICB9O1xufV0pXG5cbi5jb25zdGFudCgncGFnaW5hdGlvbkNvbmZpZycsIHtcbiAgaXRlbXNQZXJQYWdlOiAxMCxcbiAgYm91bmRhcnlMaW5rczogZmFsc2UsXG4gIGRpcmVjdGlvbkxpbmtzOiB0cnVlLFxuICBmaXJzdFRleHQ6ICdGaXJzdCcsXG4gIHByZXZpb3VzVGV4dDogJ1ByZXZpb3VzJyxcbiAgbmV4dFRleHQ6ICdOZXh0JyxcbiAgbGFzdFRleHQ6ICdMYXN0JyxcbiAgcm90YXRlOiB0cnVlXG59KVxuXG4uZGlyZWN0aXZlKCdwYWdpbmF0aW9uJywgWyckcGFyc2UnLCAncGFnaW5hdGlvbkNvbmZpZycsIGZ1bmN0aW9uKCRwYXJzZSwgcGFnaW5hdGlvbkNvbmZpZykge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHNjb3BlOiB7XG4gICAgICB0b3RhbEl0ZW1zOiAnPScsXG4gICAgICBmaXJzdFRleHQ6ICdAJyxcbiAgICAgIHByZXZpb3VzVGV4dDogJ0AnLFxuICAgICAgbmV4dFRleHQ6ICdAJyxcbiAgICAgIGxhc3RUZXh0OiAnQCcsXG4gICAgICBuZ0Rpc2FibGVkOic9J1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydwYWdpbmF0aW9uJywgJz9uZ01vZGVsJ10sXG4gICAgY29udHJvbGxlcjogJ1BhZ2luYXRpb25Db250cm9sbGVyJyxcbiAgICBjb250cm9sbGVyQXM6ICdwYWdpbmF0aW9uJyxcbiAgICB0ZW1wbGF0ZVVybDogZnVuY3Rpb24oZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHJldHVybiBhdHRycy50ZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLmh0bWwnO1xuICAgIH0sXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICB2YXIgcGFnaW5hdGlvbkN0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcblxuICAgICAgaWYgKCFuZ01vZGVsQ3RybCkge1xuICAgICAgICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nIGlmIG5vIG5nLW1vZGVsXG4gICAgICB9XG5cbiAgICAgIC8vIFNldHVwIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVyc1xuICAgICAgdmFyIG1heFNpemUgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5tYXhTaXplKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMubWF4U2l6ZSkgOiBwYWdpbmF0aW9uQ29uZmlnLm1heFNpemUsXG4gICAgICAgICAgcm90YXRlID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMucm90YXRlKSA/IHNjb3BlLiRwYXJlbnQuJGV2YWwoYXR0cnMucm90YXRlKSA6IHBhZ2luYXRpb25Db25maWcucm90YXRlO1xuICAgICAgc2NvcGUuYm91bmRhcnlMaW5rcyA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmJvdW5kYXJ5TGlua3MpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5ib3VuZGFyeUxpbmtzKSA6IHBhZ2luYXRpb25Db25maWcuYm91bmRhcnlMaW5rcztcbiAgICAgIHNjb3BlLmRpcmVjdGlvbkxpbmtzID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuZGlyZWN0aW9uTGlua3MpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy5kaXJlY3Rpb25MaW5rcykgOiBwYWdpbmF0aW9uQ29uZmlnLmRpcmVjdGlvbkxpbmtzO1xuXG4gICAgICBwYWdpbmF0aW9uQ3RybC5pbml0KG5nTW9kZWxDdHJsLCBwYWdpbmF0aW9uQ29uZmlnKTtcblxuICAgICAgaWYgKGF0dHJzLm1heFNpemUpIHtcbiAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLm1heFNpemUpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIG1heFNpemUgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgIHBhZ2luYXRpb25DdHJsLnJlbmRlcigpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgLy8gQ3JlYXRlIHBhZ2Ugb2JqZWN0IHVzZWQgaW4gdGVtcGxhdGVcbiAgICAgIGZ1bmN0aW9uIG1ha2VQYWdlKG51bWJlciwgdGV4dCwgaXNBY3RpdmUpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBudW1iZXI6IG51bWJlcixcbiAgICAgICAgICB0ZXh0OiB0ZXh0LFxuICAgICAgICAgIGFjdGl2ZTogaXNBY3RpdmVcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZ2V0UGFnZXMoY3VycmVudFBhZ2UsIHRvdGFsUGFnZXMpIHtcbiAgICAgICAgdmFyIHBhZ2VzID0gW107XG5cbiAgICAgICAgLy8gRGVmYXVsdCBwYWdlIGxpbWl0c1xuICAgICAgICB2YXIgc3RhcnRQYWdlID0gMSwgZW5kUGFnZSA9IHRvdGFsUGFnZXM7XG4gICAgICAgIHZhciBpc01heFNpemVkID0gYW5ndWxhci5pc0RlZmluZWQobWF4U2l6ZSkgJiYgbWF4U2l6ZSA8IHRvdGFsUGFnZXM7XG5cbiAgICAgICAgLy8gcmVjb21wdXRlIGlmIG1heFNpemVcbiAgICAgICAgaWYgKGlzTWF4U2l6ZWQpIHtcbiAgICAgICAgICBpZiAocm90YXRlKSB7XG4gICAgICAgICAgICAvLyBDdXJyZW50IHBhZ2UgaXMgZGlzcGxheWVkIGluIHRoZSBtaWRkbGUgb2YgdGhlIHZpc2libGUgb25lc1xuICAgICAgICAgICAgc3RhcnRQYWdlID0gTWF0aC5tYXgoY3VycmVudFBhZ2UgLSBNYXRoLmZsb29yKG1heFNpemUvMiksIDEpO1xuICAgICAgICAgICAgZW5kUGFnZSAgID0gc3RhcnRQYWdlICsgbWF4U2l6ZSAtIDE7XG5cbiAgICAgICAgICAgIC8vIEFkanVzdCBpZiBsaW1pdCBpcyBleGNlZWRlZFxuICAgICAgICAgICAgaWYgKGVuZFBhZ2UgPiB0b3RhbFBhZ2VzKSB7XG4gICAgICAgICAgICAgIGVuZFBhZ2UgICA9IHRvdGFsUGFnZXM7XG4gICAgICAgICAgICAgIHN0YXJ0UGFnZSA9IGVuZFBhZ2UgLSBtYXhTaXplICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVmlzaWJsZSBwYWdlcyBhcmUgcGFnaW5hdGVkIHdpdGggbWF4U2l6ZVxuICAgICAgICAgICAgc3RhcnRQYWdlID0gKChNYXRoLmNlaWwoY3VycmVudFBhZ2UgLyBtYXhTaXplKSAtIDEpICogbWF4U2l6ZSkgKyAxO1xuXG4gICAgICAgICAgICAvLyBBZGp1c3QgbGFzdCBwYWdlIGlmIGxpbWl0IGlzIGV4Y2VlZGVkXG4gICAgICAgICAgICBlbmRQYWdlID0gTWF0aC5taW4oc3RhcnRQYWdlICsgbWF4U2l6ZSAtIDEsIHRvdGFsUGFnZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEFkZCBwYWdlIG51bWJlciBsaW5rc1xuICAgICAgICBmb3IgKHZhciBudW1iZXIgPSBzdGFydFBhZ2U7IG51bWJlciA8PSBlbmRQYWdlOyBudW1iZXIrKykge1xuICAgICAgICAgIHZhciBwYWdlID0gbWFrZVBhZ2UobnVtYmVyLCBudW1iZXIsIG51bWJlciA9PT0gY3VycmVudFBhZ2UpO1xuICAgICAgICAgIHBhZ2VzLnB1c2gocGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgbGlua3MgdG8gbW92ZSBiZXR3ZWVuIHBhZ2Ugc2V0c1xuICAgICAgICBpZiAoaXNNYXhTaXplZCAmJiAhIHJvdGF0ZSkge1xuICAgICAgICAgIGlmIChzdGFydFBhZ2UgPiAxKSB7XG4gICAgICAgICAgICB2YXIgcHJldmlvdXNQYWdlU2V0ID0gbWFrZVBhZ2Uoc3RhcnRQYWdlIC0gMSwgJy4uLicsIGZhbHNlKTtcbiAgICAgICAgICAgIHBhZ2VzLnVuc2hpZnQocHJldmlvdXNQYWdlU2V0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoZW5kUGFnZSA8IHRvdGFsUGFnZXMpIHtcbiAgICAgICAgICAgIHZhciBuZXh0UGFnZVNldCA9IG1ha2VQYWdlKGVuZFBhZ2UgKyAxLCAnLi4uJywgZmFsc2UpO1xuICAgICAgICAgICAgcGFnZXMucHVzaChuZXh0UGFnZVNldCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhZ2VzO1xuICAgICAgfVxuXG4gICAgICB2YXIgb3JpZ2luYWxSZW5kZXIgPSBwYWdpbmF0aW9uQ3RybC5yZW5kZXI7XG4gICAgICBwYWdpbmF0aW9uQ3RybC5yZW5kZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgb3JpZ2luYWxSZW5kZXIoKTtcbiAgICAgICAgaWYgKHNjb3BlLnBhZ2UgPiAwICYmIHNjb3BlLnBhZ2UgPD0gc2NvcGUudG90YWxQYWdlcykge1xuICAgICAgICAgIHNjb3BlLnBhZ2VzID0gZ2V0UGFnZXMoc2NvcGUucGFnZSwgc2NvcGUudG90YWxQYWdlcyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xufV0pXG5cbi5jb25zdGFudCgncGFnZXJDb25maWcnLCB7XG4gIGl0ZW1zUGVyUGFnZTogMTAsXG4gIHByZXZpb3VzVGV4dDogJ8KrIFByZXZpb3VzJyxcbiAgbmV4dFRleHQ6ICdOZXh0IMK7JyxcbiAgYWxpZ246IHRydWVcbn0pXG5cbi5kaXJlY3RpdmUoJ3BhZ2VyJywgWydwYWdlckNvbmZpZycsIGZ1bmN0aW9uKHBhZ2VyQ29uZmlnKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgc2NvcGU6IHtcbiAgICAgIHRvdGFsSXRlbXM6ICc9JyxcbiAgICAgIHByZXZpb3VzVGV4dDogJ0AnLFxuICAgICAgbmV4dFRleHQ6ICdAJyxcbiAgICAgIG5nRGlzYWJsZWQ6ICc9J1xuICAgIH0sXG4gICAgcmVxdWlyZTogWydwYWdlcicsICc/bmdNb2RlbCddLFxuICAgIGNvbnRyb2xsZXI6ICdQYWdpbmF0aW9uQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAncGFnaW5hdGlvbicsXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL3BhZ2luYXRpb24vcGFnZXIuaHRtbCc7XG4gICAgfSxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciBwYWdpbmF0aW9uQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAoIW5nTW9kZWxDdHJsKSB7XG4gICAgICAgICByZXR1cm47IC8vIGRvIG5vdGhpbmcgaWYgbm8gbmctbW9kZWxcbiAgICAgIH1cblxuICAgICAgc2NvcGUuYWxpZ24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5hbGlnbikgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmFsaWduKSA6IHBhZ2VyQ29uZmlnLmFsaWduO1xuICAgICAgcGFnaW5hdGlvbkN0cmwuaW5pdChuZ01vZGVsQ3RybCwgcGFnZXJDb25maWcpO1xuICAgIH1cbiAgfTtcbn1dKTtcblxuLyoqXG4gKiBUaGUgZm9sbG93aW5nIGZlYXR1cmVzIGFyZSBzdGlsbCBvdXRzdGFuZGluZzogYW5pbWF0aW9uIGFzIGFcbiAqIGZ1bmN0aW9uLCBwbGFjZW1lbnQgYXMgYSBmdW5jdGlvbiwgaW5zaWRlLCBzdXBwb3J0IGZvciBtb3JlIHRyaWdnZXJzIHRoYW5cbiAqIGp1c3QgbW91c2UgZW50ZXIvbGVhdmUsIGh0bWwgdG9vbHRpcHMsIGFuZCBzZWxlY3RvciBkZWxlZ2F0aW9uLlxuICovXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRvb2x0aXAnLCBbJ3VpLmJvb3RzdHJhcC5wb3NpdGlvbicsICd1aS5ib290c3RyYXAuYmluZEh0bWwnXSlcblxuLyoqXG4gKiBUaGUgJHRvb2x0aXAgc2VydmljZSBjcmVhdGVzIHRvb2x0aXAtIGFuZCBwb3BvdmVyLWxpa2UgZGlyZWN0aXZlcyBhcyB3ZWxsIGFzXG4gKiBob3VzZXMgZ2xvYmFsIG9wdGlvbnMgZm9yIHRoZW0uXG4gKi9cbi5wcm92aWRlcignJHRvb2x0aXAnLCBmdW5jdGlvbigpIHtcbiAgLy8gVGhlIGRlZmF1bHQgb3B0aW9ucyB0b29sdGlwIGFuZCBwb3BvdmVyLlxuICB2YXIgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgcGxhY2VtZW50OiAndG9wJyxcbiAgICBhbmltYXRpb246IHRydWUsXG4gICAgcG9wdXBEZWxheTogMCxcbiAgICB1c2VDb250ZW50RXhwOiBmYWxzZVxuICB9O1xuXG4gIC8vIERlZmF1bHQgaGlkZSB0cmlnZ2VycyBmb3IgZWFjaCBzaG93IHRyaWdnZXJcbiAgdmFyIHRyaWdnZXJNYXAgPSB7XG4gICAgJ21vdXNlZW50ZXInOiAnbW91c2VsZWF2ZScsXG4gICAgJ2NsaWNrJzogJ2NsaWNrJyxcbiAgICAnZm9jdXMnOiAnYmx1cicsXG4gICAgJ25vbmUnOiAnJ1xuICB9O1xuXG4gIC8vIFRoZSBvcHRpb25zIHNwZWNpZmllZCB0byB0aGUgcHJvdmlkZXIgZ2xvYmFsbHkuXG4gIHZhciBnbG9iYWxPcHRpb25zID0ge307XG5cbiAgLyoqXG4gICAqIGBvcHRpb25zKHt9KWAgYWxsb3dzIGdsb2JhbCBjb25maWd1cmF0aW9uIG9mIGFsbCB0b29sdGlwcyBpbiB0aGVcbiAgICogYXBwbGljYXRpb24uXG4gICAqXG4gICAqICAgdmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCAnQXBwJywgWyd1aS5ib290c3RyYXAudG9vbHRpcCddLCBmdW5jdGlvbiggJHRvb2x0aXBQcm92aWRlciApIHtcbiAgICogICAgIC8vIHBsYWNlIHRvb2x0aXBzIGxlZnQgaW5zdGVhZCBvZiB0b3AgYnkgZGVmYXVsdFxuICAgKiAgICAgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zKCB7IHBsYWNlbWVudDogJ2xlZnQnIH0gKTtcbiAgICogICB9KTtcbiAgICovXG5cdHRoaXMub3B0aW9ucyA9IGZ1bmN0aW9uKHZhbHVlKSB7XG5cdFx0YW5ndWxhci5leHRlbmQoZ2xvYmFsT3B0aW9ucywgdmFsdWUpO1xuXHR9O1xuXG4gIC8qKlxuICAgKiBUaGlzIGFsbG93cyB5b3UgdG8gZXh0ZW5kIHRoZSBzZXQgb2YgdHJpZ2dlciBtYXBwaW5ncyBhdmFpbGFibGUuIEUuZy46XG4gICAqXG4gICAqICAgJHRvb2x0aXBQcm92aWRlci5zZXRUcmlnZ2VycyggJ29wZW5UcmlnZ2VyJzogJ2Nsb3NlVHJpZ2dlcicgKTtcbiAgICovXG4gIHRoaXMuc2V0VHJpZ2dlcnMgPSBmdW5jdGlvbiBzZXRUcmlnZ2Vycyh0cmlnZ2Vycykge1xuICAgIGFuZ3VsYXIuZXh0ZW5kKHRyaWdnZXJNYXAsIHRyaWdnZXJzKTtcbiAgfTtcblxuICAvKipcbiAgICogVGhpcyBpcyBhIGhlbHBlciBmdW5jdGlvbiBmb3IgdHJhbnNsYXRpbmcgY2FtZWwtY2FzZSB0byBzbmFrZS1jYXNlLlxuICAgKi9cbiAgZnVuY3Rpb24gc25ha2VfY2FzZShuYW1lKSB7XG4gICAgdmFyIHJlZ2V4cCA9IC9bQS1aXS9nO1xuICAgIHZhciBzZXBhcmF0b3IgPSAnLSc7XG4gICAgcmV0dXJuIG5hbWUucmVwbGFjZShyZWdleHAsIGZ1bmN0aW9uKGxldHRlciwgcG9zKSB7XG4gICAgICByZXR1cm4gKHBvcyA/IHNlcGFyYXRvciA6ICcnKSArIGxldHRlci50b0xvd2VyQ2FzZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGFjdHVhbCBpbnN0YW5jZSBvZiB0aGUgJHRvb2x0aXAgc2VydmljZS5cbiAgICogVE9ETyBzdXBwb3J0IG11bHRpcGxlIHRyaWdnZXJzXG4gICAqL1xuICB0aGlzLiRnZXQgPSBbJyR3aW5kb3cnLCAnJGNvbXBpbGUnLCAnJHRpbWVvdXQnLCAnJGRvY3VtZW50JywgJyRwb3NpdGlvbicsICckaW50ZXJwb2xhdGUnLCAnJHJvb3RTY29wZScsICckcGFyc2UnLCBmdW5jdGlvbigkd2luZG93LCAkY29tcGlsZSwgJHRpbWVvdXQsICRkb2N1bWVudCwgJHBvc2l0aW9uLCAkaW50ZXJwb2xhdGUsICRyb290U2NvcGUsICRwYXJzZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAkdG9vbHRpcCh0eXBlLCBwcmVmaXgsIGRlZmF1bHRUcmlnZ2VyU2hvdywgb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IGFuZ3VsYXIuZXh0ZW5kKHt9LCBkZWZhdWx0T3B0aW9ucywgZ2xvYmFsT3B0aW9ucywgb3B0aW9ucyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogUmV0dXJucyBhbiBvYmplY3Qgb2Ygc2hvdyBhbmQgaGlkZSB0cmlnZ2Vycy5cbiAgICAgICAqXG4gICAgICAgKiBJZiBhIHRyaWdnZXIgaXMgc3VwcGxpZWQsXG4gICAgICAgKiBpdCBpcyB1c2VkIHRvIHNob3cgdGhlIHRvb2x0aXA7IG90aGVyd2lzZSwgaXQgd2lsbCB1c2UgdGhlIGB0cmlnZ2VyYFxuICAgICAgICogb3B0aW9uIHBhc3NlZCB0byB0aGUgYCR0b29sdGlwUHJvdmlkZXIub3B0aW9uc2AgbWV0aG9kOyBlbHNlIGl0IHdpbGxcbiAgICAgICAqIGRlZmF1bHQgdG8gdGhlIHRyaWdnZXIgc3VwcGxpZWQgdG8gdGhpcyBkaXJlY3RpdmUgZmFjdG9yeS5cbiAgICAgICAqXG4gICAgICAgKiBUaGUgaGlkZSB0cmlnZ2VyIGlzIGJhc2VkIG9uIHRoZSBzaG93IHRyaWdnZXIuIElmIHRoZSBgdHJpZ2dlcmAgb3B0aW9uXG4gICAgICAgKiB3YXMgcGFzc2VkIHRvIHRoZSBgJHRvb2x0aXBQcm92aWRlci5vcHRpb25zYCBtZXRob2QsIGl0IHdpbGwgdXNlIHRoZVxuICAgICAgICogbWFwcGVkIHRyaWdnZXIgZnJvbSBgdHJpZ2dlck1hcGAgb3IgdGhlIHBhc3NlZCB0cmlnZ2VyIGlmIHRoZSBtYXAgaXNcbiAgICAgICAqIHVuZGVmaW5lZDsgb3RoZXJ3aXNlLCBpdCB1c2VzIHRoZSBgdHJpZ2dlck1hcGAgdmFsdWUgb2YgdGhlIHNob3dcbiAgICAgICAqIHRyaWdnZXI7IGVsc2UgaXQgd2lsbCBqdXN0IHVzZSB0aGUgc2hvdyB0cmlnZ2VyLlxuICAgICAgICovXG4gICAgICBmdW5jdGlvbiBnZXRUcmlnZ2Vycyh0cmlnZ2VyKSB7XG4gICAgICAgIHZhciBzaG93ID0gKHRyaWdnZXIgfHwgb3B0aW9ucy50cmlnZ2VyIHx8IGRlZmF1bHRUcmlnZ2VyU2hvdykuc3BsaXQoJyAnKTtcbiAgICAgICAgdmFyIGhpZGUgPSBzaG93Lm1hcChmdW5jdGlvbih0cmlnZ2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHRyaWdnZXJNYXBbdHJpZ2dlcl0gfHwgdHJpZ2dlcjtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc2hvdzogc2hvdyxcbiAgICAgICAgICBoaWRlOiBoaWRlXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIHZhciBkaXJlY3RpdmVOYW1lID0gc25ha2VfY2FzZSh0eXBlKTtcblxuICAgICAgdmFyIHN0YXJ0U3ltID0gJGludGVycG9sYXRlLnN0YXJ0U3ltYm9sKCk7XG4gICAgICB2YXIgZW5kU3ltID0gJGludGVycG9sYXRlLmVuZFN5bWJvbCgpO1xuICAgICAgdmFyIHRlbXBsYXRlID1cbiAgICAgICAgJzxkaXYgJysgZGlyZWN0aXZlTmFtZSArJy1wb3B1cCAnK1xuICAgICAgICAgICd0aXRsZT1cIicrc3RhcnRTeW0rJ3RpdGxlJytlbmRTeW0rJ1wiICcrXG4gICAgICAgICAgKG9wdGlvbnMudXNlQ29udGVudEV4cCA/XG4gICAgICAgICAgICAnY29udGVudC1leHA9XCJjb250ZW50RXhwKClcIiAnIDpcbiAgICAgICAgICAgICdjb250ZW50PVwiJytzdGFydFN5bSsnY29udGVudCcrZW5kU3ltKydcIiAnKSArXG4gICAgICAgICAgJ3BsYWNlbWVudD1cIicrc3RhcnRTeW0rJ3BsYWNlbWVudCcrZW5kU3ltKydcIiAnK1xuICAgICAgICAgICdwb3B1cC1jbGFzcz1cIicrc3RhcnRTeW0rJ3BvcHVwQ2xhc3MnK2VuZFN5bSsnXCIgJytcbiAgICAgICAgICAnYW5pbWF0aW9uPVwiYW5pbWF0aW9uXCIgJytcbiAgICAgICAgICAnaXMtb3Blbj1cImlzT3BlblwiJytcbiAgICAgICAgICAnb3JpZ2luLXNjb3BlPVwib3JpZ1Njb3BlXCIgJytcbiAgICAgICAgICAnPicrXG4gICAgICAgICc8L2Rpdj4nO1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgICAgY29tcGlsZTogZnVuY3Rpb24odEVsZW0sIHRBdHRycykge1xuICAgICAgICAgIHZhciB0b29sdGlwTGlua2VyID0gJGNvbXBpbGUoIHRlbXBsYXRlICk7XG5cbiAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gbGluayhzY29wZSwgZWxlbWVudCwgYXR0cnMsIHRvb2x0aXBDdHJsKSB7XG4gICAgICAgICAgICB2YXIgdG9vbHRpcDtcbiAgICAgICAgICAgIHZhciB0b29sdGlwTGlua2VkU2NvcGU7XG4gICAgICAgICAgICB2YXIgdHJhbnNpdGlvblRpbWVvdXQ7XG4gICAgICAgICAgICB2YXIgcG9wdXBUaW1lb3V0O1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uVGltZW91dDtcbiAgICAgICAgICAgIHZhciBhcHBlbmRUb0JvZHkgPSBhbmd1bGFyLmlzRGVmaW5lZChvcHRpb25zLmFwcGVuZFRvQm9keSkgPyBvcHRpb25zLmFwcGVuZFRvQm9keSA6IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHRyaWdnZXJzID0gZ2V0VHJpZ2dlcnModW5kZWZpbmVkKTtcbiAgICAgICAgICAgIHZhciBoYXNFbmFibGVFeHAgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyc1twcmVmaXggKyAnRW5hYmxlJ10pO1xuICAgICAgICAgICAgdmFyIHR0U2NvcGUgPSBzY29wZS4kbmV3KHRydWUpO1xuICAgICAgICAgICAgdmFyIHJlcG9zaXRpb25TY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHZhciBpc09wZW5FeHAgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRyc1twcmVmaXggKyAnSXNPcGVuJ10pID8gJHBhcnNlKGF0dHJzW3ByZWZpeCArICdJc09wZW4nXSkgOiBmYWxzZTtcblxuICAgICAgICAgICAgdmFyIHBvc2l0aW9uVG9vbHRpcCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIXRvb2x0aXApIHsgcmV0dXJuOyB9XG5cbiAgICAgICAgICAgICAgaWYgKCFwb3NpdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBwb3NpdGlvblRpbWVvdXQgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSBwb3NpdGlvbmluZyBhbmQgYm94IHNpemUgZm9yIGNvcnJlY3Qgd2lkdGggYW5kIGhlaWdodCB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgICB0b29sdGlwLmNzcyh7IHRvcDogMCwgbGVmdDogMCwgd2lkdGg6ICdhdXRvJywgaGVpZ2h0OiAnYXV0bycgfSk7XG5cbiAgICAgICAgICAgICAgICAgIHZhciB0dEJveCA9ICRwb3NpdGlvbi5wb3NpdGlvbih0b29sdGlwKTtcbiAgICAgICAgICAgICAgICAgIHZhciB0dENzcyA9ICRwb3NpdGlvbi5wb3NpdGlvbkVsZW1lbnRzKGVsZW1lbnQsIHRvb2x0aXAsIHR0U2NvcGUucGxhY2VtZW50LCBhcHBlbmRUb0JvZHkpO1xuICAgICAgICAgICAgICAgICAgdHRDc3MudG9wICs9ICdweCc7XG4gICAgICAgICAgICAgICAgICB0dENzcy5sZWZ0ICs9ICdweCc7XG5cbiAgICAgICAgICAgICAgICAgIHR0Q3NzLndpZHRoID0gdHRCb3gud2lkdGggKyAncHgnO1xuICAgICAgICAgICAgICAgICAgdHRDc3MuaGVpZ2h0ID0gdHRCb3guaGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICAgICAgICAgICAgLy8gTm93IHNldCB0aGUgY2FsY3VsYXRlZCBwb3NpdGlvbmluZyBhbmQgc2l6ZS5cbiAgICAgICAgICAgICAgICAgIHRvb2x0aXAuY3NzKHR0Q3NzKTtcblxuICAgICAgICAgICAgICAgICAgcG9zaXRpb25UaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAgIH0sIDAsIGZhbHNlKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gU2V0IHVwIHRoZSBjb3JyZWN0IHNjb3BlIHRvIGFsbG93IHRyYW5zY2x1c2lvbiBsYXRlclxuICAgICAgICAgICAgdHRTY29wZS5vcmlnU2NvcGUgPSBzY29wZTtcblxuICAgICAgICAgICAgLy8gQnkgZGVmYXVsdCwgdGhlIHRvb2x0aXAgaXMgbm90IG9wZW4uXG4gICAgICAgICAgICAvLyBUT0RPIGFkZCBhYmlsaXR5IHRvIHN0YXJ0IHRvb2x0aXAgb3BlbmVkXG4gICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVUb29sdGlwQmluZCgpIHtcbiAgICAgICAgICAgICAgaWYgKCF0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgIHNob3dUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhpZGVUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNob3cgdGhlIHRvb2x0aXAgd2l0aCBkZWxheSBpZiBzcGVjaWZpZWQsIG90aGVyd2lzZSBzaG93IGl0IGltbWVkaWF0ZWx5XG4gICAgICAgICAgICBmdW5jdGlvbiBzaG93VG9vbHRpcEJpbmQoKSB7XG4gICAgICAgICAgICAgIGlmIChoYXNFbmFibGVFeHAgJiYgIXNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCArICdFbmFibGUnXSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBwcmVwYXJlVG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAgIGlmICh0dFNjb3BlLnBvcHVwRGVsYXkpIHtcbiAgICAgICAgICAgICAgICAvLyBEbyBub3RoaW5nIGlmIHRoZSB0b29sdGlwIHdhcyBhbHJlYWR5IHNjaGVkdWxlZCB0byBwb3AtdXAuXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBoYXBwZW5zIGlmIHNob3cgaXMgdHJpZ2dlcmVkIG11bHRpcGxlIHRpbWVzIGJlZm9yZSBhbnkgaGlkZSBpcyB0cmlnZ2VyZWQuXG4gICAgICAgICAgICAgICAgaWYgKCFwb3B1cFRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9ICR0aW1lb3V0KHNob3csIHR0U2NvcGUucG9wdXBEZWxheSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaG93KCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gaGlkZVRvb2x0aXBCaW5kICgpIHtcbiAgICAgICAgICAgICAgaGlkZSgpO1xuICAgICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgICRyb290U2NvcGUuJGRpZ2VzdCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFNob3cgdGhlIHRvb2x0aXAgcG9wdXAgZWxlbWVudC5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHNob3coKSB7XG4gICAgICAgICAgICAgIHBvcHVwVGltZW91dCA9IG51bGw7XG5cbiAgICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYSBwZW5kaW5nIHJlbW92ZSB0cmFuc2l0aW9uLCB3ZSBtdXN0IGNhbmNlbCBpdCwgbGVzdCB0aGVcbiAgICAgICAgICAgICAgLy8gdG9vbHRpcCBiZSBteXN0ZXJpb3VzbHkgcmVtb3ZlZC5cbiAgICAgICAgICAgICAgaWYgKHRyYW5zaXRpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRyYW5zaXRpb25UaW1lb3V0KTtcbiAgICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBEb24ndCBzaG93IGVtcHR5IHRvb2x0aXBzLlxuICAgICAgICAgICAgICBpZiAoIShvcHRpb25zLnVzZUNvbnRlbnRFeHAgPyB0dFNjb3BlLmNvbnRlbnRFeHAoKSA6IHR0U2NvcGUuY29udGVudCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYW5ndWxhci5ub29wO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgY3JlYXRlVG9vbHRpcCgpO1xuXG4gICAgICAgICAgICAgIC8vIEFuZCBzaG93IHRoZSB0b29sdGlwLlxuICAgICAgICAgICAgICB0dFNjb3BlLmlzT3BlbiA9IHRydWU7XG4gICAgICAgICAgICAgIGlmIChpc09wZW5FeHApIHtcbiAgICAgICAgICAgICAgICBpc09wZW5FeHAuYXNzaWduKHR0U2NvcGUub3JpZ1Njb3BlLCB0dFNjb3BlLmlzT3Blbik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICAgIHR0U2NvcGUuJGFwcGx5KCk7IC8vIGRpZ2VzdCByZXF1aXJlZCBhcyAkYXBwbHkgaXMgbm90IGNhbGxlZFxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgdG9vbHRpcC5jc3MoeyBkaXNwbGF5OiAnYmxvY2snIH0pO1xuXG4gICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBIaWRlIHRoZSB0b29sdGlwIHBvcHVwIGVsZW1lbnQuXG4gICAgICAgICAgICBmdW5jdGlvbiBoaWRlKCkge1xuICAgICAgICAgICAgICAvLyBGaXJzdCB0aGluZ3MgZmlyc3Q6IHdlIGRvbid0IHNob3cgaXQgYW55bW9yZS5cbiAgICAgICAgICAgICAgdHRTY29wZS5pc09wZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgaWYgKGlzT3BlbkV4cCkge1xuICAgICAgICAgICAgICAgIGlzT3BlbkV4cC5hc3NpZ24odHRTY29wZS5vcmlnU2NvcGUsIHR0U2NvcGUuaXNPcGVuKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIC8vaWYgdG9vbHRpcCBpcyBnb2luZyB0byBiZSBzaG93biBhZnRlciBkZWxheSwgd2UgbXVzdCBjYW5jZWwgdGhpc1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9wdXBUaW1lb3V0KTtcbiAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9zaXRpb25UaW1lb3V0KTtcbiAgICAgICAgICAgICAgcG9zaXRpb25UaW1lb3V0ID0gbnVsbDtcblxuICAgICAgICAgICAgICAvLyBBbmQgbm93IHdlIHJlbW92ZSBpdCBmcm9tIHRoZSBET00uIEhvd2V2ZXIsIGlmIHdlIGhhdmUgYW5pbWF0aW9uLCB3ZVxuICAgICAgICAgICAgICAvLyBuZWVkIHRvIHdhaXQgZm9yIGl0IHRvIGV4cGlyZSBiZWZvcmVoYW5kLlxuICAgICAgICAgICAgICAvLyBGSVhNRTogdGhpcyBpcyBhIHBsYWNlaG9sZGVyIGZvciBhIHBvcnQgb2YgdGhlIHRyYW5zaXRpb25zIGxpYnJhcnkuXG4gICAgICAgICAgICAgIGlmICh0dFNjb3BlLmFuaW1hdGlvbikge1xuICAgICAgICAgICAgICAgIGlmICghdHJhbnNpdGlvblRpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb25UaW1lb3V0ID0gJHRpbWVvdXQocmVtb3ZlVG9vbHRpcCwgNTAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVtb3ZlVG9vbHRpcCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgIC8vIFRoZXJlIGNhbiBvbmx5IGJlIG9uZSB0b29sdGlwIGVsZW1lbnQgcGVyIGRpcmVjdGl2ZSBzaG93biBhdCBvbmNlLlxuICAgICAgICAgICAgICBpZiAodG9vbHRpcCkge1xuICAgICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUgPSB0dFNjb3BlLiRuZXcoKTtcbiAgICAgICAgICAgICAgdG9vbHRpcCA9IHRvb2x0aXBMaW5rZXIodG9vbHRpcExpbmtlZFNjb3BlLCBmdW5jdGlvbih0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICAgICAgICAgJGRvY3VtZW50LmZpbmQoJ2JvZHknKS5hcHBlbmQodG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIodG9vbHRpcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICBpZiAob3B0aW9ucy51c2VDb250ZW50RXhwKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlLiR3YXRjaCgnY29udGVudEV4cCgpJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoIXZhbCAmJiB0dFNjb3BlLmlzT3Blbikge1xuICAgICAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJHdhdGNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgaWYgKCFyZXBvc2l0aW9uU2NoZWR1bGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcG9zaXRpb25TY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB0b29sdGlwTGlua2VkU2NvcGUuJCRwb3N0RGlnZXN0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgIHJlcG9zaXRpb25TY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uVG9vbHRpcCgpO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVUb29sdGlwKCkge1xuICAgICAgICAgICAgICB0cmFuc2l0aW9uVGltZW91dCA9IG51bGw7XG4gICAgICAgICAgICAgIGlmICh0b29sdGlwKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB0b29sdGlwID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodG9vbHRpcExpbmtlZFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgdG9vbHRpcExpbmtlZFNjb3BlID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmdW5jdGlvbiBwcmVwYXJlVG9vbHRpcCgpIHtcbiAgICAgICAgICAgICAgcHJlcFBvcHVwQ2xhc3MoKTtcbiAgICAgICAgICAgICAgcHJlcFBsYWNlbWVudCgpO1xuICAgICAgICAgICAgICBwcmVwUG9wdXBEZWxheSgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0dFNjb3BlLmNvbnRlbnRFeHAgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHNjb3BlLiRldmFsKGF0dHJzW3R5cGVdKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogT2JzZXJ2ZSB0aGUgcmVsZXZhbnQgYXR0cmlidXRlcy5cbiAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnVzZUNvbnRlbnRFeHApIHtcbiAgICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUodHlwZSwgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgICAgdHRTY29wZS5jb250ZW50ID0gdmFsO1xuXG4gICAgICAgICAgICAgICAgaWYgKCF2YWwgJiYgdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICAgIGhpZGUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUoJ2Rpc2FibGVkJywgZnVuY3Rpb24odmFsKSB7XG4gICAgICAgICAgICAgIGlmIChwb3B1cFRpbWVvdXQgJiYgdmFsKSB7XG4gICAgICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHBvcHVwVGltZW91dCk7XG4gICAgICAgICAgICAgICAgcG9wdXBUaW1lb3V0ID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICh2YWwgJiYgdHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBhdHRycy4kb2JzZXJ2ZShwcmVmaXggKyAnVGl0bGUnLCBmdW5jdGlvbih2YWwpIHtcbiAgICAgICAgICAgICAgdHRTY29wZS50aXRsZSA9IHZhbDtcbiAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgYXR0cnMuJG9ic2VydmUocHJlZml4ICsgJ1BsYWNlbWVudCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAodHRTY29wZS5pc09wZW4pIHtcbiAgICAgICAgICAgICAgICBwcmVwUGxhY2VtZW50KCk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb25Ub29sdGlwKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBpZiAoaXNPcGVuRXhwKSB7XG4gICAgICAgICAgICAgIHNjb3BlLiR3YXRjaChpc09wZW5FeHAsIGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWwgIT09IHR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVUb29sdGlwQmluZCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBQb3B1cENsYXNzKCkge1xuICAgICAgICAgICAgICB0dFNjb3BlLnBvcHVwQ2xhc3MgPSBhdHRyc1twcmVmaXggKyAnQ2xhc3MnXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFBsYWNlbWVudCgpIHtcbiAgICAgICAgICAgICAgdmFyIHZhbCA9IGF0dHJzW3ByZWZpeCArICdQbGFjZW1lbnQnXTtcbiAgICAgICAgICAgICAgdHRTY29wZS5wbGFjZW1lbnQgPSBhbmd1bGFyLmlzRGVmaW5lZCh2YWwpID8gdmFsIDogb3B0aW9ucy5wbGFjZW1lbnQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZ1bmN0aW9uIHByZXBQb3B1cERlbGF5KCkge1xuICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1BvcHVwRGVsYXknXTtcbiAgICAgICAgICAgICAgdmFyIGRlbGF5ID0gcGFyc2VJbnQodmFsLCAxMCk7XG4gICAgICAgICAgICAgIHR0U2NvcGUucG9wdXBEZWxheSA9ICFpc05hTihkZWxheSkgPyBkZWxheSA6IG9wdGlvbnMucG9wdXBEZWxheTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHVucmVnaXN0ZXJUcmlnZ2VycyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICB0cmlnZ2Vycy5zaG93LmZvckVhY2goZnVuY3Rpb24odHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudW5iaW5kKHRyaWdnZXIsIHNob3dUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB0cmlnZ2Vycy5oaWRlLmZvckVhY2goZnVuY3Rpb24odHJpZ2dlcikge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQudW5iaW5kKHRyaWdnZXIsIGhpZGVUb29sdGlwQmluZCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gcHJlcFRyaWdnZXJzKCkge1xuICAgICAgICAgICAgICB2YXIgdmFsID0gYXR0cnNbcHJlZml4ICsgJ1RyaWdnZXInXTtcbiAgICAgICAgICAgICAgdW5yZWdpc3RlclRyaWdnZXJzKCk7XG5cbiAgICAgICAgICAgICAgdHJpZ2dlcnMgPSBnZXRUcmlnZ2Vycyh2YWwpO1xuXG4gICAgICAgICAgICAgIGlmICh0cmlnZ2Vycy5zaG93ICE9PSAnbm9uZScpIHtcbiAgICAgICAgICAgICAgICB0cmlnZ2Vycy5zaG93LmZvckVhY2goZnVuY3Rpb24odHJpZ2dlciwgaWR4KSB7XG4gICAgICAgICAgICAgICAgICAvLyBVc2luZyByYXcgYWRkRXZlbnRMaXN0ZW5lciBkdWUgdG8ganFMaXRlL2pRdWVyeSBidWcgLSAjNDA2MFxuICAgICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIgPT09IHRyaWdnZXJzLmhpZGVbaWR4XSkge1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIodHJpZ2dlciwgdG9nZ2xlVG9vbHRpcEJpbmQpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0cmlnZ2VyKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRbMF0uYWRkRXZlbnRMaXN0ZW5lcih0cmlnZ2VyLCBzaG93VG9vbHRpcEJpbmQpO1xuICAgICAgICAgICAgICAgICAgICBlbGVtZW50WzBdLmFkZEV2ZW50TGlzdGVuZXIodHJpZ2dlcnMuaGlkZVtpZHhdLCBoaWRlVG9vbHRpcEJpbmQpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmVwVHJpZ2dlcnMoKTtcblxuICAgICAgICAgICAgdmFyIGFuaW1hdGlvbiA9IHNjb3BlLiRldmFsKGF0dHJzW3ByZWZpeCArICdBbmltYXRpb24nXSk7XG4gICAgICAgICAgICB0dFNjb3BlLmFuaW1hdGlvbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKGFuaW1hdGlvbikgPyAhIWFuaW1hdGlvbiA6IG9wdGlvbnMuYW5pbWF0aW9uO1xuXG4gICAgICAgICAgICB2YXIgYXBwZW5kVG9Cb2R5VmFsID0gc2NvcGUuJGV2YWwoYXR0cnNbcHJlZml4ICsgJ0FwcGVuZFRvQm9keSddKTtcbiAgICAgICAgICAgIGFwcGVuZFRvQm9keSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGFwcGVuZFRvQm9keVZhbCkgPyBhcHBlbmRUb0JvZHlWYWwgOiBhcHBlbmRUb0JvZHk7XG5cbiAgICAgICAgICAgIC8vIGlmIGEgdG9vbHRpcCBpcyBhdHRhY2hlZCB0byA8Ym9keT4gd2UgbmVlZCB0byByZW1vdmUgaXQgb25cbiAgICAgICAgICAgIC8vIGxvY2F0aW9uIGNoYW5nZSBhcyBpdHMgcGFyZW50IHNjb3BlIHdpbGwgcHJvYmFibHkgbm90IGJlIGRlc3Ryb3llZFxuICAgICAgICAgICAgLy8gYnkgdGhlIGNoYW5nZS5cbiAgICAgICAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgICAgICAgc2NvcGUuJG9uKCckbG9jYXRpb25DaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24gY2xvc2VUb29sdGlwT25Mb2NhdGlvbkNoYW5nZVN1Y2Nlc3MoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR0U2NvcGUuaXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgICBoaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gTWFrZSBzdXJlIHRvb2x0aXAgaXMgZGVzdHJveWVkIGFuZCByZW1vdmVkLlxuICAgICAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uIG9uRGVzdHJveVRvb2x0aXAoKSB7XG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbCh0cmFuc2l0aW9uVGltZW91dCk7XG4gICAgICAgICAgICAgICR0aW1lb3V0LmNhbmNlbChwb3B1cFRpbWVvdXQpO1xuICAgICAgICAgICAgICAkdGltZW91dC5jYW5jZWwocG9zaXRpb25UaW1lb3V0KTtcbiAgICAgICAgICAgICAgdW5yZWdpc3RlclRyaWdnZXJzKCk7XG4gICAgICAgICAgICAgIHJlbW92ZVRvb2x0aXAoKTtcbiAgICAgICAgICAgICAgdHRTY29wZSA9IG51bGw7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gIH1dO1xufSlcblxuLy8gVGhpcyBpcyBtb3N0bHkgbmdJbmNsdWRlIGNvZGUgYnV0IHdpdGggYSBjdXN0b20gc2NvcGVcbi5kaXJlY3RpdmUoJ3Rvb2x0aXBUZW1wbGF0ZVRyYW5zY2x1ZGUnLCBbXG4gICAgICAgICAnJGFuaW1hdGUnLCAnJHNjZScsICckY29tcGlsZScsICckdGVtcGxhdGVSZXF1ZXN0JyxcbmZ1bmN0aW9uICgkYW5pbWF0ZSAsICAkc2NlICwgICRjb21waWxlICwgICR0ZW1wbGF0ZVJlcXVlc3QpIHtcbiAgcmV0dXJuIHtcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbSwgYXR0cnMpIHtcbiAgICAgIHZhciBvcmlnU2NvcGUgPSBzY29wZS4kZXZhbChhdHRycy50b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlU2NvcGUpO1xuXG4gICAgICB2YXIgY2hhbmdlQ291bnRlciA9IDAsXG4gICAgICAgIGN1cnJlbnRTY29wZSxcbiAgICAgICAgcHJldmlvdXNFbGVtZW50LFxuICAgICAgICBjdXJyZW50RWxlbWVudDtcblxuICAgICAgdmFyIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHByZXZpb3VzRWxlbWVudCkge1xuICAgICAgICAgIHByZXZpb3VzRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50U2NvcGUpIHtcbiAgICAgICAgICBjdXJyZW50U2NvcGUuJGRlc3Ryb3koKTtcbiAgICAgICAgICBjdXJyZW50U2NvcGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdXJyZW50RWxlbWVudCkge1xuICAgICAgICAgICRhbmltYXRlLmxlYXZlKGN1cnJlbnRFbGVtZW50KS50aGVuKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcHJldmlvdXNFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwcmV2aW91c0VsZW1lbnQgPSBjdXJyZW50RWxlbWVudDtcbiAgICAgICAgICBjdXJyZW50RWxlbWVudCA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHNjb3BlLiR3YXRjaCgkc2NlLnBhcnNlQXNSZXNvdXJjZVVybChhdHRycy50b29sdGlwVGVtcGxhdGVUcmFuc2NsdWRlKSwgZnVuY3Rpb24oc3JjKSB7XG4gICAgICAgIHZhciB0aGlzQ2hhbmdlSWQgPSArK2NoYW5nZUNvdW50ZXI7XG5cbiAgICAgICAgaWYgKHNyYykge1xuICAgICAgICAgIC8vc2V0IHRoZSAybmQgcGFyYW0gdG8gdHJ1ZSB0byBpZ25vcmUgdGhlIHRlbXBsYXRlIHJlcXVlc3QgZXJyb3Igc28gdGhhdCB0aGUgaW5uZXJcbiAgICAgICAgICAvL2NvbnRlbnRzIGFuZCBzY29wZSBjYW4gYmUgY2xlYW5lZCB1cC5cbiAgICAgICAgICAkdGVtcGxhdGVSZXF1ZXN0KHNyYywgdHJ1ZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHRoaXNDaGFuZ2VJZCAhPT0gY2hhbmdlQ291bnRlcikgeyByZXR1cm47IH1cbiAgICAgICAgICAgIHZhciBuZXdTY29wZSA9IG9yaWdTY29wZS4kbmV3KCk7XG4gICAgICAgICAgICB2YXIgdGVtcGxhdGUgPSByZXNwb25zZTtcblxuICAgICAgICAgICAgdmFyIGNsb25lID0gJGNvbXBpbGUodGVtcGxhdGUpKG5ld1Njb3BlLCBmdW5jdGlvbihjbG9uZSkge1xuICAgICAgICAgICAgICBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KCk7XG4gICAgICAgICAgICAgICRhbmltYXRlLmVudGVyKGNsb25lLCBlbGVtKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjdXJyZW50U2NvcGUgPSBuZXdTY29wZTtcbiAgICAgICAgICAgIGN1cnJlbnRFbGVtZW50ID0gY2xvbmU7XG5cbiAgICAgICAgICAgIGN1cnJlbnRTY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50TG9hZGVkJywgc3JjKTtcbiAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICh0aGlzQ2hhbmdlSWQgPT09IGNoYW5nZUNvdW50ZXIpIHtcbiAgICAgICAgICAgICAgY2xlYW51cExhc3RJbmNsdWRlQ29udGVudCgpO1xuICAgICAgICAgICAgICBzY29wZS4kZW1pdCgnJGluY2x1ZGVDb250ZW50RXJyb3InLCBzcmMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHNjb3BlLiRlbWl0KCckaW5jbHVkZUNvbnRlbnRSZXF1ZXN0ZWQnLCBzcmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsZWFudXBMYXN0SW5jbHVkZUNvbnRlbnQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHNjb3BlLiRvbignJGRlc3Ryb3knLCBjbGVhbnVwTGFzdEluY2x1ZGVDb250ZW50KTtcbiAgICB9XG4gIH07XG59XSlcblxuLyoqXG4gKiBOb3RlIHRoYXQgaXQncyBpbnRlbnRpb25hbCB0aGF0IHRoZXNlIGNsYXNzZXMgYXJlICpub3QqIGFwcGxpZWQgdGhyb3VnaCAkYW5pbWF0ZS5cbiAqIFRoZXkgbXVzdCBub3QgYmUgYW5pbWF0ZWQgYXMgdGhleSdyZSBleHBlY3RlZCB0byBiZSBwcmVzZW50IG9uIHRoZSB0b29sdGlwIG9uXG4gKiBpbml0aWFsaXphdGlvbi5cbiAqL1xuLmRpcmVjdGl2ZSgndG9vbHRpcENsYXNzZXMnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0EnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycykge1xuICAgICAgaWYgKHNjb3BlLnBsYWNlbWVudCkge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHNjb3BlLnBsYWNlbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoc2NvcGUucG9wdXBDbGFzcykge1xuICAgICAgICBlbGVtZW50LmFkZENsYXNzKHNjb3BlLnBvcHVwQ2xhc3MpO1xuICAgICAgfVxuICAgICAgaWYgKHNjb3BlLmFuaW1hdGlvbigpKSB7XG4gICAgICAgIGVsZW1lbnQuYWRkQ2xhc3MoYXR0cnMudG9vbHRpcEFuaW1hdGlvbkNsYXNzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCd0b29sdGlwUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnQ6ICdAJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXAnLCBbICckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCgndG9vbHRpcCcsICd0b29sdGlwJywgJ21vdXNlZW50ZXInKTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0b29sdGlwVGVtcGxhdGVQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgY29udGVudEV4cDogJyYnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicsXG4gICAgICBvcmlnaW5TY29wZTogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtdGVtcGxhdGUtcG9wdXAuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBUZW1wbGF0ZScsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoJ3Rvb2x0aXBUZW1wbGF0ZScsICd0b29sdGlwJywgJ21vdXNlZW50ZXInLCB7XG4gICAgdXNlQ29udGVudEV4cDogdHJ1ZVxuICB9KTtcbn1dKVxuXG4uZGlyZWN0aXZlKCd0b29sdGlwSHRtbFBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50RXhwOiAnJicsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbCdcbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3Rvb2x0aXBIdG1sJywgWyckdG9vbHRpcCcsIGZ1bmN0aW9uKCR0b29sdGlwKSB7XG4gIHJldHVybiAkdG9vbHRpcCgndG9vbHRpcEh0bWwnLCAndG9vbHRpcCcsICdtb3VzZWVudGVyJywge1xuICAgIHVzZUNvbnRlbnRFeHA6IHRydWVcbiAgfSk7XG59XSlcblxuLypcbkRlcHJlY2F0ZWRcbiovXG4uZGlyZWN0aXZlKCd0b29sdGlwSHRtbFVuc2FmZVBvcHVwJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZTogeyBjb250ZW50OiAnQCcsIHBsYWNlbWVudDogJ0AnLCBwb3B1cENsYXNzOiAnQCcsIGFuaW1hdGlvbjogJyYnLCBpc09wZW46ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWwnXG4gIH07XG59KVxuXG4udmFsdWUoJ3Rvb2x0aXBIdG1sVW5zYWZlU3VwcHJlc3NEZXByZWNhdGVkJywgZmFsc2UpXG4uZGlyZWN0aXZlKCd0b29sdGlwSHRtbFVuc2FmZScsIFtcbiAgICAgICAgICAnJHRvb2x0aXAnLCAndG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQnLCAnJGxvZycsXG5mdW5jdGlvbigkdG9vbHRpcCAsICB0b29sdGlwSHRtbFVuc2FmZVN1cHByZXNzRGVwcmVjYXRlZCAsICAkbG9nKSB7XG4gIGlmICghdG9vbHRpcEh0bWxVbnNhZmVTdXBwcmVzc0RlcHJlY2F0ZWQpIHtcbiAgICAkbG9nLndhcm4oJ3Rvb2x0aXAtaHRtbC11bnNhZmUgaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSB0b29sdGlwLWh0bWwgb3IgdG9vbHRpcC10ZW1wbGF0ZSBpbnN0ZWFkLicpO1xuICB9XG4gIHJldHVybiAkdG9vbHRpcCgndG9vbHRpcEh0bWxVbnNhZmUnLCAndG9vbHRpcCcsICdtb3VzZWVudGVyJyk7XG59XSk7XG5cbi8qKlxuICogVGhlIGZvbGxvd2luZyBmZWF0dXJlcyBhcmUgc3RpbGwgb3V0c3RhbmRpbmc6IHBvcHVwIGRlbGF5LCBhbmltYXRpb24gYXMgYVxuICogZnVuY3Rpb24sIHBsYWNlbWVudCBhcyBhIGZ1bmN0aW9uLCBpbnNpZGUsIHN1cHBvcnQgZm9yIG1vcmUgdHJpZ2dlcnMgdGhhblxuICoganVzdCBtb3VzZSBlbnRlci9sZWF2ZSwgYW5kIHNlbGVjdG9yIGRlbGVnYXRhdGlvbi5cbiAqL1xuYW5ndWxhci5tb2R1bGUoICd1aS5ib290c3RyYXAucG9wb3ZlcicsIFsndWkuYm9vdHN0cmFwLnRvb2x0aXAnXSlcblxuLmRpcmVjdGl2ZSgncG9wb3ZlclRlbXBsYXRlUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IHRpdGxlOiAnQCcsIGNvbnRlbnRFeHA6ICcmJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnLFxuICAgICAgb3JpZ2luU2NvcGU6ICcmJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWwnXG4gIH07XG59KVxuXG4uZGlyZWN0aXZlKCdwb3BvdmVyVGVtcGxhdGUnLCBbJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCdwb3BvdmVyVGVtcGxhdGUnLCAncG9wb3ZlcicsICdjbGljaycsIHtcbiAgICB1c2VDb250ZW50RXhwOiB0cnVlXG4gIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3BvcG92ZXJIdG1sUG9wdXAnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHNjb3BlOiB7IGNvbnRlbnRFeHA6ICcmJywgdGl0bGU6ICdAJywgcGxhY2VtZW50OiAnQCcsIHBvcHVwQ2xhc3M6ICdAJywgYW5pbWF0aW9uOiAnJicsIGlzT3BlbjogJyYnIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXItaHRtbC5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgncG9wb3Zlckh0bWwnLCBbJyR0b29sdGlwJywgZnVuY3Rpb24oJHRvb2x0aXApIHtcbiAgcmV0dXJuICR0b29sdGlwKCAncG9wb3Zlckh0bWwnLCAncG9wb3ZlcicsICdjbGljaycsIHtcbiAgICB1c2VDb250ZW50RXhwOiB0cnVlXG4gIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3BvcG92ZXJQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgc2NvcGU6IHsgdGl0bGU6ICdAJywgY29udGVudDogJ0AnLCBwbGFjZW1lbnQ6ICdAJywgcG9wdXBDbGFzczogJ0AnLCBhbmltYXRpb246ICcmJywgaXNPcGVuOiAnJicgfSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgncG9wb3ZlcicsIFsnJHRvb2x0aXAnLCBmdW5jdGlvbigkdG9vbHRpcCkge1xuICByZXR1cm4gJHRvb2x0aXAoICdwb3BvdmVyJywgJ3BvcG92ZXInLCAnY2xpY2snICk7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAucHJvZ3Jlc3NiYXInLCBbXSlcblxuLmNvbnN0YW50KCdwcm9ncmVzc0NvbmZpZycsIHtcbiAgYW5pbWF0ZTogdHJ1ZSxcbiAgbWF4OiAxMDBcbn0pXG5cbi52YWx1ZSgnJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nJywgZmFsc2UpXG5cbi5jb250cm9sbGVyKCdQcm9ncmVzc0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAncHJvZ3Jlc3NDb25maWcnLCBmdW5jdGlvbigkc2NvcGUsICRhdHRycywgcHJvZ3Jlc3NDb25maWcpIHtcbiAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgYW5pbWF0ZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5hbmltYXRlKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5hbmltYXRlKSA6IHByb2dyZXNzQ29uZmlnLmFuaW1hdGU7XG5cbiAgdGhpcy5iYXJzID0gW107XG4gICRzY29wZS5tYXggPSBhbmd1bGFyLmlzRGVmaW5lZCgkc2NvcGUubWF4KSA/ICRzY29wZS5tYXggOiBwcm9ncmVzc0NvbmZpZy5tYXg7XG5cbiAgdGhpcy5hZGRCYXIgPSBmdW5jdGlvbihiYXIsIGVsZW1lbnQpIHtcbiAgICBpZiAoIWFuaW1hdGUpIHtcbiAgICAgIGVsZW1lbnQuY3NzKHsndHJhbnNpdGlvbic6ICdub25lJ30pO1xuICAgIH1cblxuICAgIHRoaXMuYmFycy5wdXNoKGJhcik7XG5cbiAgICBiYXIubWF4ID0gJHNjb3BlLm1heDtcblxuICAgIGJhci4kd2F0Y2goJ3ZhbHVlJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UoKTtcbiAgICB9KTtcblxuICAgIGJhci5yZWNhbGN1bGF0ZVBlcmNlbnRhZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgIGJhci5wZXJjZW50ID0gKygxMDAgKiBiYXIudmFsdWUgLyBiYXIubWF4KS50b0ZpeGVkKDIpO1xuXG4gICAgICB2YXIgdG90YWxQZXJjZW50YWdlID0gc2VsZi5iYXJzLnJlZHVjZShmdW5jdGlvbih0b3RhbCwgYmFyKSB7XG4gICAgICAgIHJldHVybiB0b3RhbCArIGJhci5wZXJjZW50O1xuICAgICAgfSwgMCk7XG5cbiAgICAgIGlmICh0b3RhbFBlcmNlbnRhZ2UgPiAxMDApIHtcbiAgICAgICAgYmFyLnBlcmNlbnQgLT0gdG90YWxQZXJjZW50YWdlIC0gMTAwO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBiYXIuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgZWxlbWVudCA9IG51bGw7XG4gICAgICBzZWxmLnJlbW92ZUJhcihiYXIpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMucmVtb3ZlQmFyID0gZnVuY3Rpb24oYmFyKSB7XG4gICAgICB0aGlzLmJhcnMuc3BsaWNlKHRoaXMuYmFycy5pbmRleE9mKGJhciksIDEpO1xuICB9O1xuXG4gICRzY29wZS4kd2F0Y2goJ21heCcsIGZ1bmN0aW9uKG1heCkge1xuICAgIHNlbGYuYmFycy5mb3JFYWNoKGZ1bmN0aW9uKGJhcikge1xuICAgICAgYmFyLm1heCA9ICRzY29wZS5tYXg7XG4gICAgICBiYXIucmVjYWxjdWxhdGVQZXJjZW50YWdlKCk7XG4gICAgfSk7XG4gIH0pO1xufV0pXG5cbi5kaXJlY3RpdmUoJ3VpYlByb2dyZXNzJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6ICdQcm9ncmVzc0NvbnRyb2xsZXInLFxuICAgIHJlcXVpcmU6ICd1aWJQcm9ncmVzcycsXG4gICAgc2NvcGU6IHtcbiAgICAgIG1heDogJz0/J1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sJ1xuICB9O1xufSlcblxuLmRpcmVjdGl2ZSgncHJvZ3Jlc3MnLCBbJyRsb2cnLCAnJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nJywgZnVuY3Rpb24oJGxvZywgJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0cmFuc2NsdWRlOiB0cnVlLFxuICAgIGNvbnRyb2xsZXI6ICdQcm9ncmVzc0NvbnRyb2xsZXInLFxuICAgIHJlcXVpcmU6ICdwcm9ncmVzcycsXG4gICAgc2NvcGU6IHtcbiAgICAgIG1heDogJz0/J1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcpIHtcbiAgICAgICAgJGxvZy53YXJuKCdwcm9ncmVzcyBpcyBub3cgZGVwcmVjYXRlZC4gVXNlIHVpYi1wcm9ncmVzcyBpbnN0ZWFkJyk7XG4gICAgICB9XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3VpYkJhcicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgdHJhbnNjbHVkZTogdHJ1ZSxcbiAgICByZXF1aXJlOiAnXnVpYlByb2dyZXNzJyxcbiAgICBzY29wZToge1xuICAgICAgdmFsdWU6ICc9JyxcbiAgICAgIHR5cGU6ICdAJ1xuICAgIH0sXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9iYXIuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHtcbiAgICAgIHByb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsIGVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ2JhcicsIFsnJGxvZycsICckcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcnLCBmdW5jdGlvbigkbG9nLCAkcHJvZ3Jlc3NTdXBwcmVzc1dhcm5pbmcpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVxdWlyZTogJ15wcm9ncmVzcycsXG4gICAgc2NvcGU6IHtcbiAgICAgIHZhbHVlOiAnPScsXG4gICAgICB0eXBlOiAnQCdcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWwnLFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgcHJvZ3Jlc3NDdHJsKSB7XG4gICAgICBpZiAoJHByb2dyZXNzU3VwcHJlc3NXYXJuaW5nKSB7XG4gICAgICAgICRsb2cud2FybignYmFyIGlzIG5vdyBkZXByZWNhdGVkLiBVc2UgdWliLWJhciBpbnN0ZWFkJyk7XG4gICAgICB9XG4gICAgICBwcm9ncmVzc0N0cmwuYWRkQmFyKHNjb3BlLCBlbGVtZW50KTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgncHJvZ3Jlc3NiYXInLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXBsYWNlOiB0cnVlLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgY29udHJvbGxlcjogJ1Byb2dyZXNzQ29udHJvbGxlcicsXG4gICAgc2NvcGU6IHtcbiAgICAgIHZhbHVlOiAnPScsXG4gICAgICBtYXg6ICc9PycsXG4gICAgICB0eXBlOiAnQCdcbiAgICB9LFxuICAgIHRlbXBsYXRlVXJsOiAndGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBwcm9ncmVzc0N0cmwpIHtcbiAgICAgIHByb2dyZXNzQ3RybC5hZGRCYXIoc2NvcGUsIGFuZ3VsYXIuZWxlbWVudChlbGVtZW50LmNoaWxkcmVuKClbMF0pKTtcbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC5yYXRpbmcnLCBbXSlcblxuLmNvbnN0YW50KCdyYXRpbmdDb25maWcnLCB7XG4gIG1heDogNSxcbiAgc3RhdGVPbjogbnVsbCxcbiAgc3RhdGVPZmY6IG51bGwsXG4gIHRpdGxlcyA6IFsnb25lJywgJ3R3bycsICd0aHJlZScsICdmb3VyJywgJ2ZpdmUnXVxufSlcblxuLmNvbnRyb2xsZXIoJ1JhdGluZ0NvbnRyb2xsZXInLCBbJyRzY29wZScsICckYXR0cnMnLCAncmF0aW5nQ29uZmlnJywgZnVuY3Rpb24oJHNjb3BlLCAkYXR0cnMsIHJhdGluZ0NvbmZpZykge1xuICB2YXIgbmdNb2RlbEN0cmwgID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfTtcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8pIHtcbiAgICBuZ01vZGVsQ3RybCA9IG5nTW9kZWxDdHJsXztcbiAgICBuZ01vZGVsQ3RybC4kcmVuZGVyID0gdGhpcy5yZW5kZXI7XG5cbiAgICBuZ01vZGVsQ3RybC4kZm9ybWF0dGVycy5wdXNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoYW5ndWxhci5pc051bWJlcih2YWx1ZSkgJiYgdmFsdWUgPDwgMCAhPT0gdmFsdWUpIHtcbiAgICAgICAgdmFsdWUgPSBNYXRoLnJvdW5kKHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9KTtcblxuICAgIHRoaXMuc3RhdGVPbiA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5zdGF0ZU9uKSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zdGF0ZU9uKSA6IHJhdGluZ0NvbmZpZy5zdGF0ZU9uO1xuICAgIHRoaXMuc3RhdGVPZmYgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMuc3RhdGVPZmYpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnN0YXRlT2ZmKSA6IHJhdGluZ0NvbmZpZy5zdGF0ZU9mZjtcbiAgICB2YXIgdG1wVGl0bGVzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnRpdGxlcykgID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLnRpdGxlcykgOiByYXRpbmdDb25maWcudGl0bGVzIDsgICAgXG4gICAgdGhpcy50aXRsZXMgPSBhbmd1bGFyLmlzQXJyYXkodG1wVGl0bGVzKSAmJiB0bXBUaXRsZXMubGVuZ3RoID4gMCA/XG4gICAgICB0bXBUaXRsZXMgOiByYXRpbmdDb25maWcudGl0bGVzO1xuICAgIFxuICAgIHZhciByYXRpbmdTdGF0ZXMgPSBhbmd1bGFyLmlzRGVmaW5lZCgkYXR0cnMucmF0aW5nU3RhdGVzKSA/XG4gICAgICAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMucmF0aW5nU3RhdGVzKSA6XG4gICAgICBuZXcgQXJyYXkoYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1heCkgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWF4KSA6IHJhdGluZ0NvbmZpZy5tYXgpO1xuICAgICRzY29wZS5yYW5nZSA9IHRoaXMuYnVpbGRUZW1wbGF0ZU9iamVjdHMocmF0aW5nU3RhdGVzKTtcbiAgfTtcblxuICB0aGlzLmJ1aWxkVGVtcGxhdGVPYmplY3RzID0gZnVuY3Rpb24oc3RhdGVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIG4gPSBzdGF0ZXMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICBzdGF0ZXNbaV0gPSBhbmd1bGFyLmV4dGVuZCh7IGluZGV4OiBpIH0sIHsgc3RhdGVPbjogdGhpcy5zdGF0ZU9uLCBzdGF0ZU9mZjogdGhpcy5zdGF0ZU9mZiwgdGl0bGU6IHRoaXMuZ2V0VGl0bGUoaSkgfSwgc3RhdGVzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlcztcbiAgfTtcbiAgXG4gIHRoaXMuZ2V0VGl0bGUgPSBmdW5jdGlvbihpbmRleCkge1xuICAgIGlmIChpbmRleCA+PSB0aGlzLnRpdGxlcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBpbmRleCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLnRpdGxlc1tpbmRleF07XG4gICAgfVxuICB9O1xuICBcbiAgJHNjb3BlLnJhdGUgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGlmICghJHNjb3BlLnJlYWRvbmx5ICYmIHZhbHVlID49IDAgJiYgdmFsdWUgPD0gJHNjb3BlLnJhbmdlLmxlbmd0aCkge1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZ01vZGVsQ3RybC4kdmlld1ZhbHVlID09PSB2YWx1ZSA/IDAgOiB2YWx1ZSk7XG4gICAgICBuZ01vZGVsQ3RybC4kcmVuZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5lbnRlciA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaWYgKCEkc2NvcGUucmVhZG9ubHkpIHtcbiAgICAgICRzY29wZS52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAkc2NvcGUub25Ib3Zlcih7dmFsdWU6IHZhbHVlfSk7XG4gIH07XG5cbiAgJHNjb3BlLnJlc2V0ID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgICAkc2NvcGUub25MZWF2ZSgpO1xuICB9O1xuXG4gICRzY29wZS5vbktleWRvd24gPSBmdW5jdGlvbihldnQpIHtcbiAgICBpZiAoLygzN3wzOHwzOXw0MCkvLnRlc3QoZXZ0LndoaWNoKSkge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAkc2NvcGUucmF0ZSgkc2NvcGUudmFsdWUgKyAoZXZ0LndoaWNoID09PSAzOCB8fCBldnQud2hpY2ggPT09IDM5ID8gMSA6IC0xKSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgJHNjb3BlLnZhbHVlID0gbmdNb2RlbEN0cmwuJHZpZXdWYWx1ZTtcbiAgfTtcbn1dKVxuXG4uZGlyZWN0aXZlKCdyYXRpbmcnLCBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHtcbiAgICByZXN0cmljdDogJ0VBJyxcbiAgICByZXF1aXJlOiBbJ3JhdGluZycsICduZ01vZGVsJ10sXG4gICAgc2NvcGU6IHtcbiAgICAgIHJlYWRvbmx5OiAnPT8nLFxuICAgICAgb25Ib3ZlcjogJyYnLFxuICAgICAgb25MZWF2ZTogJyYnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnUmF0aW5nQ29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS9yYXRpbmcvcmF0aW5nLmh0bWwnLFxuICAgIHJlcGxhY2U6IHRydWUsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgdmFyIHJhdGluZ0N0cmwgPSBjdHJsc1swXSwgbmdNb2RlbEN0cmwgPSBjdHJsc1sxXTtcbiAgICAgIHJhdGluZ0N0cmwuaW5pdCggbmdNb2RlbEN0cmwgKTtcbiAgICB9XG4gIH07XG59KTtcblxuXG4vKipcbiAqIEBuZ2RvYyBvdmVydmlld1xuICogQG5hbWUgdWkuYm9vdHN0cmFwLnRhYnNcbiAqXG4gKiBAZGVzY3JpcHRpb25cbiAqIEFuZ3VsYXJKUyB2ZXJzaW9uIG9mIHRoZSB0YWJzIGRpcmVjdGl2ZS5cbiAqL1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRhYnMnLCBbXSlcblxuLmNvbnRyb2xsZXIoJ1RhYnNldENvbnRyb2xsZXInLCBbJyRzY29wZScsIGZ1bmN0aW9uIFRhYnNldEN0cmwoJHNjb3BlKSB7XG4gIHZhciBjdHJsID0gdGhpcyxcbiAgICAgIHRhYnMgPSBjdHJsLnRhYnMgPSAkc2NvcGUudGFicyA9IFtdO1xuXG4gIGN0cmwuc2VsZWN0ID0gZnVuY3Rpb24oc2VsZWN0ZWRUYWIpIHtcbiAgICBhbmd1bGFyLmZvckVhY2godGFicywgZnVuY3Rpb24odGFiKSB7XG4gICAgICBpZiAodGFiLmFjdGl2ZSAmJiB0YWIgIT09IHNlbGVjdGVkVGFiKSB7XG4gICAgICAgIHRhYi5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGFiLm9uRGVzZWxlY3QoKTtcbiAgICAgICAgc2VsZWN0ZWRUYWIuc2VsZWN0Q2FsbGVkID0gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2VsZWN0ZWRUYWIuYWN0aXZlID0gdHJ1ZTtcbiAgICAvLyBvbmx5IGNhbGwgc2VsZWN0IGlmIGl0IGhhcyBub3QgYWxyZWFkeSBiZWVuIGNhbGxlZFxuICAgIGlmICghc2VsZWN0ZWRUYWIuc2VsZWN0Q2FsbGVkKSB7XG4gICAgICBzZWxlY3RlZFRhYi5vblNlbGVjdCgpO1xuICAgICAgc2VsZWN0ZWRUYWIuc2VsZWN0Q2FsbGVkID0gdHJ1ZTtcbiAgICB9XG4gIH07XG5cbiAgY3RybC5hZGRUYWIgPSBmdW5jdGlvbiBhZGRUYWIodGFiKSB7XG4gICAgdGFicy5wdXNoKHRhYik7XG4gICAgLy8gd2UgY2FuJ3QgcnVuIHRoZSBzZWxlY3QgZnVuY3Rpb24gb24gdGhlIGZpcnN0IHRhYlxuICAgIC8vIHNpbmNlIHRoYXQgd291bGQgc2VsZWN0IGl0IHR3aWNlXG4gICAgaWYgKHRhYnMubGVuZ3RoID09PSAxICYmIHRhYi5hY3RpdmUgIT09IGZhbHNlKSB7XG4gICAgICB0YWIuYWN0aXZlID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKHRhYi5hY3RpdmUpIHtcbiAgICAgIGN0cmwuc2VsZWN0KHRhYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRhYi5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgY3RybC5yZW1vdmVUYWIgPSBmdW5jdGlvbiByZW1vdmVUYWIodGFiKSB7XG4gICAgdmFyIGluZGV4ID0gdGFicy5pbmRleE9mKHRhYik7XG4gICAgLy9TZWxlY3QgYSBuZXcgdGFiIGlmIHRoZSB0YWIgdG8gYmUgcmVtb3ZlZCBpcyBzZWxlY3RlZCBhbmQgbm90IGRlc3Ryb3llZFxuICAgIGlmICh0YWIuYWN0aXZlICYmIHRhYnMubGVuZ3RoID4gMSAmJiAhZGVzdHJveWVkKSB7XG4gICAgICAvL0lmIHRoaXMgaXMgdGhlIGxhc3QgdGFiLCBzZWxlY3QgdGhlIHByZXZpb3VzIHRhYi4gZWxzZSwgdGhlIG5leHQgdGFiLlxuICAgICAgdmFyIG5ld0FjdGl2ZUluZGV4ID0gaW5kZXggPT0gdGFicy5sZW5ndGggLSAxID8gaW5kZXggLSAxIDogaW5kZXggKyAxO1xuICAgICAgY3RybC5zZWxlY3QodGFic1tuZXdBY3RpdmVJbmRleF0pO1xuICAgIH1cbiAgICB0YWJzLnNwbGljZShpbmRleCwgMSk7XG4gIH07XG5cbiAgdmFyIGRlc3Ryb3llZDtcbiAgJHNjb3BlLiRvbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICBkZXN0cm95ZWQgPSB0cnVlO1xuICB9KTtcbn1dKVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJzZXRcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBkZXNjcmlwdGlvblxuICogVGFic2V0IGlzIHRoZSBvdXRlciBjb250YWluZXIgZm9yIHRoZSB0YWJzIGRpcmVjdGl2ZVxuICpcbiAqIEBwYXJhbSB7Ym9vbGVhbj19IHZlcnRpY2FsIFdoZXRoZXIgb3Igbm90IHRvIHVzZSB2ZXJ0aWNhbCBzdHlsaW5nIGZvciB0aGUgdGFicy5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGp1c3RpZmllZCBXaGV0aGVyIG9yIG5vdCB0byB1c2UganVzdGlmaWVkIHN0eWxpbmcgZm9yIHRoZSB0YWJzLlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8dGFic2V0PlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVGFiIDFcIj48Yj5GaXJzdDwvYj4gQ29udGVudCE8L3RhYj5cbiAgICAgIDx0YWIgaGVhZGluZz1cIlRhYiAyXCI+PGk+U2Vjb25kPC9pPiBDb250ZW50ITwvdGFiPlxuICAgIDwvdGFic2V0PlxuICAgIDxociAvPlxuICAgIDx0YWJzZXQgdmVydGljYWw9XCJ0cnVlXCI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJWZXJ0aWNhbCBUYWIgMVwiPjxiPkZpcnN0PC9iPiBWZXJ0aWNhbCBDb250ZW50ITwvdGFiPlxuICAgICAgPHRhYiBoZWFkaW5nPVwiVmVydGljYWwgVGFiIDJcIj48aT5TZWNvbmQ8L2k+IFZlcnRpY2FsIENvbnRlbnQhPC90YWI+XG4gICAgPC90YWJzZXQ+XG4gICAgPHRhYnNldCBqdXN0aWZpZWQ9XCJ0cnVlXCI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJKdXN0aWZpZWQgVGFiIDFcIj48Yj5GaXJzdDwvYj4gSnVzdGlmaWVkIENvbnRlbnQhPC90YWI+XG4gICAgICA8dGFiIGhlYWRpbmc9XCJKdXN0aWZpZWQgVGFiIDJcIj48aT5TZWNvbmQ8L2k+IEp1c3RpZmllZCBDb250ZW50ITwvdGFiPlxuICAgIDwvdGFic2V0PlxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RhYnNldCcsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge1xuICAgICAgdHlwZTogJ0AnXG4gICAgfSxcbiAgICBjb250cm9sbGVyOiAnVGFic2V0Q29udHJvbGxlcicsXG4gICAgdGVtcGxhdGVVcmw6ICd0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sJyxcbiAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgIHNjb3BlLnZlcnRpY2FsID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudmVydGljYWwpID8gc2NvcGUuJHBhcmVudC4kZXZhbChhdHRycy52ZXJ0aWNhbCkgOiBmYWxzZTtcbiAgICAgIHNjb3BlLmp1c3RpZmllZCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmp1c3RpZmllZCkgPyBzY29wZS4kcGFyZW50LiRldmFsKGF0dHJzLmp1c3RpZmllZCkgOiBmYWxzZTtcbiAgICB9XG4gIH07XG59KVxuXG4vKipcbiAqIEBuZ2RvYyBkaXJlY3RpdmVcbiAqIEBuYW1lIHVpLmJvb3RzdHJhcC50YWJzLmRpcmVjdGl2ZTp0YWJcbiAqIEByZXN0cmljdCBFQVxuICpcbiAqIEBwYXJhbSB7c3RyaW5nPX0gaGVhZGluZyBUaGUgdmlzaWJsZSBoZWFkaW5nLCBvciB0aXRsZSwgb2YgdGhlIHRhYi4gU2V0IEhUTUwgaGVhZGluZ3Mgd2l0aCB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYkhlYWRpbmcgdGFiSGVhZGluZ30uXG4gKiBAcGFyYW0ge3N0cmluZz19IHNlbGVjdCBBbiBleHByZXNzaW9uIHRvIGV2YWx1YXRlIHdoZW4gdGhlIHRhYiBpcyBzZWxlY3RlZC5cbiAqIEBwYXJhbSB7Ym9vbGVhbj19IGFjdGl2ZSBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgc2VsZWN0ZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW49fSBkaXNhYmxlZCBBIGJpbmRpbmcsIHRlbGxpbmcgd2hldGhlciBvciBub3QgdGhpcyB0YWIgaXMgZGlzYWJsZWQuXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGEgdGFiIHdpdGggYSBoZWFkaW5nIGFuZCBjb250ZW50LiBNdXN0IGJlIHBsYWNlZCB3aXRoaW4gYSB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYnNldCB0YWJzZXR9LlxuICpcbiAqIEBleGFtcGxlXG48ZXhhbXBsZSBtb2R1bGU9XCJ1aS5ib290c3RyYXBcIj5cbiAgPGZpbGUgbmFtZT1cImluZGV4Lmh0bWxcIj5cbiAgICA8ZGl2IG5nLWNvbnRyb2xsZXI9XCJUYWJzRGVtb0N0cmxcIj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgbmctY2xpY2s9XCJpdGVtc1swXS5hY3RpdmUgPSB0cnVlXCI+XG4gICAgICAgIFNlbGVjdCBpdGVtIDEsIHVzaW5nIGFjdGl2ZSBiaW5kaW5nXG4gICAgICA8L2J1dHRvbj5cbiAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXNtYWxsXCIgbmctY2xpY2s9XCJpdGVtc1sxXS5kaXNhYmxlZCA9ICFpdGVtc1sxXS5kaXNhYmxlZFwiPlxuICAgICAgICBFbmFibGUvZGlzYWJsZSBpdGVtIDIsIHVzaW5nIGRpc2FibGVkIGJpbmRpbmdcbiAgICAgIDwvYnV0dG9uPlxuICAgICAgPGJyIC8+XG4gICAgICA8dGFic2V0PlxuICAgICAgICA8dGFiIGhlYWRpbmc9XCJUYWIgMVwiPkZpcnN0IFRhYjwvdGFiPlxuICAgICAgICA8dGFiIHNlbGVjdD1cImFsZXJ0TWUoKVwiPlxuICAgICAgICAgIDx0YWItaGVhZGluZz48aSBjbGFzcz1cImljb24tYmVsbFwiPjwvaT4gQWxlcnQgbWUhPC90YWItaGVhZGluZz5cbiAgICAgICAgICBTZWNvbmQgVGFiLCB3aXRoIGFsZXJ0IGNhbGxiYWNrIGFuZCBodG1sIGhlYWRpbmchXG4gICAgICAgIDwvdGFiPlxuICAgICAgICA8dGFiIG5nLXJlcGVhdD1cIml0ZW0gaW4gaXRlbXNcIlxuICAgICAgICAgIGhlYWRpbmc9XCJ7e2l0ZW0udGl0bGV9fVwiXG4gICAgICAgICAgZGlzYWJsZWQ9XCJpdGVtLmRpc2FibGVkXCJcbiAgICAgICAgICBhY3RpdmU9XCJpdGVtLmFjdGl2ZVwiPlxuICAgICAgICAgIHt7aXRlbS5jb250ZW50fX1cbiAgICAgICAgPC90YWI+XG4gICAgICA8L3RhYnNldD5cbiAgICA8L2Rpdj5cbiAgPC9maWxlPlxuICA8ZmlsZSBuYW1lPVwic2NyaXB0LmpzXCI+XG4gICAgZnVuY3Rpb24gVGFic0RlbW9DdHJsKCRzY29wZSkge1xuICAgICAgJHNjb3BlLml0ZW1zID0gW1xuICAgICAgICB7IHRpdGxlOlwiRHluYW1pYyBUaXRsZSAxXCIsIGNvbnRlbnQ6XCJEeW5hbWljIEl0ZW0gMFwiIH0sXG4gICAgICAgIHsgdGl0bGU6XCJEeW5hbWljIFRpdGxlIDJcIiwgY29udGVudDpcIkR5bmFtaWMgSXRlbSAxXCIsIGRpc2FibGVkOiB0cnVlIH1cbiAgICAgIF07XG5cbiAgICAgICRzY29wZS5hbGVydE1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgYWxlcnQoXCJZb3UndmUgc2VsZWN0ZWQgdGhlIGFsZXJ0IHRhYiFcIik7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9O1xuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cblxuLyoqXG4gKiBAbmdkb2MgZGlyZWN0aXZlXG4gKiBAbmFtZSB1aS5ib290c3RyYXAudGFicy5kaXJlY3RpdmU6dGFiSGVhZGluZ1xuICogQHJlc3RyaWN0IEVBXG4gKlxuICogQGRlc2NyaXB0aW9uXG4gKiBDcmVhdGVzIGFuIEhUTUwgaGVhZGluZyBmb3IgYSB7QGxpbmsgdWkuYm9vdHN0cmFwLnRhYnMuZGlyZWN0aXZlOnRhYiB0YWJ9LiBNdXN0IGJlIHBsYWNlZCBhcyBhIGNoaWxkIG9mIGEgdGFiIGVsZW1lbnQuXG4gKlxuICogQGV4YW1wbGVcbjxleGFtcGxlIG1vZHVsZT1cInVpLmJvb3RzdHJhcFwiPlxuICA8ZmlsZSBuYW1lPVwiaW5kZXguaHRtbFwiPlxuICAgIDx0YWJzZXQ+XG4gICAgICA8dGFiPlxuICAgICAgICA8dGFiLWhlYWRpbmc+PGI+SFRNTDwvYj4gaW4gbXkgdGl0bGVzPyE8L3RhYi1oZWFkaW5nPlxuICAgICAgICBBbmQgc29tZSBjb250ZW50LCB0b28hXG4gICAgICA8L3RhYj5cbiAgICAgIDx0YWI+XG4gICAgICAgIDx0YWItaGVhZGluZz48aSBjbGFzcz1cImljb24taGVhcnRcIj48L2k+IEljb24gaGVhZGluZz8hPzwvdGFiLWhlYWRpbmc+XG4gICAgICAgIFRoYXQncyByaWdodC5cbiAgICAgIDwvdGFiPlxuICAgIDwvdGFic2V0PlxuICA8L2ZpbGU+XG48L2V4YW1wbGU+XG4gKi9cbi5kaXJlY3RpdmUoJ3RhYicsIFsnJHBhcnNlJywgJyRsb2cnLCBmdW5jdGlvbigkcGFyc2UsICRsb2cpIHtcbiAgcmV0dXJuIHtcbiAgICByZXF1aXJlOiAnXnRhYnNldCcsXG4gICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICB0ZW1wbGF0ZVVybDogJ3RlbXBsYXRlL3RhYnMvdGFiLmh0bWwnLFxuICAgIHRyYW5zY2x1ZGU6IHRydWUsXG4gICAgc2NvcGU6IHtcbiAgICAgIGFjdGl2ZTogJz0/JyxcbiAgICAgIGhlYWRpbmc6ICdAJyxcbiAgICAgIG9uU2VsZWN0OiAnJnNlbGVjdCcsIC8vVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgaW4gY29udGVudEhlYWRpbmdUcmFuc2NsdWRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgIC8vb25jZSBpdCBpbnNlcnRzIHRoZSB0YWIncyBjb250ZW50IGludG8gdGhlIGRvbVxuICAgICAgb25EZXNlbGVjdDogJyZkZXNlbGVjdCdcbiAgICB9LFxuICAgIGNvbnRyb2xsZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgLy9FbXB0eSBjb250cm9sbGVyIHNvIG90aGVyIGRpcmVjdGl2ZXMgY2FuIHJlcXVpcmUgYmVpbmcgJ3VuZGVyJyBhIHRhYlxuICAgIH0sXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMsIHRhYnNldEN0cmwsIHRyYW5zY2x1ZGUpIHtcbiAgICAgIHNjb3BlLiR3YXRjaCgnYWN0aXZlJywgZnVuY3Rpb24oYWN0aXZlKSB7XG4gICAgICAgIGlmIChhY3RpdmUpIHtcbiAgICAgICAgICB0YWJzZXRDdHJsLnNlbGVjdChzY29wZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBzY29wZS5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgaWYgKGF0dHJzLmRpc2FibGUpIHtcbiAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLmRpc2FibGUpLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHNjb3BlLmRpc2FibGVkID0gISEgdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBEZXByZWNhdGlvbiBzdXBwb3J0IG9mIFwiZGlzYWJsZWRcIiBwYXJhbWV0ZXJcbiAgICAgIC8vIGZpeCh0YWIpOiBJRTkgZGlzYWJsZWQgYXR0ciByZW5kZXJzIGdyZXkgdGV4dCBvbiBlbmFibGVkIHRhYiAjMjY3N1xuICAgICAgLy8gVGhpcyBjb2RlIGlzIGR1cGxpY2F0ZWQgZnJvbSB0aGUgbGluZXMgYWJvdmUgdG8gbWFrZSBpdCBlYXN5IHRvIHJlbW92ZSBvbmNlXG4gICAgICAvLyB0aGUgZmVhdHVyZSBoYXMgYmVlbiBjb21wbGV0ZWx5IGRlcHJlY2F0ZWRcbiAgICAgIGlmIChhdHRycy5kaXNhYmxlZCkge1xuICAgICAgICAkbG9nLndhcm4oJ1VzZSBvZiBcImRpc2FibGVkXCIgYXR0cmlidXRlIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIHBsZWFzZSB1c2UgXCJkaXNhYmxlXCInKTtcbiAgICAgICAgc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKGF0dHJzLmRpc2FibGVkKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICBzY29wZS5kaXNhYmxlZCA9ICEhIHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgc2NvcGUuc2VsZWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICghc2NvcGUuZGlzYWJsZWQpIHtcbiAgICAgICAgICBzY29wZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICB0YWJzZXRDdHJsLmFkZFRhYihzY29wZSk7XG4gICAgICBzY29wZS4kb24oJyRkZXN0cm95JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIHRhYnNldEN0cmwucmVtb3ZlVGFiKHNjb3BlKTtcbiAgICAgIH0pO1xuXG4gICAgICAvL1dlIG5lZWQgdG8gdHJhbnNjbHVkZSBsYXRlciwgb25jZSB0aGUgY29udGVudCBjb250YWluZXIgaXMgcmVhZHkuXG4gICAgICAvL3doZW4gdGhpcyBsaW5rIGhhcHBlbnMsIHdlJ3JlIGluc2lkZSBhIHRhYiBoZWFkaW5nLlxuICAgICAgc2NvcGUuJHRyYW5zY2x1ZGVGbiA9IHRyYW5zY2x1ZGU7XG4gICAgfVxuICB9O1xufV0pXG5cbi5kaXJlY3RpdmUoJ3RhYkhlYWRpbmdUcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXnRhYicsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMsIHRhYkN0cmwpIHtcbiAgICAgIHNjb3BlLiR3YXRjaCgnaGVhZGluZ0VsZW1lbnQnLCBmdW5jdGlvbiB1cGRhdGVIZWFkaW5nRWxlbWVudChoZWFkaW5nKSB7XG4gICAgICAgIGlmIChoZWFkaW5nKSB7XG4gICAgICAgICAgZWxtLmh0bWwoJycpO1xuICAgICAgICAgIGVsbS5hcHBlbmQoaGVhZGluZyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn0pXG5cbi5kaXJlY3RpdmUoJ3RhYkNvbnRlbnRUcmFuc2NsdWRlJywgZnVuY3Rpb24oKSB7XG4gIHJldHVybiB7XG4gICAgcmVzdHJpY3Q6ICdBJyxcbiAgICByZXF1aXJlOiAnXnRhYnNldCcsXG4gICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsbSwgYXR0cnMpIHtcbiAgICAgIHZhciB0YWIgPSBzY29wZS4kZXZhbChhdHRycy50YWJDb250ZW50VHJhbnNjbHVkZSk7XG5cbiAgICAgIC8vTm93IG91ciB0YWIgaXMgcmVhZHkgdG8gYmUgdHJhbnNjbHVkZWQ6IGJvdGggdGhlIHRhYiBoZWFkaW5nIGFyZWFcbiAgICAgIC8vYW5kIHRoZSB0YWIgY29udGVudCBhcmVhIGFyZSBsb2FkZWQuICBUcmFuc2NsdWRlICdlbSBib3RoLlxuICAgICAgdGFiLiR0cmFuc2NsdWRlRm4odGFiLiRwYXJlbnQsIGZ1bmN0aW9uKGNvbnRlbnRzKSB7XG4gICAgICAgIGFuZ3VsYXIuZm9yRWFjaChjb250ZW50cywgZnVuY3Rpb24obm9kZSkge1xuICAgICAgICAgIGlmIChpc1RhYkhlYWRpbmcobm9kZSkpIHtcbiAgICAgICAgICAgIC8vTGV0IHRhYkhlYWRpbmdUcmFuc2NsdWRlIGtub3cuXG4gICAgICAgICAgICB0YWIuaGVhZGluZ0VsZW1lbnQgPSBub2RlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbG0uYXBwZW5kKG5vZGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gaXNUYWJIZWFkaW5nKG5vZGUpIHtcbiAgICByZXR1cm4gbm9kZS50YWdOYW1lICYmIChcbiAgICAgIG5vZGUuaGFzQXR0cmlidXRlKCd0YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS10YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLmhhc0F0dHJpYnV0ZSgneC10YWItaGVhZGluZycpIHx8XG4gICAgICBub2RlLnRhZ05hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RhYi1oZWFkaW5nJyB8fFxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdkYXRhLXRhYi1oZWFkaW5nJyB8fFxuICAgICAgbm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09ICd4LXRhYi1oZWFkaW5nJ1xuICAgICk7XG4gIH1cbn0pO1xuXG5hbmd1bGFyLm1vZHVsZSgndWkuYm9vdHN0cmFwLnRpbWVwaWNrZXInLCBbXSlcblxuLmNvbnN0YW50KCd0aW1lcGlja2VyQ29uZmlnJywge1xuICBob3VyU3RlcDogMSxcbiAgbWludXRlU3RlcDogMSxcbiAgc2hvd01lcmlkaWFuOiB0cnVlLFxuICBtZXJpZGlhbnM6IG51bGwsXG4gIHJlYWRvbmx5SW5wdXQ6IGZhbHNlLFxuICBtb3VzZXdoZWVsOiB0cnVlLFxuICBhcnJvd2tleXM6IHRydWUsXG4gIHNob3dTcGlubmVyczogdHJ1ZVxufSlcblxuLmNvbnRyb2xsZXIoJ1RpbWVwaWNrZXJDb250cm9sbGVyJywgWyckc2NvcGUnLCAnJGF0dHJzJywgJyRwYXJzZScsICckbG9nJywgJyRsb2NhbGUnLCAndGltZXBpY2tlckNvbmZpZycsIGZ1bmN0aW9uKCRzY29wZSwgJGF0dHJzLCAkcGFyc2UsICRsb2csICRsb2NhbGUsIHRpbWVwaWNrZXJDb25maWcpIHtcbiAgdmFyIHNlbGVjdGVkID0gbmV3IERhdGUoKSxcbiAgICAgIG5nTW9kZWxDdHJsID0geyAkc2V0Vmlld1ZhbHVlOiBhbmd1bGFyLm5vb3AgfSwgLy8gbnVsbE1vZGVsQ3RybFxuICAgICAgbWVyaWRpYW5zID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1lcmlkaWFucykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMubWVyaWRpYW5zKSA6IHRpbWVwaWNrZXJDb25maWcubWVyaWRpYW5zIHx8ICRsb2NhbGUuREFURVRJTUVfRk9STUFUUy5BTVBNUztcblxuICB0aGlzLmluaXQgPSBmdW5jdGlvbihuZ01vZGVsQ3RybF8sIGlucHV0cykge1xuICAgIG5nTW9kZWxDdHJsID0gbmdNb2RlbEN0cmxfO1xuICAgIG5nTW9kZWxDdHJsLiRyZW5kZXIgPSB0aGlzLnJlbmRlcjtcblxuICAgIG5nTW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnVuc2hpZnQoZnVuY3Rpb24obW9kZWxWYWx1ZSkge1xuICAgICAgcmV0dXJuIG1vZGVsVmFsdWUgPyBuZXcgRGF0ZShtb2RlbFZhbHVlKSA6IG51bGw7XG4gICAgfSk7XG5cbiAgICB2YXIgaG91cnNJbnB1dEVsID0gaW5wdXRzLmVxKDApLFxuICAgICAgICBtaW51dGVzSW5wdXRFbCA9IGlucHV0cy5lcSgxKTtcblxuICAgIHZhciBtb3VzZXdoZWVsID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLm1vdXNld2hlZWwpID8gJHNjb3BlLiRwYXJlbnQuJGV2YWwoJGF0dHJzLm1vdXNld2hlZWwpIDogdGltZXBpY2tlckNvbmZpZy5tb3VzZXdoZWVsO1xuICAgIGlmIChtb3VzZXdoZWVsKSB7XG4gICAgICB0aGlzLnNldHVwTW91c2V3aGVlbEV2ZW50cyhob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKTtcbiAgICB9XG5cbiAgICB2YXIgYXJyb3drZXlzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLmFycm93a2V5cykgPyAkc2NvcGUuJHBhcmVudC4kZXZhbCgkYXR0cnMuYXJyb3drZXlzKSA6IHRpbWVwaWNrZXJDb25maWcuYXJyb3drZXlzO1xuICAgIGlmIChhcnJvd2tleXMpIHtcbiAgICAgIHRoaXMuc2V0dXBBcnJvd2tleUV2ZW50cyhob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKTtcbiAgICB9XG5cbiAgICAkc2NvcGUucmVhZG9ubHlJbnB1dCA9IGFuZ3VsYXIuaXNEZWZpbmVkKCRhdHRycy5yZWFkb25seUlucHV0KSA/ICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5yZWFkb25seUlucHV0KSA6IHRpbWVwaWNrZXJDb25maWcucmVhZG9ubHlJbnB1dDtcbiAgICB0aGlzLnNldHVwSW5wdXRFdmVudHMoaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCk7XG4gIH07XG5cbiAgdmFyIGhvdXJTdGVwID0gdGltZXBpY2tlckNvbmZpZy5ob3VyU3RlcDtcbiAgaWYgKCRhdHRycy5ob3VyU3RlcCkge1xuICAgICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLmhvdXJTdGVwKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIGhvdXJTdGVwID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciBtaW51dGVTdGVwID0gdGltZXBpY2tlckNvbmZpZy5taW51dGVTdGVwO1xuICBpZiAoJGF0dHJzLm1pbnV0ZVN0ZXApIHtcbiAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5taW51dGVTdGVwKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIG1pbnV0ZVN0ZXAgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIG1pbjtcbiAgJHNjb3BlLiRwYXJlbnQuJHdhdGNoKCRwYXJzZSgkYXR0cnMubWluKSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgbWluID0gaXNOYU4oZHQpID8gdW5kZWZpbmVkIDogZHQ7XG4gIH0pO1xuXG4gIHZhciBtYXg7XG4gICRzY29wZS4kcGFyZW50LiR3YXRjaCgkcGFyc2UoJGF0dHJzLm1heCksIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgdmFyIGR0ID0gbmV3IERhdGUodmFsdWUpO1xuICAgIG1heCA9IGlzTmFOKGR0KSA/IHVuZGVmaW5lZCA6IGR0O1xuICB9KTtcblxuICAkc2NvcGUubm9JbmNyZW1lbnRIb3VycyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbmNyZW1lbnRlZFNlbGVjdGVkID0gYWRkTWludXRlcyhzZWxlY3RlZCwgaG91clN0ZXAgKiA2MCk7XG4gICAgcmV0dXJuIGluY3JlbWVudGVkU2VsZWN0ZWQgPiBtYXggfHxcbiAgICAgIChpbmNyZW1lbnRlZFNlbGVjdGVkIDwgc2VsZWN0ZWQgJiYgaW5jcmVtZW50ZWRTZWxlY3RlZCA8IG1pbik7XG4gIH07XG5cbiAgJHNjb3BlLm5vRGVjcmVtZW50SG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGVjcmVtZW50ZWRTZWxlY3RlZCA9IGFkZE1pbnV0ZXMoc2VsZWN0ZWQsIC1ob3VyU3RlcCAqIDYwKTtcbiAgICByZXR1cm4gZGVjcmVtZW50ZWRTZWxlY3RlZCA8IG1pbiB8fFxuICAgICAgKGRlY3JlbWVudGVkU2VsZWN0ZWQgPiBzZWxlY3RlZCAmJiBkZWNyZW1lbnRlZFNlbGVjdGVkID4gbWF4KTtcbiAgfTtcblxuICAkc2NvcGUubm9JbmNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluY3JlbWVudGVkU2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCBtaW51dGVTdGVwKTtcbiAgICByZXR1cm4gaW5jcmVtZW50ZWRTZWxlY3RlZCA+IG1heCB8fFxuICAgICAgKGluY3JlbWVudGVkU2VsZWN0ZWQgPCBzZWxlY3RlZCAmJiBpbmNyZW1lbnRlZFNlbGVjdGVkIDwgbWluKTtcbiAgfTtcblxuICAkc2NvcGUubm9EZWNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRlY3JlbWVudGVkU2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCAtbWludXRlU3RlcCk7XG4gICAgcmV0dXJuIGRlY3JlbWVudGVkU2VsZWN0ZWQgPCBtaW4gfHxcbiAgICAgIChkZWNyZW1lbnRlZFNlbGVjdGVkID4gc2VsZWN0ZWQgJiYgZGVjcmVtZW50ZWRTZWxlY3RlZCA+IG1heCk7XG4gIH07XG5cbiAgJHNjb3BlLm5vVG9nZ2xlTWVyaWRpYW4gPSBmdW5jdGlvbigpIHtcbiAgICBpZiAoc2VsZWN0ZWQuZ2V0SG91cnMoKSA8IDEzKSB7XG4gICAgICByZXR1cm4gYWRkTWludXRlcyhzZWxlY3RlZCwgMTIgKiA2MCkgPiBtYXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBhZGRNaW51dGVzKHNlbGVjdGVkLCAtMTIgKiA2MCkgPCBtaW47XG4gICAgfVxuICB9O1xuXG4gIC8vIDEySCAvIDI0SCBtb2RlXG4gICRzY29wZS5zaG93TWVyaWRpYW4gPSB0aW1lcGlja2VyQ29uZmlnLnNob3dNZXJpZGlhbjtcbiAgaWYgKCRhdHRycy5zaG93TWVyaWRpYW4pIHtcbiAgICAkc2NvcGUuJHBhcmVudC4kd2F0Y2goJHBhcnNlKCRhdHRycy5zaG93TWVyaWRpYW4pLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgJHNjb3BlLnNob3dNZXJpZGlhbiA9ICEhdmFsdWU7XG5cbiAgICAgIGlmIChuZ01vZGVsQ3RybC4kZXJyb3IudGltZSkge1xuICAgICAgICAvLyBFdmFsdWF0ZSBmcm9tIHRlbXBsYXRlXG4gICAgICAgIHZhciBob3VycyA9IGdldEhvdXJzRnJvbVRlbXBsYXRlKCksIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCk7XG4gICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChob3VycykgJiYgYW5ndWxhci5pc0RlZmluZWQobWludXRlcykpIHtcbiAgICAgICAgICBzZWxlY3RlZC5zZXRIb3Vycyhob3Vycyk7XG4gICAgICAgICAgcmVmcmVzaCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1cGRhdGVUZW1wbGF0ZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gR2V0ICRzY29wZS5ob3VycyBpbiAyNEggbW9kZSBpZiB2YWxpZFxuICBmdW5jdGlvbiBnZXRIb3Vyc0Zyb21UZW1wbGF0ZSgpIHtcbiAgICB2YXIgaG91cnMgPSBwYXJzZUludCgkc2NvcGUuaG91cnMsIDEwKTtcbiAgICB2YXIgdmFsaWQgPSAkc2NvcGUuc2hvd01lcmlkaWFuID8gKGhvdXJzID4gMCAmJiBob3VycyA8IDEzKSA6IChob3VycyA+PSAwICYmIGhvdXJzIDwgMjQpO1xuICAgIGlmICghdmFsaWQpIHtcbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaWYgKCRzY29wZS5zaG93TWVyaWRpYW4pIHtcbiAgICAgIGlmIChob3VycyA9PT0gMTIpIHtcbiAgICAgICAgaG91cnMgPSAwO1xuICAgICAgfVxuICAgICAgaWYgKCRzY29wZS5tZXJpZGlhbiA9PT0gbWVyaWRpYW5zWzFdKSB7XG4gICAgICAgIGhvdXJzID0gaG91cnMgKyAxMjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhvdXJzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWludXRlc0Zyb21UZW1wbGF0ZSgpIHtcbiAgICB2YXIgbWludXRlcyA9IHBhcnNlSW50KCRzY29wZS5taW51dGVzLCAxMCk7XG4gICAgcmV0dXJuIChtaW51dGVzID49IDAgJiYgbWludXRlcyA8IDYwKSA/IG1pbnV0ZXMgOiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBwYWQodmFsdWUpIHtcbiAgICByZXR1cm4gKGFuZ3VsYXIuaXNEZWZpbmVkKHZhbHVlKSAmJiB2YWx1ZS50b1N0cmluZygpLmxlbmd0aCA8IDIpID8gJzAnICsgdmFsdWUgOiB2YWx1ZS50b1N0cmluZygpO1xuICB9XG5cbiAgLy8gUmVzcG9uZCBvbiBtb3VzZXdoZWVsIHNwaW5cbiAgdGhpcy5zZXR1cE1vdXNld2hlZWxFdmVudHMgPSBmdW5jdGlvbihob3Vyc0lucHV0RWwsIG1pbnV0ZXNJbnB1dEVsKSB7XG4gICAgdmFyIGlzU2Nyb2xsaW5nVXAgPSBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoZS5vcmlnaW5hbEV2ZW50KSB7XG4gICAgICAgIGUgPSBlLm9yaWdpbmFsRXZlbnQ7XG4gICAgICB9XG4gICAgICAvL3BpY2sgY29ycmVjdCBkZWx0YSB2YXJpYWJsZSBkZXBlbmRpbmcgb24gZXZlbnRcbiAgICAgIHZhciBkZWx0YSA9IChlLndoZWVsRGVsdGEpID8gZS53aGVlbERlbHRhIDogLWUuZGVsdGFZO1xuICAgICAgcmV0dXJuIChlLmRldGFpbCB8fCBkZWx0YSA+IDApO1xuICAgIH07XG5cbiAgICBob3Vyc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICRzY29wZS4kYXBwbHkoaXNTY3JvbGxpbmdVcChlKSA/ICRzY29wZS5pbmNyZW1lbnRIb3VycygpIDogJHNjb3BlLmRlY3JlbWVudEhvdXJzKCkpO1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgbWludXRlc0lucHV0RWwuYmluZCgnbW91c2V3aGVlbCB3aGVlbCcsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICRzY29wZS4kYXBwbHkoaXNTY3JvbGxpbmdVcChlKSA/ICRzY29wZS5pbmNyZW1lbnRNaW51dGVzKCkgOiAkc2NvcGUuZGVjcmVtZW50TWludXRlcygpKTtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICB9O1xuXG4gIC8vIFJlc3BvbmQgb24gdXAvZG93biBhcnJvd2tleXNcbiAgdGhpcy5zZXR1cEFycm93a2V5RXZlbnRzID0gZnVuY3Rpb24oaG91cnNJbnB1dEVsLCBtaW51dGVzSW5wdXRFbCkge1xuICAgIGhvdXJzSW5wdXRFbC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT09IDM4KSB7IC8vIHVwXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNjb3BlLmluY3JlbWVudEhvdXJzKCk7XG4gICAgICAgICRzY29wZS4kYXBwbHkoKTtcbiAgICAgIH0gZWxzZSBpZiAoZS53aGljaCA9PT0gNDApIHsgLy8gZG93blxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICRzY29wZS5kZWNyZW1lbnRIb3VycygpO1xuICAgICAgICAkc2NvcGUuJGFwcGx5KCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBtaW51dGVzSW5wdXRFbC5iaW5kKCdrZXlkb3duJywgZnVuY3Rpb24oZSkge1xuICAgICAgaWYgKGUud2hpY2ggPT09IDM4KSB7IC8vIHVwXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNjb3BlLmluY3JlbWVudE1pbnV0ZXMoKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfSBlbHNlIGlmIChlLndoaWNoID09PSA0MCkgeyAvLyBkb3duXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgJHNjb3BlLmRlY3JlbWVudE1pbnV0ZXMoKTtcbiAgICAgICAgJHNjb3BlLiRhcHBseSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuc2V0dXBJbnB1dEV2ZW50cyA9IGZ1bmN0aW9uKGhvdXJzSW5wdXRFbCwgbWludXRlc0lucHV0RWwpIHtcbiAgICBpZiAoJHNjb3BlLnJlYWRvbmx5SW5wdXQpIHtcbiAgICAgICRzY29wZS51cGRhdGVIb3VycyA9IGFuZ3VsYXIubm9vcDtcbiAgICAgICRzY29wZS51cGRhdGVNaW51dGVzID0gYW5ndWxhci5ub29wO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpbnZhbGlkYXRlID0gZnVuY3Rpb24oaW52YWxpZEhvdXJzLCBpbnZhbGlkTWludXRlcykge1xuICAgICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShudWxsKTtcbiAgICAgIG5nTW9kZWxDdHJsLiRzZXRWYWxpZGl0eSgndGltZScsIGZhbHNlKTtcbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChpbnZhbGlkSG91cnMpKSB7XG4gICAgICAgICRzY29wZS5pbnZhbGlkSG91cnMgPSBpbnZhbGlkSG91cnM7XG4gICAgICB9XG4gICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoaW52YWxpZE1pbnV0ZXMpKSB7XG4gICAgICAgICRzY29wZS5pbnZhbGlkTWludXRlcyA9IGludmFsaWRNaW51dGVzO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAkc2NvcGUudXBkYXRlSG91cnMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBob3VycyA9IGdldEhvdXJzRnJvbVRlbXBsYXRlKCksXG4gICAgICAgIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCk7XG5cbiAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChob3VycykgJiYgYW5ndWxhci5pc0RlZmluZWQobWludXRlcykpIHtcbiAgICAgICAgc2VsZWN0ZWQuc2V0SG91cnMoaG91cnMpO1xuICAgICAgICBpZiAoc2VsZWN0ZWQgPCBtaW4gfHwgc2VsZWN0ZWQgPiBtYXgpIHtcbiAgICAgICAgICBpbnZhbGlkYXRlKHRydWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlZnJlc2goJ2gnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW52YWxpZGF0ZSh0cnVlKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaG91cnNJbnB1dEVsLmJpbmQoJ2JsdXInLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoISRzY29wZS5pbnZhbGlkSG91cnMgJiYgJHNjb3BlLmhvdXJzIDwgMTApIHtcbiAgICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbigpIHtcbiAgICAgICAgICAkc2NvcGUuaG91cnMgPSBwYWQoJHNjb3BlLmhvdXJzKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAkc2NvcGUudXBkYXRlTWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1pbnV0ZXMgPSBnZXRNaW51dGVzRnJvbVRlbXBsYXRlKCksXG4gICAgICAgIGhvdXJzID0gZ2V0SG91cnNGcm9tVGVtcGxhdGUoKTtcblxuICAgICAgaWYgKGFuZ3VsYXIuaXNEZWZpbmVkKG1pbnV0ZXMpICYmIGFuZ3VsYXIuaXNEZWZpbmVkKGhvdXJzKSkge1xuICAgICAgICBzZWxlY3RlZC5zZXRNaW51dGVzKG1pbnV0ZXMpO1xuICAgICAgICBpZiAoc2VsZWN0ZWQgPCBtaW4gfHwgc2VsZWN0ZWQgPiBtYXgpIHtcbiAgICAgICAgICBpbnZhbGlkYXRlKHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVmcmVzaCgnbScpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnZhbGlkYXRlKHVuZGVmaW5lZCwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIG1pbnV0ZXNJbnB1dEVsLmJpbmQoJ2JsdXInLCBmdW5jdGlvbihlKSB7XG4gICAgICBpZiAoISRzY29wZS5pbnZhbGlkTWludXRlcyAmJiAkc2NvcGUubWludXRlcyA8IDEwKSB7XG4gICAgICAgICRzY29wZS4kYXBwbHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJHNjb3BlLm1pbnV0ZXMgPSBwYWQoJHNjb3BlLm1pbnV0ZXMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICB9O1xuXG4gIHRoaXMucmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGUgPSBuZ01vZGVsQ3RybC4kdmlld1ZhbHVlO1xuXG4gICAgaWYgKGlzTmFOKGRhdGUpKSB7XG4gICAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCBmYWxzZSk7XG4gICAgICAkbG9nLmVycm9yKCdUaW1lcGlja2VyIGRpcmVjdGl2ZTogXCJuZy1tb2RlbFwiIHZhbHVlIG11c3QgYmUgYSBEYXRlIG9iamVjdCwgYSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIDAxLjAxLjE5NzAgb3IgYSBzdHJpbmcgcmVwcmVzZW50aW5nIGFuIFJGQzI4MjIgb3IgSVNPIDg2MDEgZGF0ZS4nKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgc2VsZWN0ZWQgPSBkYXRlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VsZWN0ZWQgPCBtaW4gfHwgc2VsZWN0ZWQgPiBtYXgpIHtcbiAgICAgICAgbmdNb2RlbEN0cmwuJHNldFZhbGlkaXR5KCd0aW1lJywgZmFsc2UpO1xuICAgICAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gdHJ1ZTtcbiAgICAgICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1ha2VWYWxpZCgpO1xuICAgICAgfVxuICAgICAgdXBkYXRlVGVtcGxhdGUoKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gQ2FsbCBpbnRlcm5hbGx5IHdoZW4gd2Uga25vdyB0aGF0IG1vZGVsIGlzIHZhbGlkLlxuICBmdW5jdGlvbiByZWZyZXNoKGtleWJvYXJkQ2hhbmdlKSB7XG4gICAgbWFrZVZhbGlkKCk7XG4gICAgbmdNb2RlbEN0cmwuJHNldFZpZXdWYWx1ZShuZXcgRGF0ZShzZWxlY3RlZCkpO1xuICAgIHVwZGF0ZVRlbXBsYXRlKGtleWJvYXJkQ2hhbmdlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1ha2VWYWxpZCgpIHtcbiAgICBuZ01vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3RpbWUnLCB0cnVlKTtcbiAgICAkc2NvcGUuaW52YWxpZEhvdXJzID0gZmFsc2U7XG4gICAgJHNjb3BlLmludmFsaWRNaW51dGVzID0gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVUZW1wbGF0ZShrZXlib2FyZENoYW5nZSkge1xuICAgIHZhciBob3VycyA9IHNlbGVjdGVkLmdldEhvdXJzKCksIG1pbnV0ZXMgPSBzZWxlY3RlZC5nZXRNaW51dGVzKCk7XG5cbiAgICBpZiAoJHNjb3BlLnNob3dNZXJpZGlhbikge1xuICAgICAgaG91cnMgPSAoaG91cnMgPT09IDAgfHwgaG91cnMgPT09IDEyKSA/IDEyIDogaG91cnMgJSAxMjsgLy8gQ29udmVydCAyNCB0byAxMiBob3VyIHN5c3RlbVxuICAgIH1cblxuICAgICRzY29wZS5ob3VycyA9IGtleWJvYXJkQ2hhbmdlID09PSAnaCcgPyBob3VycyA6IHBhZChob3Vycyk7XG4gICAgaWYgKGtleWJvYXJkQ2hhbmdlICE9PSAnbScpIHtcbiAgICAgICRzY29wZS5taW51dGVzID0gcGFkKG1pbnV0ZXMpO1xuICAgIH1cbiAgICAkc2NvcGUubWVyaWRpYW4gPSBzZWxlY3RlZC5nZXRIb3VycygpIDwgMTIgPyBtZXJpZGlhbnNbMF0gOiBtZXJpZGlhbnNbMV07XG4gIH1cblxuICBmdW5jdGlvbiBhZGRNaW51dGVzKGRhdGUsIG1pbnV0ZXMpIHtcbiAgICB2YXIgZHQgPSBuZXcgRGF0ZShkYXRlLmdldFRpbWUoKSArIG1pbnV0ZXMgKiA2MDAwMCk7XG4gICAgdmFyIG5ld0RhdGUgPSBuZXcgRGF0ZShkYXRlKTtcbiAgICBuZXdEYXRlLnNldEhvdXJzKGR0LmdldEhvdXJzKCksIGR0LmdldE1pbnV0ZXMoKSk7XG4gICAgcmV0dXJuIG5ld0RhdGU7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRNaW51dGVzVG9TZWxlY3RlZChtaW51dGVzKSB7XG4gICAgc2VsZWN0ZWQgPSBhZGRNaW51dGVzKHNlbGVjdGVkLCBtaW51dGVzKTtcbiAgICByZWZyZXNoKCk7XG4gIH1cblxuICAkc2NvcGUuc2hvd1NwaW5uZXJzID0gYW5ndWxhci5pc0RlZmluZWQoJGF0dHJzLnNob3dTcGlubmVycykgP1xuICAgICRzY29wZS4kcGFyZW50LiRldmFsKCRhdHRycy5zaG93U3Bpbm5lcnMpIDogdGltZXBpY2tlckNvbmZpZy5zaG93U3Bpbm5lcnM7XG5cbiAgJHNjb3BlLmluY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9JbmNyZW1lbnRIb3VycygpKSB7XG4gICAgICBhZGRNaW51dGVzVG9TZWxlY3RlZChob3VyU3RlcCAqIDYwKTtcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLmRlY3JlbWVudEhvdXJzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9EZWNyZW1lbnRIb3VycygpKSB7XG4gICAgICBhZGRNaW51dGVzVG9TZWxlY3RlZCgtaG91clN0ZXAgKiA2MCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS5pbmNyZW1lbnRNaW51dGVzID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKCEkc2NvcGUubm9JbmNyZW1lbnRNaW51dGVzKCkpIHtcbiAgICAgIGFkZE1pbnV0ZXNUb1NlbGVjdGVkKG1pbnV0ZVN0ZXApO1xuICAgIH1cbiAgfTtcblxuICAkc2NvcGUuZGVjcmVtZW50TWludXRlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vRGVjcmVtZW50TWludXRlcygpKSB7XG4gICAgICBhZGRNaW51dGVzVG9TZWxlY3RlZCgtbWludXRlU3RlcCk7XG4gICAgfVxuICB9O1xuXG4gICRzY29wZS50b2dnbGVNZXJpZGlhbiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICghJHNjb3BlLm5vVG9nZ2xlTWVyaWRpYW4oKSkge1xuICAgICAgYWRkTWludXRlc1RvU2VsZWN0ZWQoMTIgKiA2MCAqIChzZWxlY3RlZC5nZXRIb3VycygpIDwgMTIgPyAxIDogLTEpKTtcbiAgICB9XG4gIH07XG59XSlcblxuLmRpcmVjdGl2ZSgndGltZXBpY2tlcicsIGZ1bmN0aW9uKCkge1xuICByZXR1cm4ge1xuICAgIHJlc3RyaWN0OiAnRUEnLFxuICAgIHJlcXVpcmU6IFsndGltZXBpY2tlcicsICc/Xm5nTW9kZWwnXSxcbiAgICBjb250cm9sbGVyOidUaW1lcGlja2VyQ29udHJvbGxlcicsXG4gICAgY29udHJvbGxlckFzOiAndGltZXBpY2tlcicsXG4gICAgcmVwbGFjZTogdHJ1ZSxcbiAgICBzY29wZToge30sXG4gICAgdGVtcGxhdGVVcmw6IGZ1bmN0aW9uKGVsZW1lbnQsIGF0dHJzKSB7XG4gICAgICByZXR1cm4gYXR0cnMudGVtcGxhdGVVcmwgfHwgJ3RlbXBsYXRlL3RpbWVwaWNrZXIvdGltZXBpY2tlci5odG1sJztcbiAgICB9LFxuICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycywgY3RybHMpIHtcbiAgICAgIHZhciB0aW1lcGlja2VyQ3RybCA9IGN0cmxzWzBdLCBuZ01vZGVsQ3RybCA9IGN0cmxzWzFdO1xuXG4gICAgICBpZiAobmdNb2RlbEN0cmwpIHtcbiAgICAgICAgdGltZXBpY2tlckN0cmwuaW5pdChuZ01vZGVsQ3RybCwgZWxlbWVudC5maW5kKCdpbnB1dCcpKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59KTtcblxuYW5ndWxhci5tb2R1bGUoJ3VpLmJvb3RzdHJhcC50cmFuc2l0aW9uJywgW10pXG5cbi52YWx1ZSgnJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQnLCBmYWxzZSlcbi8qKlxuICogJHRyYW5zaXRpb24gc2VydmljZSBwcm92aWRlcyBhIGNvbnNpc3RlbnQgaW50ZXJmYWNlIHRvIHRyaWdnZXIgQ1NTIDMgdHJhbnNpdGlvbnMgYW5kIHRvIGJlIGluZm9ybWVkIHdoZW4gdGhleSBjb21wbGV0ZS5cbiAqIEBwYXJhbSAge0RPTUVsZW1lbnR9IGVsZW1lbnQgIFRoZSBET01FbGVtZW50IHRoYXQgd2lsbCBiZSBhbmltYXRlZC5cbiAqIEBwYXJhbSAge3N0cmluZ3xvYmplY3R8ZnVuY3Rpb259IHRyaWdnZXIgIFRoZSB0aGluZyB0aGF0IHdpbGwgY2F1c2UgdGhlIHRyYW5zaXRpb24gdG8gc3RhcnQ6XG4gKiAgIC0gQXMgYSBzdHJpbmcsIGl0IHJlcHJlc2VudHMgdGhlIGNzcyBjbGFzcyB0byBiZSBhZGRlZCB0byB0aGUgZWxlbWVudC5cbiAqICAgLSBBcyBhbiBvYmplY3QsIGl0IHJlcHJlc2VudHMgYSBoYXNoIG9mIHN0eWxlIGF0dHJpYnV0ZXMgdG8gYmUgYXBwbGllZCB0byB0aGUgZWxlbWVudC5cbiAqICAgLSBBcyBhIGZ1bmN0aW9uLCBpdCByZXByZXNlbnRzIGEgZnVuY3Rpb24gdG8gYmUgY2FsbGVkIHRoYXQgd2lsbCBjYXVzZSB0aGUgdHJhbnNpdGlvbiB0byBvY2N1ci5cbiAqIEByZXR1cm4ge1Byb21pc2V9ICBBIHByb21pc2UgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSB0cmFuc2l0aW9uIGZpbmlzaGVzLlxuICovXG4uZmFjdG9yeSgnJHRyYW5zaXRpb24nLCBbXG4gICAgICAgICckcScsICckdGltZW91dCcsICckcm9vdFNjb3BlJywgJyRsb2cnLCAnJHRyYW5zaXRpb25TdXBwcmVzc0RlcHJlY2F0ZWQnLFxuZnVuY3Rpb24oJHEgLCAgJHRpbWVvdXQgLCAgJHJvb3RTY29wZSAsICAkbG9nICwgICR0cmFuc2l0aW9uU3VwcHJlc3NEZXByZWNhdGVkKSB7XG5cbiAgaWYgKCEkdHJhbnNpdGlvblN1cHByZXNzRGVwcmVjYXRlZCkge1xuICAgICRsb2cud2FybignJHRyYW5zaXRpb24gaXMgbm93IGRlcHJlY2F0ZWQuIFVzZSAkYW5pbWF0ZSBmcm9tIG5nQW5pbWF0ZSBpbnN0ZWFkLicpO1xuICB9XG5cbiAgdmFyICR0cmFuc2l0aW9uID0gZnVuY3Rpb24oZWxlbWVudCwgdHJpZ2dlciwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgdmFyIGVuZEV2ZW50TmFtZSA9ICR0cmFuc2l0aW9uW29wdGlvbnMuYW5pbWF0aW9uID8gJ2FuaW1hdGlvbkVuZEV2ZW50TmFtZScgOiAndHJhbnNpdGlvbkVuZEV2ZW50TmFtZSddO1xuXG4gICAgdmFyIHRyYW5zaXRpb25FbmRIYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICRyb290U2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICBlbGVtZW50LnVuYmluZChlbmRFdmVudE5hbWUsIHRyYW5zaXRpb25FbmRIYW5kbGVyKTtcbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShlbGVtZW50KTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBpZiAoZW5kRXZlbnROYW1lKSB7XG4gICAgICBlbGVtZW50LmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgfVxuXG4gICAgLy8gV3JhcCBpbiBhIHRpbWVvdXQgdG8gYWxsb3cgdGhlIGJyb3dzZXIgdGltZSB0byB1cGRhdGUgdGhlIERPTSBiZWZvcmUgdGhlIHRyYW5zaXRpb24gaXMgdG8gb2NjdXJcbiAgICAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIGlmICggYW5ndWxhci5pc1N0cmluZyh0cmlnZ2VyKSApIHtcbiAgICAgICAgZWxlbWVudC5hZGRDbGFzcyh0cmlnZ2VyKTtcbiAgICAgIH0gZWxzZSBpZiAoIGFuZ3VsYXIuaXNGdW5jdGlvbih0cmlnZ2VyKSApIHtcbiAgICAgICAgdHJpZ2dlcihlbGVtZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoIGFuZ3VsYXIuaXNPYmplY3QodHJpZ2dlcikgKSB7XG4gICAgICAgIGVsZW1lbnQuY3NzKHRyaWdnZXIpO1xuICAgICAgfVxuICAgICAgLy9JZiBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgdHJhbnNpdGlvbnMsIGluc3RhbnRseSByZXNvbHZlXG4gICAgICBpZiAoICFlbmRFdmVudE5hbWUgKSB7XG4gICAgICAgIGRlZmVycmVkLnJlc29sdmUoZWxlbWVudCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgb3VyIGN1c3RvbSBjYW5jZWwgZnVuY3Rpb24gdG8gdGhlIHByb21pc2UgdGhhdCBpcyByZXR1cm5lZFxuICAgIC8vIFdlIGNhbiBjYWxsIHRoaXMgaWYgd2UgYXJlIGFib3V0IHRvIHJ1biBhIG5ldyB0cmFuc2l0aW9uLCB3aGljaCB3ZSBrbm93IHdpbGwgcHJldmVudCB0aGlzIHRyYW5zaXRpb24gZnJvbSBlbmRpbmcsXG4gICAgLy8gaS5lLiBpdCB3aWxsIHRoZXJlZm9yZSBuZXZlciByYWlzZSBhIHRyYW5zaXRpb25FbmQgZXZlbnQgZm9yIHRoYXQgdHJhbnNpdGlvblxuICAgIGRlZmVycmVkLnByb21pc2UuY2FuY2VsID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoIGVuZEV2ZW50TmFtZSApIHtcbiAgICAgICAgZWxlbWVudC51bmJpbmQoZW5kRXZlbnROYW1lLCB0cmFuc2l0aW9uRW5kSGFuZGxlcik7XG4gICAgICB9XG4gICAgICBkZWZlcnJlZC5yZWplY3QoJ1RyYW5zaXRpb24gY2FuY2VsbGVkJyk7XG4gICAgfTtcblxuICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICB9O1xuXG4gIC8vIFdvcmsgb3V0IHRoZSBuYW1lIG9mIHRoZSB0cmFuc2l0aW9uRW5kIGV2ZW50XG4gIHZhciB0cmFuc0VsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0cmFucycpO1xuICB2YXIgdHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMgPSB7XG4gICAgJ1dlYmtpdFRyYW5zaXRpb24nOiAnd2Via2l0VHJhbnNpdGlvbkVuZCcsXG4gICAgJ01velRyYW5zaXRpb24nOiAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29UcmFuc2l0aW9uRW5kJyxcbiAgICAndHJhbnNpdGlvbic6ICd0cmFuc2l0aW9uZW5kJ1xuICB9O1xuICB2YXIgYW5pbWF0aW9uRW5kRXZlbnROYW1lcyA9IHtcbiAgICAnV2Via2l0VHJhbnNpdGlvbic6ICd3ZWJraXRBbmltYXRpb25FbmQnLFxuICAgICdNb3pUcmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCcsXG4gICAgJ09UcmFuc2l0aW9uJzogJ29BbmltYXRpb25FbmQnLFxuICAgICd0cmFuc2l0aW9uJzogJ2FuaW1hdGlvbmVuZCdcbiAgfTtcbiAgZnVuY3Rpb24gZmluZEVuZEV2ZW50TmFtZShlbmRFdmVudE5hbWVzKSB7XG4gICAgZm9yICh2YXIgbmFtZSBpbiBlbmRFdmVudE5hbWVzKXtcbiAgICAgIGlmICh0cmFuc0VsZW1lbnQuc3R5bGVbbmFtZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gZW5kRXZlbnROYW1lc1tuYW1lXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgJHRyYW5zaXRpb24udHJhbnNpdGlvbkVuZEV2ZW50TmFtZSA9IGZpbmRFbmRFdmVudE5hbWUodHJhbnNpdGlvbkVuZEV2ZW50TmFtZXMpO1xuICAkdHJhbnNpdGlvbi5hbmltYXRpb25FbmRFdmVudE5hbWUgPSBmaW5kRW5kRXZlbnROYW1lKGFuaW1hdGlvbkVuZEV2ZW50TmFtZXMpO1xuICByZXR1cm4gJHRyYW5zaXRpb247XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKCd1aS5ib290c3RyYXAudHlwZWFoZWFkJywgWyd1aS5ib290c3RyYXAucG9zaXRpb24nXSlcblxuLyoqXG4gKiBBIGhlbHBlciBzZXJ2aWNlIHRoYXQgY2FuIHBhcnNlIHR5cGVhaGVhZCdzIHN5bnRheCAoc3RyaW5nIHByb3ZpZGVkIGJ5IHVzZXJzKVxuICogRXh0cmFjdGVkIHRvIGEgc2VwYXJhdGUgc2VydmljZSBmb3IgZWFzZSBvZiB1bml0IHRlc3RpbmdcbiAqL1xuICAuZmFjdG9yeSgndHlwZWFoZWFkUGFyc2VyJywgWyckcGFyc2UnLCBmdW5jdGlvbigkcGFyc2UpIHtcblxuICAvLyAgICAgICAgICAgICAgICAgICAgICAwMDAwMDExMTAwMDAwMDAwMDAwMDAyMjIwMDAwMDAwMDAwMDAwMDAwMzMzMzMzMzMzMzMzMzMzMDAwMDAwMDAwMDA0NDAwMFxuICB2YXIgVFlQRUFIRUFEX1JFR0VYUCA9IC9eXFxzKihbXFxzXFxTXSs/KSg/Olxccythc1xccysoW1xcc1xcU10rPykpP1xccytmb3JcXHMrKD86KFtcXCRcXHddW1xcJFxcd1xcZF0qKSlcXHMraW5cXHMrKFtcXHNcXFNdKz8pJC87XG5cbiAgcmV0dXJuIHtcbiAgICBwYXJzZTogZnVuY3Rpb24oaW5wdXQpIHtcbiAgICAgIHZhciBtYXRjaCA9IGlucHV0Lm1hdGNoKFRZUEVBSEVBRF9SRUdFWFApO1xuICAgICAgaWYgKCFtYXRjaCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ0V4cGVjdGVkIHR5cGVhaGVhZCBzcGVjaWZpY2F0aW9uIGluIGZvcm0gb2YgXCJfbW9kZWxWYWx1ZV8gKGFzIF9sYWJlbF8pPyBmb3IgX2l0ZW1fIGluIF9jb2xsZWN0aW9uX1wiJyArXG4gICAgICAgICAgICAnIGJ1dCBnb3QgXCInICsgaW5wdXQgKyAnXCIuJyk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGl0ZW1OYW1lOm1hdGNoWzNdLFxuICAgICAgICBzb3VyY2U6JHBhcnNlKG1hdGNoWzRdKSxcbiAgICAgICAgdmlld01hcHBlcjokcGFyc2UobWF0Y2hbMl0gfHwgbWF0Y2hbMV0pLFxuICAgICAgICBtb2RlbE1hcHBlcjokcGFyc2UobWF0Y2hbMV0pXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1dKVxuXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZCcsIFsnJGNvbXBpbGUnLCAnJHBhcnNlJywgJyRxJywgJyR0aW1lb3V0JywgJyRkb2N1bWVudCcsICckd2luZG93JywgJyRyb290U2NvcGUnLCAnJHBvc2l0aW9uJywgJ3R5cGVhaGVhZFBhcnNlcicsXG4gICAgZnVuY3Rpb24oJGNvbXBpbGUsICRwYXJzZSwgJHEsICR0aW1lb3V0LCAkZG9jdW1lbnQsICR3aW5kb3csICRyb290U2NvcGUsICRwb3NpdGlvbiwgdHlwZWFoZWFkUGFyc2VyKSB7XG4gICAgdmFyIEhPVF9LRVlTID0gWzksIDEzLCAyNywgMzgsIDQwXTtcbiAgICB2YXIgZXZlbnREZWJvdW5jZVRpbWUgPSAyMDA7XG5cbiAgICByZXR1cm4ge1xuICAgICAgcmVxdWlyZTogWyduZ01vZGVsJywgJ14/bmdNb2RlbE9wdGlvbnMnXSxcbiAgICAgIGxpbms6IGZ1bmN0aW9uKG9yaWdpbmFsU2NvcGUsIGVsZW1lbnQsIGF0dHJzLCBjdHJscykge1xuICAgICAgICB2YXIgbW9kZWxDdHJsID0gY3RybHNbMF07XG4gICAgICAgIHZhciBuZ01vZGVsT3B0aW9ucyA9IGN0cmxzWzFdO1xuICAgICAgICAvL1NVUFBPUlRFRCBBVFRSSUJVVEVTIChPUFRJT05TKVxuXG4gICAgICAgIC8vbWluaW1hbCBubyBvZiBjaGFyYWN0ZXJzIHRoYXQgbmVlZHMgdG8gYmUgZW50ZXJlZCBiZWZvcmUgdHlwZWFoZWFkIGtpY2tzLWluXG4gICAgICAgIHZhciBtaW5MZW5ndGggPSBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZE1pbkxlbmd0aCk7XG4gICAgICAgIGlmICghbWluTGVuZ3RoICYmIG1pbkxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgIG1pbkxlbmd0aCA9IDE7XG4gICAgICAgIH1cblxuICAgICAgICAvL21pbmltYWwgd2FpdCB0aW1lIGFmdGVyIGxhc3QgY2hhcmFjdGVyIHR5cGVkIGJlZm9yZSB0eXBlYWhlYWQga2lja3MtaW5cbiAgICAgICAgdmFyIHdhaXRUaW1lID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRXYWl0TXMpIHx8IDA7XG5cbiAgICAgICAgLy9zaG91bGQgaXQgcmVzdHJpY3QgbW9kZWwgdmFsdWVzIHRvIHRoZSBvbmVzIHNlbGVjdGVkIGZyb20gdGhlIHBvcHVwIG9ubHk/XG4gICAgICAgIHZhciBpc0VkaXRhYmxlID0gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRFZGl0YWJsZSkgIT09IGZhbHNlO1xuXG4gICAgICAgIC8vYmluZGluZyB0byBhIHZhcmlhYmxlIHRoYXQgaW5kaWNhdGVzIGlmIG1hdGNoZXMgYXJlIGJlaW5nIHJldHJpZXZlZCBhc3luY2hyb25vdXNseVxuICAgICAgICB2YXIgaXNMb2FkaW5nU2V0dGVyID0gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZExvYWRpbmcpLmFzc2lnbiB8fCBhbmd1bGFyLm5vb3A7XG5cbiAgICAgICAgLy9hIGNhbGxiYWNrIGV4ZWN1dGVkIHdoZW4gYSBtYXRjaCBpcyBzZWxlY3RlZFxuICAgICAgICB2YXIgb25TZWxlY3RDYWxsYmFjayA9ICRwYXJzZShhdHRycy50eXBlYWhlYWRPblNlbGVjdCk7XG5cbiAgICAgICAgLy9zaG91bGQgaXQgc2VsZWN0IGhpZ2hsaWdodGVkIHBvcHVwIHZhbHVlIHdoZW4gbG9zaW5nIGZvY3VzP1xuICAgICAgICB2YXIgaXNTZWxlY3RPbkJsdXIgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy50eXBlYWhlYWRTZWxlY3RPbkJsdXIpID8gb3JpZ2luYWxTY29wZS4kZXZhbChhdHRycy50eXBlYWhlYWRTZWxlY3RPbkJsdXIpIDogZmFsc2U7XG5cbiAgICAgICAgLy9iaW5kaW5nIHRvIGEgdmFyaWFibGUgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlcmUgd2VyZSBubyByZXN1bHRzIGFmdGVyIHRoZSBxdWVyeSBpcyBjb21wbGV0ZWRcbiAgICAgICAgdmFyIGlzTm9SZXN1bHRzU2V0dGVyID0gJHBhcnNlKGF0dHJzLnR5cGVhaGVhZE5vUmVzdWx0cykuYXNzaWduIHx8IGFuZ3VsYXIubm9vcDtcblxuICAgICAgICB2YXIgaW5wdXRGb3JtYXR0ZXIgPSBhdHRycy50eXBlYWhlYWRJbnB1dEZvcm1hdHRlciA/ICRwYXJzZShhdHRycy50eXBlYWhlYWRJbnB1dEZvcm1hdHRlcikgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGFwcGVuZFRvQm9keSA9ICBhdHRycy50eXBlYWhlYWRBcHBlbmRUb0JvZHkgPyBvcmlnaW5hbFNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEFwcGVuZFRvQm9keSkgOiBmYWxzZTtcblxuICAgICAgICB2YXIgZm9jdXNGaXJzdCA9IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkRm9jdXNGaXJzdCkgIT09IGZhbHNlO1xuXG4gICAgICAgIC8vSWYgaW5wdXQgbWF0Y2hlcyBhbiBpdGVtIG9mIHRoZSBsaXN0IGV4YWN0bHksIHNlbGVjdCBpdCBhdXRvbWF0aWNhbGx5XG4gICAgICAgIHZhciBzZWxlY3RPbkV4YWN0ID0gYXR0cnMudHlwZWFoZWFkU2VsZWN0T25FeGFjdCA/IG9yaWdpbmFsU2NvcGUuJGV2YWwoYXR0cnMudHlwZWFoZWFkU2VsZWN0T25FeGFjdCkgOiBmYWxzZTtcblxuICAgICAgICAvL0lOVEVSTkFMIFZBUklBQkxFU1xuXG4gICAgICAgIC8vbW9kZWwgc2V0dGVyIGV4ZWN1dGVkIHVwb24gbWF0Y2ggc2VsZWN0aW9uXG4gICAgICAgIHZhciBwYXJzZWRNb2RlbCA9ICRwYXJzZShhdHRycy5uZ01vZGVsKTtcbiAgICAgICAgdmFyIGludm9rZU1vZGVsU2V0dGVyID0gJHBhcnNlKGF0dHJzLm5nTW9kZWwgKyAnKCQkJHApJyk7XG4gICAgICAgIHZhciAkc2V0TW9kZWxWYWx1ZSA9IGZ1bmN0aW9uKHNjb3BlLCBuZXdWYWx1ZSkge1xuICAgICAgICAgIGlmIChhbmd1bGFyLmlzRnVuY3Rpb24ocGFyc2VkTW9kZWwob3JpZ2luYWxTY29wZSkpICYmXG4gICAgICAgICAgICBuZ01vZGVsT3B0aW9ucyAmJiBuZ01vZGVsT3B0aW9ucy4kb3B0aW9ucyAmJiBuZ01vZGVsT3B0aW9ucy4kb3B0aW9ucy5nZXR0ZXJTZXR0ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VNb2RlbFNldHRlcihzY29wZSwgeyQkJHA6IG5ld1ZhbHVlfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZWRNb2RlbC5hc3NpZ24oc2NvcGUsIG5ld1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgLy9leHByZXNzaW9ucyB1c2VkIGJ5IHR5cGVhaGVhZFxuICAgICAgICB2YXIgcGFyc2VyUmVzdWx0ID0gdHlwZWFoZWFkUGFyc2VyLnBhcnNlKGF0dHJzLnR5cGVhaGVhZCk7XG5cbiAgICAgICAgdmFyIGhhc0ZvY3VzO1xuXG4gICAgICAgIC8vVXNlZCB0byBhdm9pZCBidWcgaW4gaU9TIHdlYnZpZXcgd2hlcmUgaU9TIGtleWJvYXJkIGRvZXMgbm90IGZpcmVcbiAgICAgICAgLy9tb3VzZWRvd24gJiBtb3VzZXVwIGV2ZW50c1xuICAgICAgICAvL0lzc3VlICMzNjk5XG4gICAgICAgIHZhciBzZWxlY3RlZDtcblxuICAgICAgICAvL2NyZWF0ZSBhIGNoaWxkIHNjb3BlIGZvciB0aGUgdHlwZWFoZWFkIGRpcmVjdGl2ZSBzbyB3ZSBhcmUgbm90IHBvbGx1dGluZyBvcmlnaW5hbCBzY29wZVxuICAgICAgICAvL3dpdGggdHlwZWFoZWFkLXNwZWNpZmljIGRhdGEgKG1hdGNoZXMsIHF1ZXJ5IGV0Yy4pXG4gICAgICAgIHZhciBzY29wZSA9IG9yaWdpbmFsU2NvcGUuJG5ldygpO1xuICAgICAgICB2YXIgb2ZmRGVzdHJveSA9IG9yaWdpbmFsU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0ICAgIHNjb3BlLiRkZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzY29wZS4kb24oJyRkZXN0cm95Jywgb2ZmRGVzdHJveSk7XG5cbiAgICAgICAgLy8gV0FJLUFSSUFcbiAgICAgICAgdmFyIHBvcHVwSWQgPSAndHlwZWFoZWFkLScgKyBzY29wZS4kaWQgKyAnLScgKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDAwMCk7XG4gICAgICAgIGVsZW1lbnQuYXR0cih7XG4gICAgICAgICAgJ2FyaWEtYXV0b2NvbXBsZXRlJzogJ2xpc3QnLFxuICAgICAgICAgICdhcmlhLWV4cGFuZGVkJzogZmFsc2UsXG4gICAgICAgICAgJ2FyaWEtb3ducyc6IHBvcHVwSWRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy9wb3AtdXAgZWxlbWVudCB1c2VkIHRvIGRpc3BsYXkgbWF0Y2hlc1xuICAgICAgICB2YXIgcG9wVXBFbCA9IGFuZ3VsYXIuZWxlbWVudCgnPGRpdiB0eXBlYWhlYWQtcG9wdXA+PC9kaXY+Jyk7XG4gICAgICAgIHBvcFVwRWwuYXR0cih7XG4gICAgICAgICAgaWQ6IHBvcHVwSWQsXG4gICAgICAgICAgbWF0Y2hlczogJ21hdGNoZXMnLFxuICAgICAgICAgIGFjdGl2ZTogJ2FjdGl2ZUlkeCcsXG4gICAgICAgICAgc2VsZWN0OiAnc2VsZWN0KGFjdGl2ZUlkeCknLFxuICAgICAgICAgICdtb3ZlLWluLXByb2dyZXNzJzogJ21vdmVJblByb2dyZXNzJyxcbiAgICAgICAgICBxdWVyeTogJ3F1ZXJ5JyxcbiAgICAgICAgICBwb3NpdGlvbjogJ3Bvc2l0aW9uJ1xuICAgICAgICB9KTtcbiAgICAgICAgLy9jdXN0b20gaXRlbSB0ZW1wbGF0ZVxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkVGVtcGxhdGVVcmwpKSB7XG4gICAgICAgICAgcG9wVXBFbC5hdHRyKCd0ZW1wbGF0ZS11cmwnLCBhdHRycy50eXBlYWhlYWRUZW1wbGF0ZVVybCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYW5ndWxhci5pc0RlZmluZWQoYXR0cnMudHlwZWFoZWFkUG9wdXBUZW1wbGF0ZVVybCkpIHtcbiAgICAgICAgICBwb3BVcEVsLmF0dHIoJ3BvcHVwLXRlbXBsYXRlLXVybCcsIGF0dHJzLnR5cGVhaGVhZFBvcHVwVGVtcGxhdGVVcmwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJlc2V0TWF0Y2hlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHNjb3BlLm1hdGNoZXMgPSBbXTtcbiAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAtMTtcbiAgICAgICAgICBlbGVtZW50LmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCBmYWxzZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGdldE1hdGNoSWQgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgIHJldHVybiBwb3B1cElkICsgJy1vcHRpb24tJyArIGluZGV4O1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEluZGljYXRlIHRoYXQgdGhlIHNwZWNpZmllZCBtYXRjaCBpcyB0aGUgYWN0aXZlIChwcmUtc2VsZWN0ZWQpIGl0ZW0gaW4gdGhlIGxpc3Qgb3duZWQgYnkgdGhpcyB0eXBlYWhlYWQuXG4gICAgICAgIC8vIFRoaXMgYXR0cmlidXRlIGlzIGFkZGVkIG9yIHJlbW92ZWQgYXV0b21hdGljYWxseSB3aGVuIHRoZSBgYWN0aXZlSWR4YCBjaGFuZ2VzLlxuICAgICAgICBzY29wZS4kd2F0Y2goJ2FjdGl2ZUlkeCcsIGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICAgICAgZWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWFjdGl2ZWRlc2NlbmRhbnQnLCBnZXRNYXRjaElkKGluZGV4KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgaW5wdXRJc0V4YWN0TWF0Y2ggPSBmdW5jdGlvbihpbnB1dFZhbHVlLCBpbmRleCkge1xuICAgICAgICAgIGlmIChzY29wZS5tYXRjaGVzLmxlbmd0aCA+IGluZGV4ICYmIGlucHV0VmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBpbnB1dFZhbHVlLnRvVXBwZXJDYXNlKCkgPT09IHNjb3BlLm1hdGNoZXNbaW5kZXhdLmxhYmVsLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBnZXRNYXRjaGVzQXN5bmMgPSBmdW5jdGlvbihpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgdmFyIGxvY2FscyA9IHskdmlld1ZhbHVlOiBpbnB1dFZhbHVlfTtcbiAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgdHJ1ZSk7XG4gICAgICAgICAgaXNOb1Jlc3VsdHNTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICAgICRxLndoZW4ocGFyc2VyUmVzdWx0LnNvdXJjZShvcmlnaW5hbFNjb3BlLCBsb2NhbHMpKS50aGVuKGZ1bmN0aW9uKG1hdGNoZXMpIHtcbiAgICAgICAgICAgIC8vaXQgbWlnaHQgaGFwcGVuIHRoYXQgc2V2ZXJhbCBhc3luYyBxdWVyaWVzIHdlcmUgaW4gcHJvZ3Jlc3MgaWYgYSB1c2VyIHdlcmUgdHlwaW5nIGZhc3RcbiAgICAgICAgICAgIC8vYnV0IHdlIGFyZSBpbnRlcmVzdGVkIG9ubHkgaW4gcmVzcG9uc2VzIHRoYXQgY29ycmVzcG9uZCB0byB0aGUgY3VycmVudCB2aWV3IHZhbHVlXG4gICAgICAgICAgICB2YXIgb25DdXJyZW50UmVxdWVzdCA9IChpbnB1dFZhbHVlID09PSBtb2RlbEN0cmwuJHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICBpZiAob25DdXJyZW50UmVxdWVzdCAmJiBoYXNGb2N1cykge1xuICAgICAgICAgICAgICBpZiAobWF0Y2hlcyAmJiBtYXRjaGVzLmxlbmd0aCA+IDApIHtcblxuICAgICAgICAgICAgICAgIHNjb3BlLmFjdGl2ZUlkeCA9IGZvY3VzRmlyc3QgPyAwIDogLTE7XG4gICAgICAgICAgICAgICAgaXNOb1Jlc3VsdHNTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIHNjb3BlLm1hdGNoZXMubGVuZ3RoID0gMDtcblxuICAgICAgICAgICAgICAgIC8vdHJhbnNmb3JtIGxhYmVsc1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBtYXRjaGVzW2ldO1xuICAgICAgICAgICAgICAgICAgc2NvcGUubWF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGdldE1hdGNoSWQoaSksXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiBwYXJzZXJSZXN1bHQudmlld01hcHBlcihzY29wZSwgbG9jYWxzKSxcbiAgICAgICAgICAgICAgICAgICAgbW9kZWw6IG1hdGNoZXNbaV1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHNjb3BlLnF1ZXJ5ID0gaW5wdXRWYWx1ZTtcbiAgICAgICAgICAgICAgICAvL3Bvc2l0aW9uIHBvcC11cCB3aXRoIG1hdGNoZXMgLSB3ZSBuZWVkIHRvIHJlLWNhbGN1bGF0ZSBpdHMgcG9zaXRpb24gZWFjaCB0aW1lIHdlIGFyZSBvcGVuaW5nIGEgd2luZG93XG4gICAgICAgICAgICAgICAgLy93aXRoIG1hdGNoZXMgYXMgYSBwb3AtdXAgbWlnaHQgYmUgYWJzb2x1dGUtcG9zaXRpb25lZCBhbmQgcG9zaXRpb24gb2YgYW4gaW5wdXQgbWlnaHQgaGF2ZSBjaGFuZ2VkIG9uIGEgcGFnZVxuICAgICAgICAgICAgICAgIC8vZHVlIHRvIG90aGVyIGVsZW1lbnRzIGJlaW5nIHJlbmRlcmVkXG4gICAgICAgICAgICAgICAgcmVjYWxjdWxhdGVQb3NpdGlvbigpO1xuXG4gICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKCdhcmlhLWV4cGFuZGVkJywgdHJ1ZSk7XG5cbiAgICAgICAgICAgICAgICAvL1NlbGVjdCB0aGUgc2luZ2xlIHJlbWFpbmluZyBvcHRpb24gaWYgdXNlciBpbnB1dCBtYXRjaGVzXG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdE9uRXhhY3QgJiYgc2NvcGUubWF0Y2hlcy5sZW5ndGggPT09IDEgJiYgaW5wdXRJc0V4YWN0TWF0Y2goaW5wdXRWYWx1ZSwgMCkpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLnNlbGVjdCgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgICAgICAgaXNOb1Jlc3VsdHNTZXR0ZXIob3JpZ2luYWxTY29wZSwgdHJ1ZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbkN1cnJlbnRSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIGlzTG9hZGluZ1NldHRlcihvcmlnaW5hbFNjb3BlLCBmYWxzZSk7XG4gICAgICAgICAgICBpc05vUmVzdWx0c1NldHRlcihvcmlnaW5hbFNjb3BlLCB0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBiaW5kIGV2ZW50cyBvbmx5IGlmIGFwcGVuZFRvQm9keSBwYXJhbXMgZXhpc3QgLSBwZXJmb3JtYW5jZSBmZWF0dXJlXG4gICAgICAgIGlmIChhcHBlbmRUb0JvZHkpIHtcbiAgICAgICAgICBhbmd1bGFyLmVsZW1lbnQoJHdpbmRvdykuYmluZCgncmVzaXplJywgZmlyZVJlY2FsY3VsYXRpbmcpO1xuICAgICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYmluZCgnc2Nyb2xsJywgZmlyZVJlY2FsY3VsYXRpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRGVjbGFyZSB0aGUgdGltZW91dCBwcm9taXNlIHZhciBvdXRzaWRlIHRoZSBmdW5jdGlvbiBzY29wZSBzbyB0aGF0IHN0YWNrZWQgY2FsbHMgY2FuIGJlIGNhbmNlbGxlZCBsYXRlclxuICAgICAgICB2YXIgdGltZW91dEV2ZW50UHJvbWlzZTtcblxuICAgICAgICAvLyBEZWZhdWx0IHByb2dyZXNzIHR5cGVcbiAgICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblxuICAgICAgICBmdW5jdGlvbiBmaXJlUmVjYWxjdWxhdGluZygpIHtcbiAgICAgICAgICBpZiAoIXNjb3BlLm1vdmVJblByb2dyZXNzKSB7XG4gICAgICAgICAgICBzY29wZS5tb3ZlSW5Qcm9ncmVzcyA9IHRydWU7XG4gICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ2FuY2VsIHByZXZpb3VzIHRpbWVvdXRcbiAgICAgICAgICBpZiAodGltZW91dEV2ZW50UHJvbWlzZSkge1xuICAgICAgICAgICAgJHRpbWVvdXQuY2FuY2VsKHRpbWVvdXRFdmVudFByb21pc2UpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIERlYm91bmNlZCBleGVjdXRpbmcgcmVjYWxjdWxhdGUgYWZ0ZXIgZXZlbnRzIGZpcmVkXG4gICAgICAgICAgdGltZW91dEV2ZW50UHJvbWlzZSA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgLy8gaWYgcG9wdXAgaXMgdmlzaWJsZVxuICAgICAgICAgICAgaWYgKHNjb3BlLm1hdGNoZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIHJlY2FsY3VsYXRlUG9zaXRpb24oKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2NvcGUubW92ZUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICB9LCBldmVudERlYm91bmNlVGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZWNhbGN1bGF0ZSBhY3R1YWwgcG9zaXRpb24gYW5kIHNldCBuZXcgdmFsdWVzIHRvIHNjb3BlXG4gICAgICAgIC8vIGFmdGVyIGRpZ2VzdCBsb29wIGlzIHBvcHVwIGluIHJpZ2h0IHBvc2l0aW9uXG4gICAgICAgIGZ1bmN0aW9uIHJlY2FsY3VsYXRlUG9zaXRpb24oKSB7XG4gICAgICAgICAgc2NvcGUucG9zaXRpb24gPSBhcHBlbmRUb0JvZHkgPyAkcG9zaXRpb24ub2Zmc2V0KGVsZW1lbnQpIDogJHBvc2l0aW9uLnBvc2l0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgIHNjb3BlLnBvc2l0aW9uLnRvcCArPSBlbGVtZW50LnByb3AoJ29mZnNldEhlaWdodCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG5cbiAgICAgICAgLy93ZSBuZWVkIHRvIHByb3BhZ2F0ZSB1c2VyJ3MgcXVlcnkgc28gd2UgY2FuIGhpZ2xpZ2h0IG1hdGNoZXNcbiAgICAgICAgc2NvcGUucXVlcnkgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy9EZWNsYXJlIHRoZSB0aW1lb3V0IHByb21pc2UgdmFyIG91dHNpZGUgdGhlIGZ1bmN0aW9uIHNjb3BlIHNvIHRoYXQgc3RhY2tlZCBjYWxscyBjYW4gYmUgY2FuY2VsbGVkIGxhdGVyXG4gICAgICAgIHZhciB0aW1lb3V0UHJvbWlzZTtcblxuICAgICAgICB2YXIgc2NoZWR1bGVTZWFyY2hXaXRoVGltZW91dCA9IGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcbiAgICAgICAgICB0aW1lb3V0UHJvbWlzZSA9ICR0aW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgZ2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpO1xuICAgICAgICAgIH0sIHdhaXRUaW1lKTtcbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgY2FuY2VsUHJldmlvdXNUaW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKHRpbWVvdXRQcm9taXNlKSB7XG4gICAgICAgICAgICAkdGltZW91dC5jYW5jZWwodGltZW91dFByb21pc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvL3BsdWcgaW50byAkcGFyc2VycyBwaXBlbGluZSB0byBvcGVuIGEgdHlwZWFoZWFkIG9uIHZpZXcgY2hhbmdlcyBpbml0aWF0ZWQgZnJvbSBET01cbiAgICAgICAgLy8kcGFyc2VycyBraWNrLWluIG9uIGFsbCB0aGUgY2hhbmdlcyBjb21pbmcgZnJvbSB0aGUgdmlldyBhcyB3ZWxsIGFzIG1hbnVhbGx5IHRyaWdnZXJlZCBieSAkc2V0Vmlld1ZhbHVlXG4gICAgICAgIG1vZGVsQ3RybC4kcGFyc2Vycy51bnNoaWZ0KGZ1bmN0aW9uKGlucHV0VmFsdWUpIHtcbiAgICAgICAgICBoYXNGb2N1cyA9IHRydWU7XG5cbiAgICAgICAgICBpZiAobWluTGVuZ3RoID09PSAwIHx8IGlucHV0VmFsdWUgJiYgaW5wdXRWYWx1ZS5sZW5ndGggPj0gbWluTGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAod2FpdFRpbWUgPiAwKSB7XG4gICAgICAgICAgICAgIGNhbmNlbFByZXZpb3VzVGltZW91dCgpO1xuICAgICAgICAgICAgICBzY2hlZHVsZVNlYXJjaFdpdGhUaW1lb3V0KGlucHV0VmFsdWUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZ2V0TWF0Y2hlc0FzeW5jKGlucHV0VmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpc0xvYWRpbmdTZXR0ZXIob3JpZ2luYWxTY29wZSwgZmFsc2UpO1xuICAgICAgICAgICAgY2FuY2VsUHJldmlvdXNUaW1lb3V0KCk7XG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoaXNFZGl0YWJsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGlucHV0VmFsdWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICghaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgICAvLyBSZXNldCBpbiBjYXNlIHVzZXIgaGFkIHR5cGVkIHNvbWV0aGluZyBwcmV2aW91c2x5LlxuICAgICAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ2VkaXRhYmxlJywgZmFsc2UpO1xuICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgbW9kZWxDdHJsLiRmb3JtYXR0ZXJzLnB1c2goZnVuY3Rpb24obW9kZWxWYWx1ZSkge1xuICAgICAgICAgIHZhciBjYW5kaWRhdGVWaWV3VmFsdWUsIGVtcHR5Vmlld1ZhbHVlO1xuICAgICAgICAgIHZhciBsb2NhbHMgPSB7fTtcblxuICAgICAgICAgIC8vIFRoZSB2YWxpZGl0eSBtYXkgYmUgc2V0IHRvIGZhbHNlIHZpYSAkcGFyc2VycyAoc2VlIGFib3ZlKSBpZlxuICAgICAgICAgIC8vIHRoZSBtb2RlbCBpcyByZXN0cmljdGVkIHRvIHNlbGVjdGVkIHZhbHVlcy4gSWYgdGhlIG1vZGVsXG4gICAgICAgICAgLy8gaXMgc2V0IG1hbnVhbGx5IGl0IGlzIGNvbnNpZGVyZWQgdG8gYmUgdmFsaWQuXG4gICAgICAgICAgaWYgKCFpc0VkaXRhYmxlKSB7XG4gICAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChpbnB1dEZvcm1hdHRlcikge1xuICAgICAgICAgICAgbG9jYWxzLiRtb2RlbCA9IG1vZGVsVmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gaW5wdXRGb3JtYXR0ZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy9pdCBtaWdodCBoYXBwZW4gdGhhdCB3ZSBkb24ndCBoYXZlIGVub3VnaCBpbmZvIHRvIHByb3Blcmx5IHJlbmRlciBpbnB1dCB2YWx1ZVxuICAgICAgICAgICAgLy93ZSBuZWVkIHRvIGNoZWNrIGZvciB0aGlzIHNpdHVhdGlvbiBhbmQgc2ltcGx5IHJldHVybiBtb2RlbCB2YWx1ZSBpZiB3ZSBjYW4ndCBhcHBseSBjdXN0b20gZm9ybWF0dGluZ1xuICAgICAgICAgICAgbG9jYWxzW3BhcnNlclJlc3VsdC5pdGVtTmFtZV0gPSBtb2RlbFZhbHVlO1xuICAgICAgICAgICAgY2FuZGlkYXRlVmlld1ZhbHVlID0gcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKTtcbiAgICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgZW1wdHlWaWV3VmFsdWUgPSBwYXJzZXJSZXN1bHQudmlld01hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuXG4gICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlVmlld1ZhbHVlIT09IGVtcHR5Vmlld1ZhbHVlID8gY2FuZGlkYXRlVmlld1ZhbHVlIDogbW9kZWxWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNjb3BlLnNlbGVjdCA9IGZ1bmN0aW9uKGFjdGl2ZUlkeCkge1xuICAgICAgICAgIC8vY2FsbGVkIGZyb20gd2l0aGluIHRoZSAkZGlnZXN0KCkgY3ljbGVcbiAgICAgICAgICB2YXIgbG9jYWxzID0ge307XG4gICAgICAgICAgdmFyIG1vZGVsLCBpdGVtO1xuXG4gICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIGxvY2Fsc1twYXJzZXJSZXN1bHQuaXRlbU5hbWVdID0gaXRlbSA9IHNjb3BlLm1hdGNoZXNbYWN0aXZlSWR4XS5tb2RlbDtcbiAgICAgICAgICBtb2RlbCA9IHBhcnNlclJlc3VsdC5tb2RlbE1hcHBlcihvcmlnaW5hbFNjb3BlLCBsb2NhbHMpO1xuICAgICAgICAgICRzZXRNb2RlbFZhbHVlKG9yaWdpbmFsU2NvcGUsIG1vZGVsKTtcbiAgICAgICAgICBtb2RlbEN0cmwuJHNldFZhbGlkaXR5KCdlZGl0YWJsZScsIHRydWUpO1xuICAgICAgICAgIG1vZGVsQ3RybC4kc2V0VmFsaWRpdHkoJ3BhcnNlJywgdHJ1ZSk7XG5cbiAgICAgICAgICBvblNlbGVjdENhbGxiYWNrKG9yaWdpbmFsU2NvcGUsIHtcbiAgICAgICAgICAgICRpdGVtOiBpdGVtLFxuICAgICAgICAgICAgJG1vZGVsOiBtb2RlbCxcbiAgICAgICAgICAgICRsYWJlbDogcGFyc2VyUmVzdWx0LnZpZXdNYXBwZXIob3JpZ2luYWxTY29wZSwgbG9jYWxzKVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG5cbiAgICAgICAgICAvL3JldHVybiBmb2N1cyB0byB0aGUgaW5wdXQgZWxlbWVudCBpZiBhIG1hdGNoIHdhcyBzZWxlY3RlZCB2aWEgYSBtb3VzZSBjbGljayBldmVudFxuICAgICAgICAgIC8vIHVzZSB0aW1lb3V0IHRvIGF2b2lkICRyb290U2NvcGU6aW5wcm9nIGVycm9yXG4gICAgICAgICAgaWYgKHNjb3BlLiRldmFsKGF0dHJzLnR5cGVhaGVhZEZvY3VzT25TZWxlY3QpICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7IGVsZW1lbnRbMF0uZm9jdXMoKTsgfSwgMCwgZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvL2JpbmQga2V5Ym9hcmQgZXZlbnRzOiBhcnJvd3MgdXAoMzgpIC8gZG93big0MCksIGVudGVyKDEzKSBhbmQgdGFiKDkpLCBlc2MoMjcpXG4gICAgICAgIGVsZW1lbnQuYmluZCgna2V5ZG93bicsIGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIC8vdHlwZWFoZWFkIGlzIG9wZW4gYW5kIGFuIFwiaW50ZXJlc3RpbmdcIiBrZXkgd2FzIHByZXNzZWRcbiAgICAgICAgICBpZiAoc2NvcGUubWF0Y2hlcy5sZW5ndGggPT09IDAgfHwgSE9UX0tFWVMuaW5kZXhPZihldnQud2hpY2gpID09PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm90aGluZyBzZWxlY3RlZCAoaS5lLiBmb2N1c0ZpcnN0KSBhbmQgZW50ZXIgb3IgdGFiIGlzIGhpdCwgY2xlYXIgdGhlIHJlc3VsdHNcbiAgICAgICAgICBpZiAoc2NvcGUuYWN0aXZlSWR4ID09PSAtMSAmJiAoZXZ0LndoaWNoID09PSA5IHx8IGV2dC53aGljaCA9PT0gMTMpKSB7XG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgIGlmIChldnQud2hpY2ggPT09IDQwKSB7XG4gICAgICAgICAgICBzY29wZS5hY3RpdmVJZHggPSAoc2NvcGUuYWN0aXZlSWR4ICsgMSkgJSBzY29wZS5tYXRjaGVzLmxlbmd0aDtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcblxuICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAzOCkge1xuICAgICAgICAgICAgc2NvcGUuYWN0aXZlSWR4ID0gKHNjb3BlLmFjdGl2ZUlkeCA+IDAgPyBzY29wZS5hY3RpdmVJZHggOiBzY29wZS5tYXRjaGVzLmxlbmd0aCkgLSAxO1xuICAgICAgICAgICAgc2NvcGUuJGRpZ2VzdCgpO1xuXG4gICAgICAgICAgfSBlbHNlIGlmIChldnQud2hpY2ggPT09IDEzIHx8IGV2dC53aGljaCA9PT0gOSkge1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgc2NvcGUuc2VsZWN0KHNjb3BlLmFjdGl2ZUlkeCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIH0gZWxzZSBpZiAoZXZ0LndoaWNoID09PSAyNykge1xuICAgICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgICByZXNldE1hdGNoZXMoKTtcbiAgICAgICAgICAgIHNjb3BlLiRkaWdlc3QoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGVsZW1lbnQuYmluZCgnYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmIChpc1NlbGVjdE9uQmx1ciAmJiBzY29wZS5tYXRjaGVzLmxlbmd0aCAmJiBzY29wZS5hY3RpdmVJZHggIT09IC0xICYmICFzZWxlY3RlZCkge1xuICAgICAgICAgICAgc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzY29wZS5zZWxlY3Qoc2NvcGUuYWN0aXZlSWR4KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBoYXNGb2N1cyA9IGZhbHNlO1xuICAgICAgICAgIHNlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIEtlZXAgcmVmZXJlbmNlIHRvIGNsaWNrIGhhbmRsZXIgdG8gdW5iaW5kIGl0LlxuICAgICAgICB2YXIgZGlzbWlzc0NsaWNrSGFuZGxlciA9IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAgIC8vIElzc3VlICMzOTczXG4gICAgICAgICAgLy8gRmlyZWZveCB0cmVhdHMgcmlnaHQgY2xpY2sgYXMgYSBjbGljayBvbiBkb2N1bWVudFxuICAgICAgICAgIGlmIChlbGVtZW50WzBdICE9PSBldnQudGFyZ2V0ICYmIGV2dC53aGljaCAhPT0gMyAmJiBzY29wZS5tYXRjaGVzLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgcmVzZXRNYXRjaGVzKCk7XG4gICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICBzY29wZS4kZGlnZXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgICRkb2N1bWVudC5iaW5kKCdjbGljaycsIGRpc21pc3NDbGlja0hhbmRsZXIpO1xuXG4gICAgICAgIG9yaWdpbmFsU2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICRkb2N1bWVudC51bmJpbmQoJ2NsaWNrJywgZGlzbWlzc0NsaWNrSGFuZGxlcik7XG4gICAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICAgJHBvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBQcmV2ZW50IGpRdWVyeSBjYWNoZSBtZW1vcnkgbGVha1xuICAgICAgICAgIHBvcFVwRWwucmVtb3ZlKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciAkcG9wdXAgPSAkY29tcGlsZShwb3BVcEVsKShzY29wZSk7XG5cbiAgICAgICAgaWYgKGFwcGVuZFRvQm9keSkge1xuICAgICAgICAgICRkb2N1bWVudC5maW5kKCdib2R5JykuYXBwZW5kKCRwb3B1cCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZWxlbWVudC5hZnRlcigkcG9wdXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICB9XSlcblxuICAuZGlyZWN0aXZlKCd0eXBlYWhlYWRQb3B1cCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0VBJyxcbiAgICAgIHNjb3BlOiB7XG4gICAgICAgIG1hdGNoZXM6ICc9JyxcbiAgICAgICAgcXVlcnk6ICc9JyxcbiAgICAgICAgYWN0aXZlOiAnPScsXG4gICAgICAgIHBvc2l0aW9uOiAnJicsXG4gICAgICAgIG1vdmVJblByb2dyZXNzOiAnPScsXG4gICAgICAgIHNlbGVjdDogJyYnXG4gICAgICB9LFxuICAgICAgcmVwbGFjZTogdHJ1ZSxcbiAgICAgIHRlbXBsYXRlVXJsOiBmdW5jdGlvbihlbGVtZW50LCBhdHRycykge1xuICAgICAgICByZXR1cm4gYXR0cnMucG9wdXBUZW1wbGF0ZVVybCB8fCAndGVtcGxhdGUvdHlwZWFoZWFkL3R5cGVhaGVhZC1wb3B1cC5odG1sJztcbiAgICAgIH0sXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgc2NvcGUudGVtcGxhdGVVcmwgPSBhdHRycy50ZW1wbGF0ZVVybDtcblxuICAgICAgICBzY29wZS5pc09wZW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gc2NvcGUubWF0Y2hlcy5sZW5ndGggPiAwO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLmlzQWN0aXZlID0gZnVuY3Rpb24obWF0Y2hJZHgpIHtcbiAgICAgICAgICByZXR1cm4gc2NvcGUuYWN0aXZlID09IG1hdGNoSWR4O1xuICAgICAgICB9O1xuXG4gICAgICAgIHNjb3BlLnNlbGVjdEFjdGl2ZSA9IGZ1bmN0aW9uKG1hdGNoSWR4KSB7XG4gICAgICAgICAgc2NvcGUuYWN0aXZlID0gbWF0Y2hJZHg7XG4gICAgICAgIH07XG5cbiAgICAgICAgc2NvcGUuc2VsZWN0TWF0Y2ggPSBmdW5jdGlvbihhY3RpdmVJZHgpIHtcbiAgICAgICAgICBzY29wZS5zZWxlY3Qoe2FjdGl2ZUlkeDphY3RpdmVJZHh9KTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9KVxuXG4gIC5kaXJlY3RpdmUoJ3R5cGVhaGVhZE1hdGNoJywgWyckdGVtcGxhdGVSZXF1ZXN0JywgJyRjb21waWxlJywgJyRwYXJzZScsIGZ1bmN0aW9uKCR0ZW1wbGF0ZVJlcXVlc3QsICRjb21waWxlLCAkcGFyc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICBzY29wZToge1xuICAgICAgICBpbmRleDogJz0nLFxuICAgICAgICBtYXRjaDogJz0nLFxuICAgICAgICBxdWVyeTogJz0nXG4gICAgICB9LFxuICAgICAgbGluazpmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgdmFyIHRwbFVybCA9ICRwYXJzZShhdHRycy50ZW1wbGF0ZVVybCkoc2NvcGUuJHBhcmVudCkgfHwgJ3RlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtbWF0Y2guaHRtbCc7XG4gICAgICAgICR0ZW1wbGF0ZVJlcXVlc3QodHBsVXJsKS50aGVuKGZ1bmN0aW9uKHRwbENvbnRlbnQpIHtcbiAgICAgICAgICAkY29tcGlsZSh0cGxDb250ZW50LnRyaW0oKSkoc2NvcGUsIGZ1bmN0aW9uKGNsb25lZEVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQucmVwbGFjZVdpdGgoY2xvbmVkRWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG4gIH1dKVxuXG4gIC5maWx0ZXIoJ3R5cGVhaGVhZEhpZ2hsaWdodCcsIFsnJHNjZScsICckaW5qZWN0b3InLCAnJGxvZycsIGZ1bmN0aW9uKCRzY2UsICRpbmplY3RvciwgJGxvZykge1xuICAgIHZhciBpc1Nhbml0aXplUHJlc2VudDtcbiAgICBpc1Nhbml0aXplUHJlc2VudCA9ICRpbmplY3Rvci5oYXMoJyRzYW5pdGl6ZScpO1xuXG4gICAgZnVuY3Rpb24gZXNjYXBlUmVnZXhwKHF1ZXJ5VG9Fc2NhcGUpIHtcbiAgICAgIC8vIFJlZ2V4OiBjYXB0dXJlIHRoZSB3aG9sZSBxdWVyeSBzdHJpbmcgYW5kIHJlcGxhY2UgaXQgd2l0aCB0aGUgc3RyaW5nIHRoYXQgd2lsbCBiZSB1c2VkIHRvIG1hdGNoXG4gICAgICAvLyB0aGUgcmVzdWx0cywgZm9yIGV4YW1wbGUgaWYgdGhlIGNhcHR1cmUgaXMgXCJhXCIgdGhlIHJlc3VsdCB3aWxsIGJlIFxcYVxuICAgICAgcmV0dXJuIHF1ZXJ5VG9Fc2NhcGUucmVwbGFjZSgvKFsuPyorXiRbXFxdXFxcXCgpe318LV0pL2csICdcXFxcJDEnKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb250YWluc0h0bWwobWF0Y2hJdGVtKSB7XG4gICAgICByZXR1cm4gLzwuKj4vZy50ZXN0KG1hdGNoSXRlbSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZ1bmN0aW9uKG1hdGNoSXRlbSwgcXVlcnkpIHtcbiAgICAgIGlmICghaXNTYW5pdGl6ZVByZXNlbnQgJiYgY29udGFpbnNIdG1sKG1hdGNoSXRlbSkpIHtcbiAgICAgICAgJGxvZy53YXJuKCdVbnNhZmUgdXNlIG9mIHR5cGVhaGVhZCBwbGVhc2UgdXNlIG5nU2FuaXRpemUnKTsgLy8gV2FybiB0aGUgdXNlciBhYm91dCB0aGUgZGFuZ2VyXG4gICAgICB9XG4gICAgICBtYXRjaEl0ZW0gPSBxdWVyeT8gKCcnICsgbWF0Y2hJdGVtKS5yZXBsYWNlKG5ldyBSZWdFeHAoZXNjYXBlUmVnZXhwKHF1ZXJ5KSwgJ2dpJyksICc8c3Ryb25nPiQmPC9zdHJvbmc+JykgOiBtYXRjaEl0ZW07IC8vIFJlcGxhY2VzIHRoZSBjYXB0dXJlIHN0cmluZyB3aXRoIGEgdGhlIHNhbWUgc3RyaW5nIGluc2lkZSBvZiBhIFwic3Ryb25nXCIgdGFnXG4gICAgICBpZiAoIWlzU2FuaXRpemVQcmVzZW50KSB7XG4gICAgICAgIG1hdGNoSXRlbSA9ICRzY2UudHJ1c3RBc0h0bWwobWF0Y2hJdGVtKTsgLy8gSWYgJHNhbml0aXplIGlzIG5vdCBwcmVzZW50IHdlIHBhY2sgdGhlIHN0cmluZyBpbiBhICRzY2Ugb2JqZWN0IGZvciB0aGUgbmctYmluZC1odG1sIGRpcmVjdGl2ZVxuICAgICAgfVxuICAgICAgcmV0dXJuIG1hdGNoSXRlbTtcbiAgICB9O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi1ncm91cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwYW5lbCB7e3BhbmVsQ2xhc3MgfHwgJ3BhbmVsLWRlZmF1bHQnfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicGFuZWwtaGVhZGluZ1xcXCIgbmcta2V5cHJlc3M9XFxcInRvZ2dsZU9wZW4oJGV2ZW50KVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxoNCBjbGFzcz1cXFwicGFuZWwtdGl0bGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxhIGhyZWYgdGFiaW5kZXg9XFxcIjBcXFwiIGNsYXNzPVxcXCJhY2NvcmRpb24tdG9nZ2xlXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlT3BlbigpXFxcIiBhY2NvcmRpb24tdHJhbnNjbHVkZT1cXFwiaGVhZGluZ1xcXCI+PHNwYW4gbmctY2xhc3M9XFxcInsndGV4dC1tdXRlZCc6IGlzRGlzYWJsZWR9XFxcIj57e2hlYWRpbmd9fTwvc3Bhbj48L2E+XFxuXCIgK1xuICAgIFwiICAgIDwvaDQ+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWNvbGxhcHNlIGNvbGxhcHNlXFxcIiBjb2xsYXBzZT1cXFwiIWlzT3BlblxcXCI+XFxuXCIgK1xuICAgIFwiXHQgIDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvYWNjb3JkaW9uL2FjY29yZGlvbi5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ncm91cFxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvYWxlcnQvYWxlcnQuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2FsZXJ0L2FsZXJ0Lmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcImFsZXJ0XFxcIiBuZy1jbGFzcz1cXFwiWydhbGVydC0nICsgKHR5cGUgfHwgJ3dhcm5pbmcnKSwgY2xvc2VhYmxlID8gJ2FsZXJ0LWRpc21pc3NpYmxlJyA6IG51bGxdXFxcIiByb2xlPVxcXCJhbGVydFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxidXR0b24gbmctc2hvdz1cXFwiY2xvc2VhYmxlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjbG9zZVxcXCIgbmctY2xpY2s9XFxcImNsb3NlKCRldmVudClcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gYXJpYS1oaWRkZW49XFxcInRydWVcXFwiPiZ0aW1lczs8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwic3Itb25seVxcXCI+Q2xvc2U8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2Nhcm91c2VsL2Nhcm91c2VsLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9jYXJvdXNlbC5odG1sXCIsXG4gICAgXCI8ZGl2IG5nLW1vdXNlZW50ZXI9XFxcInBhdXNlKClcXFwiIG5nLW1vdXNlbGVhdmU9XFxcInBsYXkoKVxcXCIgY2xhc3M9XFxcImNhcm91c2VsXFxcIiBuZy1zd2lwZS1yaWdodD1cXFwicHJldigpXFxcIiBuZy1zd2lwZS1sZWZ0PVxcXCJuZXh0KClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8b2wgY2xhc3M9XFxcImNhcm91c2VsLWluZGljYXRvcnNcXFwiIG5nLXNob3c9XFxcInNsaWRlcy5sZW5ndGggPiAxXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxsaSBuZy1yZXBlYXQ9XFxcInNsaWRlIGluIHNsaWRlcyB8IG9yZGVyQnk6aW5kZXhPZlNsaWRlIHRyYWNrIGJ5ICRpbmRleFxcXCIgbmctY2xhc3M9XFxcInthY3RpdmU6IGlzQWN0aXZlKHNsaWRlKX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3Qoc2xpZGUpXFxcIj48L2xpPlxcblwiICtcbiAgICBcIiAgICA8L29sPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJjYXJvdXNlbC1pbm5lclxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPGEgY2xhc3M9XFxcImxlZnQgY2Fyb3VzZWwtY29udHJvbFxcXCIgbmctY2xpY2s9XFxcInByZXYoKVxcXCIgbmctc2hvdz1cXFwic2xpZGVzLmxlbmd0aCA+IDFcXFwiPjxzcGFuIGNsYXNzPVxcXCJnbHlwaGljb24gZ2x5cGhpY29uLWNoZXZyb24tbGVmdFxcXCI+PC9zcGFuPjwvYT5cXG5cIiArXG4gICAgXCIgICAgPGEgY2xhc3M9XFxcInJpZ2h0IGNhcm91c2VsLWNvbnRyb2xcXFwiIG5nLWNsaWNrPVxcXCJuZXh0KClcXFwiIG5nLXNob3c9XFxcInNsaWRlcy5sZW5ndGggPiAxXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L3NwYW4+PC9hPlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9jYXJvdXNlbC9zbGlkZS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvY2Fyb3VzZWwvc2xpZGUuaHRtbFwiLFxuICAgIFwiPGRpdiBuZy1jbGFzcz1cXFwie1xcblwiICtcbiAgICBcIiAgICAnYWN0aXZlJzogYWN0aXZlXFxuXCIgK1xuICAgIFwiICB9XFxcIiBjbGFzcz1cXFwiaXRlbSB0ZXh0LWNlbnRlclxcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXRlcGlja2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9kYXRlcGlja2VyL2RhdGVwaWNrZXIuaHRtbFwiLFxuICAgIFwiPGRpdiBuZy1zd2l0Y2g9XFxcImRhdGVwaWNrZXJNb2RlXFxcIiByb2xlPVxcXCJhcHBsaWNhdGlvblxcXCIgbmcta2V5ZG93bj1cXFwia2V5ZG93bigkZXZlbnQpXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkYXlwaWNrZXIgbmctc3dpdGNoLXdoZW49XFxcImRheVxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjwvZGF5cGlja2VyPlxcblwiICtcbiAgICBcIiAgPG1vbnRocGlja2VyIG5nLXN3aXRjaC13aGVuPVxcXCJtb250aFxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjwvbW9udGhwaWNrZXI+XFxuXCIgK1xuICAgIFwiICA8eWVhcnBpY2tlciBuZy1zd2l0Y2gtd2hlbj1cXFwieWVhclxcXCIgdGFiaW5kZXg9XFxcIjBcXFwiPjwveWVhcnBpY2tlcj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9kYXkuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL2RhdGVwaWNrZXIvZGF5Lmh0bWxcIixcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aCBjb2xzcGFuPVxcXCJ7ezo6NSArIHNob3dXZWVrc319XFxcIj48YnV0dG9uIGlkPVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0aCBuZy1pZj1cXFwic2hvd1dlZWtzXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoIG5nLXJlcGVhdD1cXFwibGFiZWwgaW4gOjpsYWJlbHMgdHJhY2sgYnkgJGluZGV4XFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiPjxzbWFsbCBhcmlhLWxhYmVsPVxcXCJ7ezo6bGFiZWwuZnVsbH19XFxcIj57ezo6bGFiZWwuYWJicn19PC9zbWFsbD48L3RoPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90aGVhZD5cXG5cIiArXG4gICAgXCIgIDx0Ym9keT5cXG5cIiArXG4gICAgXCIgICAgPHRyIG5nLXJlcGVhdD1cXFwicm93IGluIHJvd3MgdHJhY2sgYnkgJGluZGV4XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctaWY9XFxcInNob3dXZWVrc1xcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyIGg2XFxcIj48ZW0+e3sgd2Vla051bWJlcnNbJGluZGV4XSB9fTwvZW0+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctcmVwZWF0PVxcXCJkdCBpbiByb3cgdHJhY2sgYnkgZHQuZGF0ZVxcXCIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiByb2xlPVxcXCJncmlkY2VsbFxcXCIgaWQ9XFxcInt7OjpkdC51aWR9fVxcXCIgbmctY2xhc3M9XFxcIjo6ZHQuY3VzdG9tQ2xhc3NcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6MTAwJTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGFzcz1cXFwieydidG4taW5mbyc6IGR0LnNlbGVjdGVkLCBhY3RpdmU6IGlzQWN0aXZlKGR0KX1cXFwiIG5nLWNsaWNrPVxcXCJzZWxlY3QoZHQuZGF0ZSlcXFwiIG5nLWRpc2FibGVkPVxcXCJkdC5kaXNhYmxlZFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48c3BhbiBuZy1jbGFzcz1cXFwiOjp7J3RleHQtbXV0ZWQnOiBkdC5zZWNvbmRhcnksICd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVxcXCI+e3s6OmR0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9tb250aC5odG1sXCIsXG4gICAgXCI8dGFibGUgcm9sZT1cXFwiZ3JpZFxcXCIgYXJpYS1sYWJlbGxlZGJ5PVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgYXJpYS1hY3RpdmVkZXNjZW5kYW50PVxcXCJ7e2FjdGl2ZURhdGVJZH19XFxcIj5cXG5cIiArXG4gICAgXCIgIDx0aGVhZD5cXG5cIiArXG4gICAgXCIgICAgPHRyPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1sZWZ0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgtMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1sZWZ0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgICA8dGg+PGJ1dHRvbiBpZD1cXFwie3s6OnVuaXF1ZUlkfX0tdGl0bGVcXFwiIHJvbGU9XFxcImhlYWRpbmdcXFwiIGFyaWEtbGl2ZT1cXFwiYXNzZXJ0aXZlXFxcIiBhcmlhLWF0b21pYz1cXFwidHJ1ZVxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgbmctY2xpY2s9XFxcInRvZ2dsZU1vZGUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRhdGVwaWNrZXJNb2RlID09PSBtYXhNb2RlXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHN0eWxlPVxcXCJ3aWR0aDoxMDAlO1xcXCI+PHN0cm9uZz57e3RpdGxlfX08L3N0cm9uZz48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aD48YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gcHVsbC1yaWdodFxcXCIgbmctY2xpY2s9XFxcIm1vdmUoMSlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PGkgY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi1yaWdodFxcXCI+PC9pPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3RoZWFkPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgbmctcmVwZWF0PVxcXCJyb3cgaW4gcm93cyB0cmFjayBieSAkaW5kZXhcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1yZXBlYXQ9XFxcImR0IGluIHJvdyB0cmFjayBieSBkdC5kYXRlXFxcIiBjbGFzcz1cXFwidGV4dC1jZW50ZXJcXFwiIHJvbGU9XFxcImdyaWRjZWxsXFxcIiBpZD1cXFwie3s6OmR0LnVpZH19XFxcIiBuZy1jbGFzcz1cXFwiOjpkdC5jdXN0b21DbGFzc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDoxMDAlO1xcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdFxcXCIgbmctY2xhc3M9XFxcInsnYnRuLWluZm8nOiBkdC5zZWxlY3RlZCwgYWN0aXZlOiBpc0FjdGl2ZShkdCl9XFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KGR0LmRhdGUpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZHQuZGlzYWJsZWRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+PHNwYW4gbmctY2xhc3M9XFxcIjo6eyd0ZXh0LWluZm8nOiBkdC5jdXJyZW50fVxcXCI+e3s6OmR0LmxhYmVsfX08L3NwYW4+PC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGJvZHk+XFxuXCIgK1xuICAgIFwiPC90YWJsZT5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci9wb3B1cC5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcImRyb3Bkb3duLW1lbnVcXFwiIG5nLWlmPVxcXCJpc09wZW5cXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBibG9ja1xcXCIgbmctc3R5bGU9XFxcInt0b3A6IHBvc2l0aW9uLnRvcCsncHgnLCBsZWZ0OiBwb3NpdGlvbi5sZWZ0KydweCd9XFxcIiBuZy1rZXlkb3duPVxcXCJrZXlkb3duKCRldmVudClcXFwiIG5nLWNsaWNrPVxcXCIkZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcXFwiPlxcblwiICtcbiAgICBcIlx0PGxpIG5nLXRyYW5zY2x1ZGU+PC9saT5cXG5cIiArXG4gICAgXCJcdDxsaSBuZy1pZj1cXFwic2hvd0J1dHRvbkJhclxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MTBweCA5cHggMnB4XFxcIj5cXG5cIiArXG4gICAgXCJcdFx0PHNwYW4gY2xhc3M9XFxcImJ0bi1ncm91cCBwdWxsLWxlZnRcXFwiPlxcblwiICtcbiAgICBcIlx0XHRcdDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4taW5mb1xcXCIgbmctY2xpY2s9XFxcInNlbGVjdCgndG9kYXknKVxcXCIgbmctZGlzYWJsZWQ9XFxcImlzRGlzYWJsZWQoJ3RvZGF5JylcXFwiPnt7IGdldFRleHQoJ2N1cnJlbnQnKSB9fTwvYnV0dG9uPlxcblwiICtcbiAgICBcIlx0XHRcdDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1zbSBidG4tZGFuZ2VyXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0KG51bGwpXFxcIj57eyBnZXRUZXh0KCdjbGVhcicpIH19PC9idXR0b24+XFxuXCIgK1xuICAgIFwiXHRcdDwvc3Bhbj5cXG5cIiArXG4gICAgXCJcdFx0PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLXNtIGJ0bi1zdWNjZXNzIHB1bGwtcmlnaHRcXFwiIG5nLWNsaWNrPVxcXCJjbG9zZSgpXFxcIj57eyBnZXRUZXh0KCdjbG9zZScpIH19PC9idXR0b24+XFxuXCIgK1xuICAgIFwiXHQ8L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL2RhdGVwaWNrZXIveWVhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvZGF0ZXBpY2tlci95ZWFyLmh0bWxcIixcbiAgICBcIjx0YWJsZSByb2xlPVxcXCJncmlkXFxcIiBhcmlhLWxhYmVsbGVkYnk9XFxcInt7Ojp1bmlxdWVJZH19LXRpdGxlXFxcIiBhcmlhLWFjdGl2ZWRlc2NlbmRhbnQ9XFxcInt7YWN0aXZlRGF0ZUlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgPHRoZWFkPlxcblwiICtcbiAgICBcIiAgICA8dHI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLWxlZnRcXFwiIG5nLWNsaWNrPVxcXCJtb3ZlKC0xKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWxlZnRcXFwiPjwvaT48L2J1dHRvbj48L3RoPlxcblwiICtcbiAgICBcIiAgICAgIDx0aCBjb2xzcGFuPVxcXCIzXFxcIj48YnV0dG9uIGlkPVxcXCJ7ezo6dW5pcXVlSWR9fS10aXRsZVxcXCIgcm9sZT1cXFwiaGVhZGluZ1xcXCIgYXJpYS1saXZlPVxcXCJhc3NlcnRpdmVcXFwiIGFyaWEtYXRvbWljPVxcXCJ0cnVlXFxcIiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBuZy1jbGljaz1cXFwidG9nZ2xlTW9kZSgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiZGF0ZXBpY2tlck1vZGUgPT09IG1heE1vZGVcXFwiIHRhYmluZGV4PVxcXCItMVxcXCIgc3R5bGU9XFxcIndpZHRoOjEwMCU7XFxcIj48c3Ryb25nPnt7dGl0bGV9fTwvc3Ryb25nPjwvYnV0dG9uPjwvdGg+XFxuXCIgK1xuICAgIFwiICAgICAgPHRoPjxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbSBwdWxsLXJpZ2h0XFxcIiBuZy1jbGljaz1cXFwibW92ZSgxKVxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj48aSBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXJpZ2h0XFxcIj48L2k+PC9idXR0b24+PC90aD5cXG5cIiArXG4gICAgXCIgICAgPC90cj5cXG5cIiArXG4gICAgXCIgIDwvdGhlYWQ+XFxuXCIgK1xuICAgIFwiICA8dGJvZHk+XFxuXCIgK1xuICAgIFwiICAgIDx0ciBuZy1yZXBlYXQ9XFxcInJvdyBpbiByb3dzIHRyYWNrIGJ5ICRpbmRleFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXJlcGVhdD1cXFwiZHQgaW4gcm93IHRyYWNrIGJ5IGR0LmRhdGVcXFwiIGNsYXNzPVxcXCJ0ZXh0LWNlbnRlclxcXCIgcm9sZT1cXFwiZ3JpZGNlbGxcXFwiIGlkPVxcXCJ7ezo6ZHQudWlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIHN0eWxlPVxcXCJtaW4td2lkdGg6MTAwJTtcXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHRcXFwiIG5nLWNsYXNzPVxcXCJ7J2J0bi1pbmZvJzogZHQuc2VsZWN0ZWQsIGFjdGl2ZTogaXNBY3RpdmUoZHQpfVxcXCIgbmctY2xpY2s9XFxcInNlbGVjdChkdC5kYXRlKVxcXCIgbmctZGlzYWJsZWQ9XFxcImR0LmRpc2FibGVkXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPjxzcGFuIG5nLWNsYXNzPVxcXCI6OnsndGV4dC1pbmZvJzogZHQuY3VycmVudH1cXFwiPnt7OjpkdC5sYWJlbH19PC9zcGFuPjwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICA8L3Rib2R5PlxcblwiICtcbiAgICBcIjwvdGFibGU+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL21vZGFsL2JhY2tkcm9wLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9tb2RhbC9iYWNrZHJvcC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJtb2RhbC1iYWNrZHJvcFxcXCJcXG5cIiArXG4gICAgXCIgICAgIG1vZGFsLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgICAgIG1vZGFsLWluLWNsYXNzPVxcXCJpblxcXCJcXG5cIiArXG4gICAgXCIgICAgIG5nLXN0eWxlPVxcXCJ7J3otaW5kZXgnOiAxMDQwICsgKGluZGV4ICYmIDEgfHwgMCkgKyBpbmRleCoxMH1cXFwiXFxuXCIgK1xuICAgIFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9tb2RhbC93aW5kb3cuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL21vZGFsL3dpbmRvdy5odG1sXCIsXG4gICAgXCI8ZGl2IG1vZGFsLXJlbmRlcj1cXFwie3skaXNSZW5kZXJlZH19XFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHJvbGU9XFxcImRpYWxvZ1xcXCIgY2xhc3M9XFxcIm1vZGFsXFxcIlxcblwiICtcbiAgICBcIiAgICBtb2RhbC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICAgIG1vZGFsLWluLWNsYXNzPVxcXCJpblxcXCJcXG5cIiArXG4gICAgXCJcdG5nLXN0eWxlPVxcXCJ7J3otaW5kZXgnOiAxMDUwICsgaW5kZXgqMTAsIGRpc3BsYXk6ICdibG9jayd9XFxcIiBuZy1jbGljaz1cXFwiY2xvc2UoJGV2ZW50KVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZ1xcXCIgbmctY2xhc3M9XFxcInNpemUgPyAnbW9kYWwtJyArIHNpemUgOiAnJ1xcXCI+PGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCIgbW9kYWwtdHJhbnNjbHVkZT48L2Rpdj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcGFnaW5hdGlvbi9wYWdlci5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcInBhZ2VyXFxcIj5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub1ByZXZpb3VzKCl8fG5nRGlzYWJsZWQsIHByZXZpb3VzOiBhbGlnbn1cXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSAtIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdwcmV2aW91cycpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKXx8bmdEaXNhYmxlZCwgbmV4dDogYWxpZ259XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKHBhZ2UgKyAxLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgnbmV4dCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wYWdpbmF0aW9uL3BhZ2luYXRpb24uaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5odG1sXCIsXG4gICAgXCI8dWwgY2xhc3M9XFxcInBhZ2luYXRpb25cXFwiPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmJvdW5kYXJ5TGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vUHJldmlvdXMoKXx8bmdEaXNhYmxlZH1cXFwiIGNsYXNzPVxcXCJwYWdpbmF0aW9uLWZpcnN0XFxcIj48YSBocmVmIG5nLWNsaWNrPVxcXCJzZWxlY3RQYWdlKDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCdmaXJzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCIgIDxsaSBuZy1pZj1cXFwiOjpkaXJlY3Rpb25MaW5rc1xcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9QcmV2aW91cygpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tcHJldlxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlIC0gMSwgJGV2ZW50KVxcXCI+e3s6OmdldFRleHQoJ3ByZXZpb3VzJyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLXJlcGVhdD1cXFwicGFnZSBpbiBwYWdlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBwYWdlLmFjdGl2ZSxkaXNhYmxlZDogbmdEaXNhYmxlZCYmIXBhZ2UuYWN0aXZlfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tcGFnZVxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZShwYWdlLm51bWJlciwgJGV2ZW50KVxcXCI+e3twYWdlLnRleHR9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmRpcmVjdGlvbkxpbmtzXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub05leHQoKXx8bmdEaXNhYmxlZH1cXFwiIGNsYXNzPVxcXCJwYWdpbmF0aW9uLW5leHRcXFwiPjxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdFBhZ2UocGFnZSArIDEsICRldmVudClcXFwiPnt7OjpnZXRUZXh0KCduZXh0Jyl9fTwvYT48L2xpPlxcblwiICtcbiAgICBcIiAgPGxpIG5nLWlmPVxcXCI6OmJvdW5kYXJ5TGlua3NcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vTmV4dCgpfHxuZ0Rpc2FibGVkfVxcXCIgY2xhc3M9XFxcInBhZ2luYXRpb24tbGFzdFxcXCI+PGEgaHJlZiBuZy1jbGljaz1cXFwic2VsZWN0UGFnZSh0b3RhbFBhZ2VzLCAkZXZlbnQpXFxcIj57ezo6Z2V0VGV4dCgnbGFzdCcpfX08L2E+PC9saT5cXG5cIiArXG4gICAgXCI8L3VsPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIG5nLWJpbmQtaHRtbD1cXFwiY29udGVudEV4cCgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLWh0bWwtdW5zYWZlLXBvcHVwLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtaHRtbC11bnNhZmUtcG9wdXAuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwidG9vbHRpcFxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtYW5pbWF0aW9uLWNsYXNzPVxcXCJmYWRlXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1jbGFzc2VzXFxuXCIgK1xuICAgIFwiICBuZy1jbGFzcz1cXFwieyBpbjogaXNPcGVuKCkgfVxcXCI+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtaW5uZXJcXFwiIGJpbmQtaHRtbC11bnNhZmU9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90b29sdGlwL3Rvb2x0aXAtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC1wb3B1cC5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInRvb2x0aXAtYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1pbm5lclxcXCIgbmctYmluZD1cXFwiY29udGVudFxcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Rvb2x0aXAvdG9vbHRpcC10ZW1wbGF0ZS1wb3B1cC5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvdG9vbHRpcC90b29sdGlwLXRlbXBsYXRlLXBvcHVwLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInRvb2x0aXBcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwidG9vbHRpcC1hcnJvd1xcXCI+PC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0b29sdGlwLWlubmVyXFxcIlxcblwiICtcbiAgICBcIiAgICB0b29sdGlwLXRlbXBsYXRlLXRyYW5zY2x1ZGU9XFxcImNvbnRlbnRFeHAoKVxcXCJcXG5cIiArXG4gICAgXCIgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlLXNjb3BlPVxcXCJvcmlnaW5TY29wZSgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLWh0bWwuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci1odG1sLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXJcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1pbm5lclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGgzIGNsYXNzPVxcXCJwb3BvdmVyLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJ0aXRsZVxcXCIgbmctaWY9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItY29udGVudFxcXCIgbmctYmluZC1odG1sPVxcXCJjb250ZW50RXhwKClcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci10ZW1wbGF0ZS5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcG9wb3Zlci9wb3BvdmVyLXRlbXBsYXRlLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInBvcG92ZXJcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWFuaW1hdGlvbi1jbGFzcz1cXFwiZmFkZVxcXCJcXG5cIiArXG4gICAgXCIgIHRvb2x0aXAtY2xhc3Nlc1xcblwiICtcbiAgICBcIiAgbmctY2xhc3M9XFxcInsgaW46IGlzT3BlbigpIH1cXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiYXJyb3dcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicG9wb3Zlci1pbm5lclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGgzIGNsYXNzPVxcXCJwb3BvdmVyLXRpdGxlXFxcIiBuZy1iaW5kPVxcXCJ0aXRsZVxcXCIgbmctaWY9XFxcInRpdGxlXFxcIj48L2gzPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItY29udGVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIHRvb2x0aXAtdGVtcGxhdGUtdHJhbnNjbHVkZT1cXFwiY29udGVudEV4cCgpXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgdG9vbHRpcC10ZW1wbGF0ZS10cmFuc2NsdWRlLXNjb3BlPVxcXCJvcmlnaW5TY29wZSgpXFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS9wb3BvdmVyL3BvcG92ZXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3BvcG92ZXIvcG9wb3Zlci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyXFxcIlxcblwiICtcbiAgICBcIiAgdG9vbHRpcC1hbmltYXRpb24tY2xhc3M9XFxcImZhZGVcXFwiXFxuXCIgK1xuICAgIFwiICB0b29sdGlwLWNsYXNzZXNcXG5cIiArXG4gICAgXCIgIG5nLWNsYXNzPVxcXCJ7IGluOiBpc09wZW4oKSB9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImFycm93XFxcIj48L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInBvcG92ZXItaW5uZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxoMyBjbGFzcz1cXFwicG9wb3Zlci10aXRsZVxcXCIgbmctYmluZD1cXFwidGl0bGVcXFwiIG5nLWlmPVxcXCJ0aXRsZVxcXCI+PC9oMz5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJwb3BvdmVyLWNvbnRlbnRcXFwiIG5nLWJpbmQ9XFxcImNvbnRlbnRcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Byb2dyZXNzYmFyL2Jhci5odG1sXCIsIFtdKS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvYmFyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInByb2dyZXNzLWJhclxcXCIgbmctY2xhc3M9XFxcInR5cGUgJiYgJ3Byb2dyZXNzLWJhci0nICsgdHlwZVxcXCIgcm9sZT1cXFwicHJvZ3Jlc3NiYXJcXFwiIGFyaWEtdmFsdWVub3c9XFxcInt7dmFsdWV9fVxcXCIgYXJpYS12YWx1ZW1pbj1cXFwiMFxcXCIgYXJpYS12YWx1ZW1heD1cXFwie3ttYXh9fVxcXCIgbmctc3R5bGU9XFxcInt3aWR0aDogKHBlcmNlbnQgPCAxMDAgPyBwZXJjZW50IDogMTAwKSArICclJ31cXFwiIGFyaWEtdmFsdWV0ZXh0PVxcXCJ7e3BlcmNlbnQgfCBudW1iZXI6MH19JVxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDogMDtcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS9wcm9ncmVzc2Jhci9wcm9ncmVzcy5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwcm9ncmVzc1xcXCIgbmctdHJhbnNjbHVkZT48L2Rpdj5cIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvcHJvZ3Jlc3NiYXIvcHJvZ3Jlc3NiYXIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3Byb2dyZXNzYmFyL3Byb2dyZXNzYmFyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInByb2dyZXNzXFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcInByb2dyZXNzLWJhclxcXCIgbmctY2xhc3M9XFxcInR5cGUgJiYgJ3Byb2dyZXNzLWJhci0nICsgdHlwZVxcXCIgcm9sZT1cXFwicHJvZ3Jlc3NiYXJcXFwiIGFyaWEtdmFsdWVub3c9XFxcInt7dmFsdWV9fVxcXCIgYXJpYS12YWx1ZW1pbj1cXFwiMFxcXCIgYXJpYS12YWx1ZW1heD1cXFwie3ttYXh9fVxcXCIgbmctc3R5bGU9XFxcInt3aWR0aDogKHBlcmNlbnQgPCAxMDAgPyBwZXJjZW50IDogMTAwKSArICclJ31cXFwiIGFyaWEtdmFsdWV0ZXh0PVxcXCJ7e3BlcmNlbnQgfCBudW1iZXI6MH19JVxcXCIgc3R5bGU9XFxcIm1pbi13aWR0aDogMDtcXFwiIG5nLXRyYW5zY2x1ZGU+PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3JhdGluZy9yYXRpbmcuaHRtbFwiLFxuICAgIFwiPHNwYW4gbmctbW91c2VsZWF2ZT1cXFwicmVzZXQoKVxcXCIgbmcta2V5ZG93bj1cXFwib25LZXlkb3duKCRldmVudClcXFwiIHRhYmluZGV4PVxcXCIwXFxcIiByb2xlPVxcXCJzbGlkZXJcXFwiIGFyaWEtdmFsdWVtaW49XFxcIjBcXFwiIGFyaWEtdmFsdWVtYXg9XFxcInt7cmFuZ2UubGVuZ3RofX1cXFwiIGFyaWEtdmFsdWVub3c9XFxcInt7dmFsdWV9fVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuIG5nLXJlcGVhdC1zdGFydD1cXFwiciBpbiByYW5nZSB0cmFjayBieSAkaW5kZXhcXFwiIGNsYXNzPVxcXCJzci1vbmx5XFxcIj4oe3sgJGluZGV4IDwgdmFsdWUgPyAnKicgOiAnICcgfX0pPC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8aSBuZy1yZXBlYXQtZW5kIG5nLW1vdXNlZW50ZXI9XFxcImVudGVyKCRpbmRleCArIDEpXFxcIiBuZy1jbGljaz1cXFwicmF0ZSgkaW5kZXggKyAxKVxcXCIgY2xhc3M9XFxcImdseXBoaWNvblxcXCIgbmctY2xhc3M9XFxcIiRpbmRleCA8IHZhbHVlICYmIChyLnN0YXRlT24gfHwgJ2dseXBoaWNvbi1zdGFyJykgfHwgKHIuc3RhdGVPZmYgfHwgJ2dseXBoaWNvbi1zdGFyLWVtcHR5JylcXFwiIG5nLWF0dHItdGl0bGU9XFxcInt7ci50aXRsZX19XFxcIiA+PC9pPlxcblwiICtcbiAgICBcIjwvc3Bhbj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGFicy90YWIuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3RhYnMvdGFiLmh0bWxcIixcbiAgICBcIjxsaSBuZy1jbGFzcz1cXFwie2FjdGl2ZTogYWN0aXZlLCBkaXNhYmxlZDogZGlzYWJsZWR9XFxcIj5cXG5cIiArXG4gICAgXCIgIDxhIGhyZWYgbmctY2xpY2s9XFxcInNlbGVjdCgpXFxcIiB0YWItaGVhZGluZy10cmFuc2NsdWRlPnt7aGVhZGluZ319PC9hPlxcblwiICtcbiAgICBcIjwvbGk+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3RhYnMvdGFic2V0Lmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90YWJzL3RhYnNldC5odG1sXCIsXG4gICAgXCI8ZGl2PlxcblwiICtcbiAgICBcIiAgPHVsIGNsYXNzPVxcXCJuYXYgbmF2LXt7dHlwZSB8fCAndGFicyd9fVxcXCIgbmctY2xhc3M9XFxcInsnbmF2LXN0YWNrZWQnOiB2ZXJ0aWNhbCwgJ25hdi1qdXN0aWZpZWQnOiBqdXN0aWZpZWR9XFxcIiBuZy10cmFuc2NsdWRlPjwvdWw+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJ0YWItY29udGVudFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcInRhYi1wYW5lXFxcIiBcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1yZXBlYXQ9XFxcInRhYiBpbiB0YWJzXFxcIiBcXG5cIiArXG4gICAgXCIgICAgICAgICBuZy1jbGFzcz1cXFwie2FjdGl2ZTogdGFiLmFjdGl2ZX1cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgdGFiLWNvbnRlbnQtdHJhbnNjbHVkZT1cXFwidGFiXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwidGVtcGxhdGUvdGltZXBpY2tlci90aW1lcGlja2VyLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90aW1lcGlja2VyL3RpbWVwaWNrZXIuaHRtbFwiLFxuICAgIFwiPHRhYmxlPlxcblwiICtcbiAgICBcIiAgPHRib2R5PlxcblwiICtcbiAgICBcIiAgICA8dHIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiBuZy1zaG93PVxcXCI6OnNob3dTcGlubmVyc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJpbmNyZW1lbnRIb3VycygpXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub0luY3JlbWVudEhvdXJzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLXVwXFxcIj48L3NwYW4+PC9hPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPiZuYnNwOzwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJpbmNyZW1lbnRNaW51dGVzKClcXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vSW5jcmVtZW50TWludXRlcygpfVxcXCIgY2xhc3M9XFxcImJ0biBidG4tbGlua1xcXCI+PHNwYW4gY2xhc3M9XFxcImdseXBoaWNvbiBnbHlwaGljb24tY2hldnJvbi11cFxcXCI+PC9zcGFuPjwvYT48L3RkPlxcblwiICtcbiAgICBcIiAgICAgIDx0ZCBuZy1zaG93PVxcXCJzaG93TWVyaWRpYW5cXFwiPjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgIDwvdHI+XFxuXCIgK1xuICAgIFwiICAgIDx0cj5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIG5nLWNsYXNzPVxcXCJ7J2hhcy1lcnJvcic6IGludmFsaWRIb3Vyc31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGlucHV0IHN0eWxlPVxcXCJ3aWR0aDo1MHB4O1xcXCIgdHlwZT1cXFwidGV4dFxcXCIgbmctbW9kZWw9XFxcImhvdXJzXFxcIiBuZy1jaGFuZ2U9XFxcInVwZGF0ZUhvdXJzKClcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2wgdGV4dC1jZW50ZXJcXFwiIG5nLXJlYWRvbmx5PVxcXCI6OnJlYWRvbmx5SW5wdXRcXFwiIG1heGxlbmd0aD1cXFwiMlxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+OjwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIiBuZy1jbGFzcz1cXFwieydoYXMtZXJyb3InOiBpbnZhbGlkTWludXRlc31cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGlucHV0IHN0eWxlPVxcXCJ3aWR0aDo1MHB4O1xcXCIgdHlwZT1cXFwidGV4dFxcXCIgbmctbW9kZWw9XFxcIm1pbnV0ZXNcXFwiIG5nLWNoYW5nZT1cXFwidXBkYXRlTWludXRlcygpXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sIHRleHQtY2VudGVyXFxcIiBuZy1yZWFkb25seT1cXFwiOjpyZWFkb25seUlucHV0XFxcIiBtYXhsZW5ndGg9XFxcIjJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDwvdGQ+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkIG5nLXNob3c9XFxcInNob3dNZXJpZGlhblxcXCI+PGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIG5nLWNsYXNzPVxcXCJ7ZGlzYWJsZWQ6IG5vVG9nZ2xlTWVyaWRpYW4oKX1cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgdGV4dC1jZW50ZXJcXFwiIG5nLWNsaWNrPVxcXCJ0b2dnbGVNZXJpZGlhbigpXFxcIj57e21lcmlkaWFufX08L2J1dHRvbj48L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgICA8dHIgY2xhc3M9XFxcInRleHQtY2VudGVyXFxcIiBuZy1zaG93PVxcXCI6OnNob3dTcGlubmVyc1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPHRkPjxhIG5nLWNsaWNrPVxcXCJkZWNyZW1lbnRIb3VycygpXFxcIiBuZy1jbGFzcz1cXFwie2Rpc2FibGVkOiBub0RlY3JlbWVudEhvdXJzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd25cXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+Jm5ic3A7PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQ+PGEgbmctY2xpY2s9XFxcImRlY3JlbWVudE1pbnV0ZXMoKVxcXCIgbmctY2xhc3M9XFxcIntkaXNhYmxlZDogbm9EZWNyZW1lbnRNaW51dGVzKCl9XFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1saW5rXFxcIj48c3BhbiBjbGFzcz1cXFwiZ2x5cGhpY29uIGdseXBoaWNvbi1jaGV2cm9uLWRvd25cXFwiPjwvc3Bhbj48L2E+PC90ZD5cXG5cIiArXG4gICAgXCIgICAgICA8dGQgbmctc2hvdz1cXFwic2hvd01lcmlkaWFuXFxcIj48L3RkPlxcblwiICtcbiAgICBcIiAgICA8L3RyPlxcblwiICtcbiAgICBcIiAgPC90Ym9keT5cXG5cIiArXG4gICAgXCI8L3RhYmxlPlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcblxuYW5ndWxhci5tb2R1bGUoXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWxcIiwgW10pLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJ0ZW1wbGF0ZS90eXBlYWhlYWQvdHlwZWFoZWFkLW1hdGNoLmh0bWxcIixcbiAgICBcIjxhIGhyZWYgdGFiaW5kZXg9XFxcIi0xXFxcIiBuZy1iaW5kLWh0bWw9XFxcIm1hdGNoLmxhYmVsIHwgdHlwZWFoZWFkSGlnaGxpZ2h0OnF1ZXJ5XFxcIj48L2E+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLCBbXSkucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcInRlbXBsYXRlL3R5cGVhaGVhZC90eXBlYWhlYWQtcG9wdXAuaHRtbFwiLFxuICAgIFwiPHVsIGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiBuZy1zaG93PVxcXCJpc09wZW4oKSAmJiAhbW92ZUluUHJvZ3Jlc3NcXFwiIG5nLXN0eWxlPVxcXCJ7dG9wOiBwb3NpdGlvbigpLnRvcCsncHgnLCBsZWZ0OiBwb3NpdGlvbigpLmxlZnQrJ3B4J31cXFwiIHN0eWxlPVxcXCJkaXNwbGF5OiBibG9jaztcXFwiIHJvbGU9XFxcImxpc3Rib3hcXFwiIGFyaWEtaGlkZGVuPVxcXCJ7eyFpc09wZW4oKX19XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGxpIG5nLXJlcGVhdD1cXFwibWF0Y2ggaW4gbWF0Y2hlcyB0cmFjayBieSAkaW5kZXhcXFwiIG5nLWNsYXNzPVxcXCJ7YWN0aXZlOiBpc0FjdGl2ZSgkaW5kZXgpIH1cXFwiIG5nLW1vdXNlZW50ZXI9XFxcInNlbGVjdEFjdGl2ZSgkaW5kZXgpXFxcIiBuZy1jbGljaz1cXFwic2VsZWN0TWF0Y2goJGluZGV4KVxcXCIgcm9sZT1cXFwib3B0aW9uXFxcIiBpZD1cXFwie3s6Om1hdGNoLmlkfX1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiB0eXBlYWhlYWQtbWF0Y2ggaW5kZXg9XFxcIiRpbmRleFxcXCIgbWF0Y2g9XFxcIm1hdGNoXFxcIiBxdWVyeT1cXFwicXVlcnlcXFwiIHRlbXBsYXRlLXVybD1cXFwidGVtcGxhdGVVcmxcXFwiPjwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2xpPlxcblwiICtcbiAgICBcIjwvdWw+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xuIWFuZ3VsYXIuJCRjc3AoKSAmJiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQpLmZpbmQoJ2hlYWQnKS5wcmVwZW5kKCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+Lm5nLWFuaW1hdGUuaXRlbTpub3QoLmxlZnQpOm5vdCgucmlnaHQpey13ZWJraXQtdHJhbnNpdGlvbjowcyBlYXNlLWluLW91dCBsZWZ0O3RyYW5zaXRpb246MHMgZWFzZS1pbi1vdXQgbGVmdH08L3N0eWxlPicpO1xuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24ud2lkZ2V0LWJ1dHRvbi10b29sYmFyXCIsIFtcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIl0pXG4gICAgLmRpcmVjdGl2ZShcIndpZGdldEJ1dHRvblRvb2xiYXJcIiwgW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgc2F2ZTogXCImXCIsXG4gICAgICAgICAgY2FuY2VsOiBcIiZcIixcbiAgICAgICAgICBkaXNhYmxlU2F2ZTogXCImXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcIl9hbmd1bGFyL3dpZGdldC1idXR0b24tdG9vbGJhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIuaHRtbFwiKVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi53aWRnZXQtYnV0dG9uLXRvb2xiYXJcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJfYW5ndWxhci93aWRnZXQtYnV0dG9uLXRvb2xiYXIvd2lkZ2V0LWJ1dHRvbi10b29sYmFyLmh0bWxcIixcbiAgICBcIjxkaXYgY2xhc3M9XFxcInB1bGwtcmlnaHRcXFwiPlxcblwiICtcbiAgICBcIiAgPGJ1dHRvbiBpZD1cXFwic2F2ZVxcXCIgY2xhc3M9XFxcImJ0biBidG4tcHJpbWFyeSBidG4tZml4ZWQtd2lkdGhcXFwiIHR5cGU9XFxcImJ1dHRvblxcXCIgbmctY2xpY2s9XFxcInNhdmUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImRpc2FibGVTYXZlKClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8c3Bhbj57e1xcXCJjb21tb24uc2F2ZVxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLWNoZWNrIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgPGJ1dHRvbiBpZD1cXFwiY2FuY2VsXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1maXhlZC13aWR0aFxcXCIgdHlwZT1cXFwiYnV0dG9uXFxcIiBuZy1jbGljaz1cXFwiY2FuY2VsKClcXFwiPlxcblwiICtcbiAgICBcIiAgICA8c3Bhbj57e1xcXCJjb21tb24uY2FuY2VsXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtdGltZXMgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udG9vbHRpcFwiLCBbXCJ1aS5ib290c3RyYXBcIl0pXG4gICAgLmRpcmVjdGl2ZShcInJ2VG9vbHRpcFwiLCBbZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiQVwiLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsZW1lbnQpIHtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmFcIik7XG4gICAgICAgICAgZWxlbWVudC5hZGRDbGFzcyhcImZhLXF1ZXN0aW9uLWNpcmNsZVwiKTtcbiAgICAgICAgICBlbGVtZW50LmFkZENsYXNzKFwiZmEtbGdcIik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG5cbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZ29vZ2xlLWRyaXZlLXBpY2tlclwiLCBbXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCJdKVxuICAgIC5kaXJlY3RpdmUoXCJnb29nbGVEcml2ZVBpY2tlclwiLCBbXCIkd2luZG93XCIsIFwiJGRvY3VtZW50XCIsIFwiJGxvZ1wiLCBcIiR0ZW1wbGF0ZUNhY2hlXCIsIFwiYXBpQXV0aFwiLCBcImFwaUdvb2dsZVBpY2tlclwiLFxuICAgICAgZnVuY3Rpb24gKCR3aW5kb3csICRkb2N1bWVudCwgJGxvZywgJHRlbXBsYXRlQ2FjaGUsIGFwaUF1dGgsIGFwaUdvb2dsZVBpY2tlcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICBzY29wZToge1xuICAgICAgICAgIHZpZXdJZDogXCJAXCJcbiAgICAgICAgfSxcbiAgICAgICAgdGVtcGxhdGU6ICR0ZW1wbGF0ZUNhY2hlLmdldChcImdvb2dsZS1kcml2ZS1waWNrZXItdGVtcGxhdGUuaHRtbFwiKSxcbiAgICAgICAgbGluazogZnVuY3Rpb24gKHNjb3BlLCAkZWxlbWVudCwgYXR0cnMpIHtcbiAgICAgICAgICB2YXIgZG9jdW1lbnQgPSAkZG9jdW1lbnRbMF0sXG4gICAgICAgICAgICB2aWV3SWQgPSBhdHRycy52aWV3SWQgfHwgXCJkb2NzXCI7XG5cbiAgICAgICAgICBmdW5jdGlvbiBvblBpY2tlckFjdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBhcGlHb29nbGVQaWNrZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAoZ29vZ2xlKSB7XG4gICAgICAgICAgICAgIGlmIChkYXRhW2dvb2dsZS5waWNrZXIuUmVzcG9uc2UuQUNUSU9OXSA9PT0gZ29vZ2xlLnBpY2tlci5BY3Rpb24uUElDS0VEKSB7XG4gICAgICAgICAgICAgICAgJGxvZy5kZWJ1ZyhcIkZpbGVzIHBpY2tlZFwiLCBkYXRhW2dvb2dsZS5waWNrZXIuUmVzcG9uc2UuRE9DVU1FTlRTXSk7XG4gICAgICAgICAgICAgICAgc2NvcGUuJGVtaXQoXCJwaWNrZWRcIiwgZGF0YVtnb29nbGUucGlja2VyLlJlc3BvbnNlLkRPQ1VNRU5UU10pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVsc2UgaWYgKGRhdGFbZ29vZ2xlLnBpY2tlci5SZXNwb25zZS5BQ1RJT05dID09PSBnb29nbGUucGlja2VyLkFjdGlvbi5DQU5DRUwpIHtcbiAgICAgICAgICAgICAgICAkbG9nLmRlYnVnKFwiRmlsZSBwaWNrIGNhbmNlbGxlZFwiKTtcbiAgICAgICAgICAgICAgICBzY29wZS4kZW1pdChcImNhbmNlbFwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gY3JlYXRlUGlja2VyKGdvb2dsZSkge1xuICAgICAgICAgICAgdmFyIHBhcnNlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpLFxuICAgICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICAgIHBpY2tlcjtcblxuICAgICAgICAgICAgaWYgKGRvY3VtZW50LnJlZmVycmVyKSB7XG4gICAgICAgICAgICAgIGlmIChkb2N1bWVudC5sb2NhdGlvbi5ob3N0bmFtZSA9PT0gXCJsb2NhbGhvc3RcIikge1xuICAgICAgICAgICAgICAgIC8vIENvbXBvbmVudCBpcyB3aXRoaW4gYW4gaWZyYW1lLCBidXQgbGlrZWx5IHdpdGhpbiBhIHdpZGdldCBzZXR0aW5ncyB0ZXN0ZWQgbG9jYWxseSAobG9jYWxob3N0OjgwMDApXG4gICAgICAgICAgICAgICAgb3JpZ2luID0gJHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArICR3aW5kb3cubG9jYXRpb24uaG9zdDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBDb21wb25lbnQgaXMgd2l0aGluIGFuIGlmcmFtZVxuICAgICAgICAgICAgICAgIHBhcnNlci5ocmVmID0gZG9jdW1lbnQucmVmZXJyZXI7XG4gICAgICAgICAgICAgICAgb3JpZ2luID0gcGFyc2VyLnByb3RvY29sICsgXCIvL1wiICsgcGFyc2VyLmhvc3RuYW1lO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBDb21wb25lbnQgaXMgbm90IHdpdGhpbiBhbiBpZnJhbWUsIGxpa2VseSB0ZXN0aW5nIGxvY2FsbHkgaW4gdGhpcyByZXBvIChsb2NhbGhvc3Q6ODA5OSlcbiAgICAgICAgICAgICAgb3JpZ2luID0gJHdpbmRvdy5sb2NhdGlvbi5wcm90b2NvbCArIFwiLy9cIiArICR3aW5kb3cubG9jYXRpb24uaG9zdDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcGlja2VyID0gbmV3IGdvb2dsZS5waWNrZXIuUGlja2VyQnVpbGRlcigpXG4gICAgICAgICAgICAgIC5zZXRPcmlnaW4ob3JpZ2luKVxuICAgICAgICAgICAgICAuYWRkVmlldyh2aWV3SWQpXG4gICAgICAgICAgICAgIC5zZXRPQXV0aFRva2VuKGFwaUF1dGguZ2V0QXV0aFRva2VuKCkpXG4gICAgICAgICAgICAgIC5zZXRDYWxsYmFjayhvblBpY2tlckFjdGlvbilcbiAgICAgICAgICAgICAgLmJ1aWxkKCk7XG5cbiAgICAgICAgICAgIHBpY2tlci5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRlbGVtZW50Lm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKGFwaUF1dGguZ2V0QXV0aFRva2VuKCkpIHtcbiAgICAgICAgICAgICAgYXBpR29vZ2xlUGlja2VyLmdldCgpLnRoZW4oY3JlYXRlUGlja2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCFhcGlBdXRoLmdldEF1dGhUb2tlbigpKSB7XG4gICAgICAgICAgICAgIC8vIEF1dGhvcml6ZSB0aGlzIHRpbWUgd2l0aCBVSSAoaW1tZWRpYXRlID0gZmFsc2UpXG4gICAgICAgICAgICAgIGFwaUF1dGguYXV0aG9yaXplKGZhbHNlKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhdXRoUmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICBpZiAoYXV0aFJlc3VsdCAmJiAhYXV0aFJlc3VsdC5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBhcGlHb29nbGVQaWNrZXIuZ2V0KCkudGhlbihjcmVhdGVQaWNrZXIpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgLy8gU2lsZW50bHkgdHJ5IHRvIGF1dGhvcml6ZShpbW1lZGlhdGUgPSB0cnVlKVxuICAgICAgICAgIGFwaUF1dGguYXV0aG9yaXplKHRydWUpXG4gICAgICAgICAgICAudGhlbihudWxsLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgJGxvZy53YXJuKGVycm9yKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcblxufSkoYW5ndWxhcik7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmdvb2dsZS1kcml2ZS1waWNrZXJcIik7IH1cbmNhdGNoKGVycikgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5nb29nbGUtZHJpdmUtcGlja2VyXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiZ29vZ2xlLWRyaXZlLXBpY2tlci10ZW1wbGF0ZS5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJnb29nbGUtZHJpdmUtcGlja2VyXFxcIj5cXG5cIiArXG4gICAgXCIgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0XFxcIj5cXG5cIiArXG4gICAgXCIgICAge3tcXFwiZ29vZ2xlLWRyaXZlLXBpY2tlci5zZWxlY3RcXFwiIHwgdHJhbnNsYXRlIH19XFxuXCIgK1xuICAgIFwiICAgIDxpbWcgY2xhc3M9XFxcImljb24tcmlnaHRcXFwiIHNyYz1cXFwiLy9zMy5hbWF6b25hd3MuY29tL1Jpc2UtSW1hZ2VzL0ljb25zL2RyaXZlLnN2Z1xcXCI+XFxuXCIgK1xuICAgIFwiICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4vKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG52YXIgaXNDbGllbnRKUyA9IGZhbHNlO1xuZnVuY3Rpb24gaGFuZGxlQ2xpZW50SlNMb2FkKCkge1xuICBpc0NsaWVudEpTID0gdHJ1ZTtcblxuICB2YXIgZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudHNcIik7XG4gIGV2dC5pbml0RXZlbnQoXCJnYXBpLmxvYWRlZFwiLCB0cnVlLCB0cnVlKTtcblxuICB3aW5kb3cuZGlzcGF0Y2hFdmVudChldnQpO1xufVxuLyoganNoaW50IGlnbm9yZTplbmQgKi9cblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmdvb2dsZS1kcml2ZS1waWNrZXJcIilcbiAgICAuZmFjdG9yeShcIm9hdXRoQVBJTG9hZGVyXCIsIFtcIiRxXCIsIFwiJGxvZ1wiLCBcImdhcGlMb2FkZXJcIixcbiAgICAgIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FwaUxvYWRlcikge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICB2YXIgcHJvbWlzZTtcblxuICAgICAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgICAgZ2FwaUxvYWRlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChnQXBpKSB7XG4gICAgICAgICAgICAgICAgZ0FwaS5sb2FkKFwiYXV0aFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAkbG9nLmluZm8oXCJhdXRoIEFQSSBpcyBsb2FkZWRcIik7XG4gICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGdBcGkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICAgIH1dKVxuICAgIC5mYWN0b3J5KFwiZ2FwaUxvYWRlclwiLCBbXCIkcVwiLCBcIiR3aW5kb3dcIixcbiAgICAgIGZ1bmN0aW9uICgkcSwgJHdpbmRvdykge1xuXG4gICAgICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKSxcbiAgICAgICAgICAgICAgZ2FwaUxvYWRlZDtcblxuICAgICAgICAgICAgaWYgKCR3aW5kb3cuaXNDbGllbnRKUykge1xuICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKCR3aW5kb3cuZ2FwaSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBnYXBpTG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nYXBpKTtcbiAgICAgICAgICAgICAgICAkd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJnYXBpLmxvYWRlZFwiLCBnYXBpTG9hZGVkLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICR3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImdhcGkubG9hZGVkXCIsIGdhcGlMb2FkZWQsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICAgIH1dKVxuICAgIC5mYWN0b3J5KFwicGlja2VyTG9hZGVyXCIsIFtcIiRxXCIsIFwiJHdpbmRvd1wiLCBcIiRsb2dcIiwgXCJnYXBpTG9hZGVyXCIsXG4gICAgICBmdW5jdGlvbigkcSwgJHdpbmRvdywgJGxvZywgZ2FwaUxvYWRlcikge1xuXG4gICAgICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgICAgIHZhciBwcm9taXNlO1xuXG4gICAgICAgICAgICBpZiAoIXByb21pc2UpIHtcbiAgICAgICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICAgIGdhcGlMb2FkZXIuZ2V0KCkudGhlbihmdW5jdGlvbiAoZ0FwaSkge1xuICAgICAgICAgICAgICAgIGdBcGkubG9hZChcInBpY2tlclwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAkbG9nLmluZm8oXCJwaWNrZXIgQVBJIGlzIGxvYWRlZFwiKTtcbiAgICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoZ0FwaSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmYWN0b3J5O1xuXG4gICAgICB9XSk7XG5cbn0pKGFuZ3VsYXIpO1xuXG5cblxuKGZ1bmN0aW9uKGFuZ3VsYXIpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZ29vZ2xlLWRyaXZlLXBpY2tlclwiKVxuXG4gICAgLnZhbHVlKFwiQ0xJRU5UX0lEXCIsIFwiNjE0NTEzNzY4NDc0LmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tXCIpXG4gICAgLnZhbHVlKFwiU0NPUEVcIiwgW1wiaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vYXV0aC9kcml2ZVwiXSlcblxuICAgIC5mYWN0b3J5KFwiYXBpQXV0aFwiLCBbXCIkcVwiLCBcIiRodHRwXCIsIFwiJGxvZ1wiLCBcImdhcGlMb2FkZXJcIiwgXCJvYXV0aEFQSUxvYWRlclwiLCBcIkNMSUVOVF9JRFwiLCBcIlNDT1BFXCIsXG4gICAgICBmdW5jdGlvbigkcSwgJGh0dHAsICRsb2csIGdhcGlMb2FkZXIsIG9hdXRoQVBJTG9hZGVyLCBDTElFTlRfSUQsIFNDT1BFKSB7XG5cbiAgICAgICAgdmFyIG9hdXRoVG9rZW4gPSBudWxsLFxuICAgICAgICAgIGZhY3RvcnkgPSB7fTtcblxuICAgICAgICBmYWN0b3J5LmF1dGhvcml6ZSA9IGZ1bmN0aW9uKGF0dGVtcHRJbW1lZGlhdGUpIHtcbiAgICAgICAgICB2YXIgYXV0aG9yaXplRGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgICAgICBjbGllbnRfaWQ6IENMSUVOVF9JRCxcbiAgICAgICAgICAgIHNjb3BlOiBTQ09QRSxcbiAgICAgICAgICAgIGltbWVkaWF0ZTogYXR0ZW1wdEltbWVkaWF0ZVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBvYXV0aEFQSUxvYWRlci5nZXQoKS50aGVuKGZ1bmN0aW9uIChnQXBpKSB7XG4gICAgICAgICAgICBnQXBpLmF1dGguYXV0aG9yaXplKG9wdHMsIGZ1bmN0aW9uIChhdXRoUmVzdWx0KSB7XG5cbiAgICAgICAgICAgICAgaWYgKGF1dGhSZXN1bHQgJiYgIWF1dGhSZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICBvYXV0aFRva2VuID0gYXV0aFJlc3VsdC5hY2Nlc3NfdG9rZW47XG4gICAgICAgICAgICAgICAgYXV0aG9yaXplRGVmZXJyZWQucmVzb2x2ZShhdXRoUmVzdWx0KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBhdXRob3JpemVEZWZlcnJlZC5yZWplY3QoXCJBdXRoZW50aWNhdGlvbiBFcnJvcjogXCIgKyBhdXRoUmVzdWx0LmVycm9yKTtcbiAgICAgICAgICAgICAgICAkbG9nLmRlYnVnKFwiYXV0aG9yaXplIHJlc3VsdFwiLCBhdXRoUmVzdWx0KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGF1dGhvcml6ZURlZmVycmVkLnByb21pc2U7XG4gICAgICAgIH07XG5cbiAgICAgICAgZmFjdG9yeS5nZXRBdXRoVG9rZW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIG9hdXRoVG9rZW47XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICAgIH1dKTtcblxufSkoYW5ndWxhcik7XG5cblxuXG4oZnVuY3Rpb24oYW5ndWxhcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5nb29nbGUtZHJpdmUtcGlja2VyXCIpXG5cbiAgICAuZmFjdG9yeShcImFwaUdvb2dsZVBpY2tlclwiLCBbXCIkcVwiLCBcIiR3aW5kb3dcIiwgXCIkbG9nXCIsIFwicGlja2VyTG9hZGVyXCIsXG4gICAgICBmdW5jdGlvbiAoJHEsICR3aW5kb3csICRsb2csIHBpY2tlckxvYWRlcikge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuICAgICAgICB2YXIgcHJvbWlzZTtcblxuICAgICAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgICBwcm9taXNlID0gZGVmZXJyZWQucHJvbWlzZTtcbiAgICAgICAgICAgICAgcGlja2VyTG9hZGVyLmdldCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZmFjdG9yeTtcblxuICAgICAgfV0pO1xuXG59KShhbmd1bGFyKTtcblxuYW5ndWxhci5tb2R1bGUoJ2NvbG9ycGlja2VyLm1vZHVsZScsIFtdKVxuICAgIC5mYWN0b3J5KCdIZWxwZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAndXNlIHN0cmljdCc7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjbG9zZXN0U2xpZGVyOiBmdW5jdGlvbiAoZWxlbSkge1xuICAgICAgICAgIHZhciBtYXRjaGVzU2VsZWN0b3IgPSBlbGVtLm1hdGNoZXMgfHwgZWxlbS53ZWJraXRNYXRjaGVzU2VsZWN0b3IgfHwgZWxlbS5tb3pNYXRjaGVzU2VsZWN0b3IgfHwgZWxlbS5tc01hdGNoZXNTZWxlY3RvcjtcbiAgICAgICAgICBpZiAobWF0Y2hlc1NlbGVjdG9yLmJpbmQoZWxlbSkoJ0knKSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW0ucGFyZW50Tm9kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGVsZW07XG4gICAgICAgIH0sXG4gICAgICAgIGdldE9mZnNldDogZnVuY3Rpb24gKGVsZW0sIGZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICB2YXJcbiAgICAgICAgICAgIHNjcm9sbFggPSAwLFxuICAgICAgICAgICAgc2Nyb2xsWSA9IDAsXG4gICAgICAgICAgICByZWN0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICB3aGlsZSAoZWxlbSAmJiAhaXNOYU4oZWxlbS5vZmZzZXRMZWZ0KSAmJiAhaXNOYU4oZWxlbS5vZmZzZXRUb3ApKSB7XG4gICAgICAgICAgICBpZiAoIWZpeGVkUG9zaXRpb24gJiYgZWxlbS50YWdOYW1lID09PSAnQk9EWScpIHtcbiAgICAgICAgICAgICAgc2Nyb2xsWCArPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCB8fCBlbGVtLnNjcm9sbExlZnQ7XG4gICAgICAgICAgICAgIHNjcm9sbFkgKz0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBlbGVtLnNjcm9sbFRvcDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNjcm9sbFggKz0gZWxlbS5zY3JvbGxMZWZ0O1xuICAgICAgICAgICAgICBzY3JvbGxZICs9IGVsZW0uc2Nyb2xsVG9wO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxlbSA9IGVsZW0ub2Zmc2V0UGFyZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOiByZWN0LnRvcCArIHdpbmRvdy5wYWdlWU9mZnNldCxcbiAgICAgICAgICAgIGxlZnQ6IHJlY3QubGVmdCArIHdpbmRvdy5wYWdlWE9mZnNldCxcbiAgICAgICAgICAgIHNjcm9sbFg6IHNjcm9sbFgsXG4gICAgICAgICAgICBzY3JvbGxZOiBzY3JvbGxZXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgLy8gYSBzZXQgb2YgUkUncyB0aGF0IGNhbiBtYXRjaCBzdHJpbmdzIGFuZCBnZW5lcmF0ZSBjb2xvciB0dXBsZXMuIGh0dHBzOi8vZ2l0aHViLmNvbS9qcXVlcnkvanF1ZXJ5LWNvbG9yL1xuICAgICAgICBzdHJpbmdQYXJzZXJzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmU6IC9yZ2JhP1xcKFxccyooXFxkezEsM30pXFxzKixcXHMqKFxcZHsxLDN9KVxccyosXFxzKihcXGR7MSwzfSlcXHMqKD86LFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChleGVjUmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgZXhlY1Jlc3VsdFsxXSxcbiAgICAgICAgICAgICAgICBleGVjUmVzdWx0WzJdLFxuICAgICAgICAgICAgICAgIGV4ZWNSZXN1bHRbM10sXG4gICAgICAgICAgICAgICAgZXhlY1Jlc3VsdFs0XVxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmU6IC9yZ2JhP1xcKFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqLFxccyooXFxkKyg/OlxcLlxcZCspPylcXCVcXHMqKD86LFxccyooXFxkKyg/OlxcLlxcZCspPylcXHMqKT9cXCkvLFxuICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChleGVjUmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgMi41NSAqIGV4ZWNSZXN1bHRbMV0sXG4gICAgICAgICAgICAgICAgMi41NSAqIGV4ZWNSZXN1bHRbMl0sXG4gICAgICAgICAgICAgICAgMi41NSAqIGV4ZWNSZXN1bHRbM10sXG4gICAgICAgICAgICAgICAgZXhlY1Jlc3VsdFs0XVxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAge1xuICAgICAgICAgICAgcmU6IC8jKFthLWZBLUYwLTldezJ9KShbYS1mQS1GMC05XXsyfSkoW2EtZkEtRjAtOV17Mn0pLyxcbiAgICAgICAgICAgIHBhcnNlOiBmdW5jdGlvbiAoZXhlY1Jlc3VsdCkge1xuICAgICAgICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgICAgIHBhcnNlSW50KGV4ZWNSZXN1bHRbMV0sIDE2KSxcbiAgICAgICAgICAgICAgICBwYXJzZUludChleGVjUmVzdWx0WzJdLCAxNiksXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoZXhlY1Jlc3VsdFszXSwgMTYpXG4gICAgICAgICAgICAgIF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7XG4gICAgICAgICAgICByZTogLyMoW2EtZkEtRjAtOV0pKFthLWZBLUYwLTldKShbYS1mQS1GMC05XSkvLFxuICAgICAgICAgICAgcGFyc2U6IGZ1bmN0aW9uIChleGVjUmVzdWx0KSB7XG4gICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgcGFyc2VJbnQoZXhlY1Jlc3VsdFsxXSArIGV4ZWNSZXN1bHRbMV0sIDE2KSxcbiAgICAgICAgICAgICAgICBwYXJzZUludChleGVjUmVzdWx0WzJdICsgZXhlY1Jlc3VsdFsyXSwgMTYpLFxuICAgICAgICAgICAgICAgIHBhcnNlSW50KGV4ZWNSZXN1bHRbM10gKyBleGVjUmVzdWx0WzNdLCAxNilcbiAgICAgICAgICAgICAgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH07XG4gICAgfSlcbiAgICAuZmFjdG9yeSgnQ29sb3InLCBbJ0hlbHBlcicsIGZ1bmN0aW9uIChIZWxwZXIpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgaDogMSxcbiAgICAgICAgICBzOiAxLFxuICAgICAgICAgIGI6IDEsXG4gICAgICAgICAgYTogMVxuICAgICAgICB9LFxuICAgICAgICAvLyB0cmFuc2xhdGUgYSBmb3JtYXQgZnJvbSBDb2xvciBvYmplY3QgdG8gYSBzdHJpbmdcbiAgICAgICAgJ3JnYic6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB2YXIgcmdiID0gdGhpcy50b1JHQigpO1xuICAgICAgICAgIHJldHVybiAncmdiKCcgKyByZ2IuciArICcsJyArIHJnYi5nICsgJywnICsgcmdiLmIgKyAnKSc7XG4gICAgICAgIH0sXG4gICAgICAgICdyZ2JhJzogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciByZ2IgPSB0aGlzLnRvUkdCKCk7XG4gICAgICAgICAgcmV0dXJuICdyZ2JhKCcgKyByZ2IuciArICcsJyArIHJnYi5nICsgJywnICsgcmdiLmIgKyAnLCcgKyByZ2IuYSArICcpJztcbiAgICAgICAgfSxcbiAgICAgICAgJ2hleCc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gIHRoaXMudG9IZXgoKTtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBIU0J0b1JHQiBmcm9tIFJhcGhhZWxKU1xuICAgICAgICBSR0J0b0hTQjogZnVuY3Rpb24gKHIsIGcsIGIsIGEpIHtcbiAgICAgICAgICByIC89IDI1NTtcbiAgICAgICAgICBnIC89IDI1NTtcbiAgICAgICAgICBiIC89IDI1NTtcblxuICAgICAgICAgIHZhciBILCBTLCBWLCBDO1xuICAgICAgICAgIFYgPSBNYXRoLm1heChyLCBnLCBiKTtcbiAgICAgICAgICBDID0gViAtIE1hdGgubWluKHIsIGcsIGIpO1xuICAgICAgICAgIEggPSAoQyA9PT0gMCA/IG51bGwgOlxuICAgICAgICAgICAgICBWID09PSByID8gKGcgLSBiKSAvIEMgOlxuICAgICAgICAgICAgICAgICAgViA9PT0gZyA/IChiIC0gcikgLyBDICsgMiA6XG4gICAgICAgICAgICAgICAgICAgICAgKHIgLSBnKSAvIEMgKyA0XG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgSCA9ICgoSCArIDM2MCkgJSA2KSAqIDYwIC8gMzYwO1xuICAgICAgICAgIFMgPSBDID09PSAwID8gMCA6IEMgLyBWO1xuICAgICAgICAgIHJldHVybiB7aDogSCB8fCAxLCBzOiBTLCBiOiBWLCBhOiBhIHx8IDF9O1xuICAgICAgICB9LFxuXG4gICAgICAgIC8vcGFyc2UgYSBzdHJpbmcgdG8gSFNCXG4gICAgICAgIHNldENvbG9yOiBmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgICAgdmFsID0gKHZhbCkgPyB2YWwudG9Mb3dlckNhc2UoKSA6IHZhbDtcbiAgICAgICAgICBmb3IgKHZhciBrZXkgaW4gSGVscGVyLnN0cmluZ1BhcnNlcnMpIHtcbiAgICAgICAgICAgIGlmIChIZWxwZXIuc3RyaW5nUGFyc2Vycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAgIHZhciBwYXJzZXIgPSBIZWxwZXIuc3RyaW5nUGFyc2Vyc1trZXldO1xuICAgICAgICAgICAgICB2YXIgbWF0Y2ggPSBwYXJzZXIucmUuZXhlYyh2YWwpLFxuICAgICAgICAgICAgICAgICAgdmFsdWVzID0gbWF0Y2ggJiYgcGFyc2VyLnBhcnNlKG1hdGNoKTtcbiAgICAgICAgICAgICAgaWYgKHZhbHVlcykge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLlJHQnRvSFNCLmFwcGx5KG51bGwsIHZhbHVlcyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIHNldEh1ZTogZnVuY3Rpb24gKGgpIHtcbiAgICAgICAgICB0aGlzLnZhbHVlLmggPSAxIC0gaDtcbiAgICAgICAgfSxcblxuICAgICAgICBzZXRTYXR1cmF0aW9uOiBmdW5jdGlvbiAocykge1xuICAgICAgICAgIHRoaXMudmFsdWUucyA9IHM7XG4gICAgICAgIH0sXG5cbiAgICAgICAgc2V0TGlnaHRuZXNzOiBmdW5jdGlvbiAoYikge1xuICAgICAgICAgIHRoaXMudmFsdWUuYiA9IDEgLSBiO1xuICAgICAgICB9LFxuXG4gICAgICAgIHNldEFscGhhOiBmdW5jdGlvbiAoYSkge1xuICAgICAgICAgIHRoaXMudmFsdWUuYSA9IHBhcnNlSW50KCgxIC0gYSkgKiAxMDAsIDEwKSAvIDEwMDtcbiAgICAgICAgfSxcblxuICAgICAgICAvLyBIU0J0b1JHQiBmcm9tIFJhcGhhZWxKU1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vRG1pdHJ5QmFyYW5vdnNraXkvcmFwaGFlbC9cbiAgICAgICAgdG9SR0I6IGZ1bmN0aW9uIChoLCBzLCBiLCBhKSB7XG4gICAgICAgICAgaWYgKCFoKSB7XG4gICAgICAgICAgICBoID0gdGhpcy52YWx1ZS5oO1xuICAgICAgICAgICAgcyA9IHRoaXMudmFsdWUucztcbiAgICAgICAgICAgIGIgPSB0aGlzLnZhbHVlLmI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGggKj0gMzYwO1xuICAgICAgICAgIHZhciBSLCBHLCBCLCBYLCBDO1xuICAgICAgICAgIGggPSAoaCAlIDM2MCkgLyA2MDtcbiAgICAgICAgICBDID0gYiAqIHM7XG4gICAgICAgICAgWCA9IEMgKiAoMSAtIE1hdGguYWJzKGggJSAyIC0gMSkpO1xuICAgICAgICAgIFIgPSBHID0gQiA9IGIgLSBDO1xuXG4gICAgICAgICAgaCA9IH5+aDtcbiAgICAgICAgICBSICs9IFtDLCBYLCAwLCAwLCBYLCBDXVtoXTtcbiAgICAgICAgICBHICs9IFtYLCBDLCBDLCBYLCAwLCAwXVtoXTtcbiAgICAgICAgICBCICs9IFswLCAwLCBYLCBDLCBDLCBYXVtoXTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcjogTWF0aC5yb3VuZChSICogMjU1KSxcbiAgICAgICAgICAgIGc6IE1hdGgucm91bmQoRyAqIDI1NSksXG4gICAgICAgICAgICBiOiBNYXRoLnJvdW5kKEIgKiAyNTUpLFxuICAgICAgICAgICAgYTogYSB8fCB0aGlzLnZhbHVlLmFcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuXG4gICAgICAgIHRvSGV4OiBmdW5jdGlvbiAoaCwgcywgYiwgYSkge1xuICAgICAgICAgIHZhciByZ2IgPSB0aGlzLnRvUkdCKGgsIHMsIGIsIGEpO1xuICAgICAgICAgIHJldHVybiAnIycgKyAoKDEgPDwgMjQpIHwgKHBhcnNlSW50KHJnYi5yLCAxMCkgPDwgMTYpIHwgKHBhcnNlSW50KHJnYi5nLCAxMCkgPDwgOCkgfCBwYXJzZUludChyZ2IuYiwgMTApKS50b1N0cmluZygxNikuc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKVxuICAgIC5mYWN0b3J5KCdTbGlkZXInLCBbJ0hlbHBlcicsIGZ1bmN0aW9uIChIZWxwZXIpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgIHZhclxuICAgICAgICAgIHNsaWRlciA9IHtcbiAgICAgICAgICAgIG1heExlZnQ6IDAsXG4gICAgICAgICAgICBtYXhUb3A6IDAsXG4gICAgICAgICAgICBjYWxsTGVmdDogbnVsbCxcbiAgICAgICAgICAgIGNhbGxUb3A6IG51bGwsXG4gICAgICAgICAgICBrbm9iOiB7XG4gICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgbGVmdDogMFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgcG9pbnRlciA9IHt9O1xuXG4gICAgICByZXR1cm4ge1xuICAgICAgICBnZXRTbGlkZXI6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiBzbGlkZXI7XG4gICAgICAgIH0sXG4gICAgICAgIGdldExlZnRQb3NpdGlvbjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2xpZGVyLm1heExlZnQsIHNsaWRlci5sZWZ0ICsgKChldmVudC5wYWdlWCB8fCBwb2ludGVyLmxlZnQpIC0gcG9pbnRlci5sZWZ0KSkpO1xuICAgICAgICB9LFxuICAgICAgICBnZXRUb3BQb3NpdGlvbjogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICByZXR1cm4gTWF0aC5tYXgoMCwgTWF0aC5taW4oc2xpZGVyLm1heFRvcCwgc2xpZGVyLnRvcCArICgoZXZlbnQucGFnZVkgfHwgcG9pbnRlci50b3ApIC0gcG9pbnRlci50b3ApKSk7XG4gICAgICAgIH0sXG4gICAgICAgIHNldFNsaWRlcjogZnVuY3Rpb24gKGV2ZW50LCBmaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICB0YXJnZXQgPSBIZWxwZXIuY2xvc2VzdFNsaWRlcihldmVudC50YXJnZXQpLFxuICAgICAgICAgICAgdGFyZ2V0T2Zmc2V0ID0gSGVscGVyLmdldE9mZnNldCh0YXJnZXQsIGZpeGVkUG9zaXRpb24pLFxuICAgICAgICAgICAgcmVjdCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxcbiAgICAgICAgICAgIG9mZnNldFggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0LFxuICAgICAgICAgICAgb2Zmc2V0WSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcDtcblxuICAgICAgICAgIHNsaWRlci5rbm9iID0gdGFyZ2V0LmNoaWxkcmVuWzBdLnN0eWxlO1xuICAgICAgICAgIHNsaWRlci5sZWZ0ID0gZXZlbnQucGFnZVggLSB0YXJnZXRPZmZzZXQubGVmdCAtIHdpbmRvdy5wYWdlWE9mZnNldCArIHRhcmdldE9mZnNldC5zY3JvbGxYO1xuICAgICAgICAgIHNsaWRlci50b3AgPSBldmVudC5wYWdlWSAtIHRhcmdldE9mZnNldC50b3AgLSB3aW5kb3cucGFnZVlPZmZzZXQgKyB0YXJnZXRPZmZzZXQuc2Nyb2xsWTtcblxuICAgICAgICAgIHBvaW50ZXIgPSB7XG4gICAgICAgICAgICBsZWZ0OiBldmVudC5wYWdlWCAtIChvZmZzZXRYIC0gc2xpZGVyLmxlZnQpLFxuICAgICAgICAgICAgdG9wOiBldmVudC5wYWdlWSAtIChvZmZzZXRZIC0gc2xpZGVyLnRvcClcbiAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBzZXRTYXR1cmF0aW9uOiBmdW5jdGlvbihldmVudCwgZml4ZWRQb3NpdGlvbikge1xuICAgICAgICAgIHNsaWRlciA9IHtcbiAgICAgICAgICAgIG1heExlZnQ6IDEwMCxcbiAgICAgICAgICAgIG1heFRvcDogMTAwLFxuICAgICAgICAgICAgY2FsbExlZnQ6ICdzZXRTYXR1cmF0aW9uJyxcbiAgICAgICAgICAgIGNhbGxUb3A6ICdzZXRMaWdodG5lc3MnXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLnNldFNsaWRlcihldmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEh1ZTogZnVuY3Rpb24oZXZlbnQsIGZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICBzbGlkZXIgPSB7XG4gICAgICAgICAgICBtYXhMZWZ0OiAwLFxuICAgICAgICAgICAgbWF4VG9wOiAxMDAsXG4gICAgICAgICAgICBjYWxsTGVmdDogZmFsc2UsXG4gICAgICAgICAgICBjYWxsVG9wOiAnc2V0SHVlJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5zZXRTbGlkZXIoZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICBzZXRBbHBoYTogZnVuY3Rpb24oZXZlbnQsIGZpeGVkUG9zaXRpb24pIHtcbiAgICAgICAgICBzbGlkZXIgPSB7XG4gICAgICAgICAgICBtYXhMZWZ0OiAwLFxuICAgICAgICAgICAgbWF4VG9wOiAxMDAsXG4gICAgICAgICAgICBjYWxsTGVmdDogZmFsc2UsXG4gICAgICAgICAgICBjYWxsVG9wOiAnc2V0QWxwaGEnXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLnNldFNsaWRlcihldmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldEtub2I6IGZ1bmN0aW9uKHRvcCwgbGVmdCkge1xuICAgICAgICAgIHNsaWRlci5rbm9iLnRvcCA9IHRvcCArICdweCc7XG4gICAgICAgICAgc2xpZGVyLmtub2IubGVmdCA9IGxlZnQgKyAncHgnO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKVxuICAgIC5kaXJlY3RpdmUoJ2NvbG9ycGlja2VyJywgWyckZG9jdW1lbnQnLCAnJGNvbXBpbGUnLCAnQ29sb3InLCAnU2xpZGVyJywgJ0hlbHBlcicsIGZ1bmN0aW9uICgkZG9jdW1lbnQsICRjb21waWxlLCBDb2xvciwgU2xpZGVyLCBIZWxwZXIpIHtcbiAgICAgICd1c2Ugc3RyaWN0JztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlcXVpcmU6ICc/bmdNb2RlbCcsXG4gICAgICAgIHJlc3RyaWN0OiAnQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uICgkc2NvcGUsIGVsZW0sIGF0dHJzLCBuZ01vZGVsKSB7XG4gICAgICAgICAgdmFyXG4gICAgICAgICAgICAgIHRoaXNGb3JtYXQgPSBhdHRycy5jb2xvcnBpY2tlciA/IGF0dHJzLmNvbG9ycGlja2VyIDogJ2hleCcsXG4gICAgICAgICAgICAgIGlzQmFja2dyb3VuZFNldHRpbmcgPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5iYWNrZ3JvdW5kU2V0dGluZykgPyB0cnVlIDogZmFsc2UsXG4gICAgICAgICAgICAgIHBvc2l0aW9uID0gYW5ndWxhci5pc0RlZmluZWQoYXR0cnMuY29sb3JwaWNrZXJQb3NpdGlvbikgPyBhdHRycy5jb2xvcnBpY2tlclBvc2l0aW9uIDogJ2JvdHRvbScsXG4gICAgICAgICAgICAgIGlubGluZSA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNvbG9ycGlja2VySW5saW5lKSA/IGF0dHJzLmNvbG9ycGlja2VySW5saW5lIDogZmFsc2UsXG4gICAgICAgICAgICAgIGZpeGVkUG9zaXRpb24gPSBhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jb2xvcnBpY2tlckZpeGVkUG9zaXRpb24pID8gYXR0cnMuY29sb3JwaWNrZXJGaXhlZFBvc2l0aW9uIDogZmFsc2UsXG4gICAgICAgICAgICAgIHRhcmdldCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNvbG9ycGlja2VyUGFyZW50KSA/IGVsZW0ucGFyZW50KCkgOiBhbmd1bGFyLmVsZW1lbnQoZG9jdW1lbnQuYm9keSksXG4gICAgICAgICAgICAgIHdpdGhJbnB1dCA9IGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNvbG9ycGlja2VyV2l0aElucHV0KSA/IGF0dHJzLmNvbG9ycGlja2VyV2l0aElucHV0IDogZmFsc2UsXG4gICAgICAgICAgICAgIGlucHV0VGVtcGxhdGUgPSB3aXRoSW5wdXQgPyAnPGlucHV0IHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImNvbG9ycGlja2VyLWlucHV0XCIgc3BlbGxjaGVjaz1cImZhbHNlXCI+JyA6ICcnLFxuICAgICAgICAgICAgICBjbG9zZUJ1dHRvbiA9ICFpbmxpbmUgPyAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJjbG9zZSBjbG9zZS1jb2xvcnBpY2tlclwiPiZ0aW1lczs8L2J1dHRvbj4nIDogJycsXG4gICAgICAgICAgICAgIHRlbXBsYXRlID0gaXNCYWNrZ3JvdW5kU2V0dGluZyA/XG4gICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImNvbG9ycGlja2VyIGRyb3Bkb3duXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGNvbG9ycGlja2VyLXNhdHVyYXRpb24+PGk+PC9pPjwvY29sb3JwaWNrZXItc2F0dXJhdGlvbj4nICtcbiAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1odWU+PGk+PC9pPjwvY29sb3JwaWNrZXItaHVlPicgK1xuICAgICAgICAgICAgICAgICAgICAnPGNvbG9ycGlja2VyLWFscGhhPjxpPjwvaT48L2NvbG9ycGlja2VyLWFscGhhPicgK1xuICAgICAgICAgICAgICAgICAgICBpbnB1dFRlbXBsYXRlICtcbiAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xuICAgICAgICAgICAgICAgICAgICAnPC9kaXY+J1xuICAgICAgICAgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiY29sb3JwaWNrZXIgZHJvcGRvd25cIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPGNvbG9ycGlja2VyLXNhdHVyYXRpb24+PGk+PC9pPjwvY29sb3JwaWNrZXItc2F0dXJhdGlvbj4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPGNvbG9ycGlja2VyLWh1ZT48aT48L2k+PC9jb2xvcnBpY2tlci1odWU+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzxjb2xvcnBpY2tlci1hbHBoYT48aT48L2k+PC9jb2xvcnBpY2tlci1hbHBoYT4nICtcbiAgICAgICAgICAgICAgICAgICAgICAnPGNvbG9ycGlja2VyLXByZXZpZXc+PC9jb2xvcnBpY2tlci1wcmV2aWV3PicgK1xuICAgICAgICAgICAgICAgICAgICAgIGlucHV0VGVtcGxhdGUgK1xuICAgICAgICAgICAgICAgICAgICAgIGNsb3NlQnV0dG9uICtcbiAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXG4gICAgICAgICAgICAgICAgICAgICAgJzwvZGl2PicsXG4gICAgICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGUgPSBhbmd1bGFyLmVsZW1lbnQodGVtcGxhdGUpLFxuICAgICAgICAgICAgICBwaWNrZXJDb2xvciA9IENvbG9yLFxuICAgICAgICAgICAgICBzbGlkZXJBbHBoYSxcbiAgICAgICAgICAgICAgc2xpZGVySHVlID0gY29sb3JwaWNrZXJUZW1wbGF0ZS5maW5kKCdjb2xvcnBpY2tlci1odWUnKSxcbiAgICAgICAgICAgICAgc2xpZGVyU2F0dXJhdGlvbiA9IGNvbG9ycGlja2VyVGVtcGxhdGUuZmluZCgnY29sb3JwaWNrZXItc2F0dXJhdGlvbicpLFxuICAgICAgICAgICAgICBjb2xvcnBpY2tlclByZXZpZXcgPSBjb2xvcnBpY2tlclRlbXBsYXRlLmZpbmQoJ2NvbG9ycGlja2VyLXByZXZpZXcnKSxcbiAgICAgICAgICAgICAgcGlja2VyQ29sb3JQb2ludGVycyA9IGNvbG9ycGlja2VyVGVtcGxhdGUuZmluZCgnaScpO1xuXG4gICAgICAgICAgJGNvbXBpbGUoY29sb3JwaWNrZXJUZW1wbGF0ZSkoJHNjb3BlKTtcblxuICAgICAgICAgIGlmICh3aXRoSW5wdXQpIHtcbiAgICAgICAgICAgIHZhciBwaWNrZXJDb2xvcklucHV0ID0gY29sb3JwaWNrZXJUZW1wbGF0ZS5maW5kKCdpbnB1dCcpO1xuICAgICAgICAgICAgcGlja2VyQ29sb3JJbnB1dFxuICAgICAgICAgICAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIC5vbigna2V5dXAnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3Q29sb3IgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgIGVsZW0udmFsKG5ld0NvbG9yKTtcbiAgICAgICAgICAgICAgICBpZiAobmdNb2RlbCAmJiBuZ01vZGVsLiRtb2RlbFZhbHVlICE9PSBuZXdDb2xvcikge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLiRhcHBseShuZ01vZGVsLiRzZXRWaWV3VmFsdWUobmV3Q29sb3IpKTtcbiAgICAgICAgICAgICAgICAgIHVwZGF0ZSh0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGJpbmRNb3VzZUV2ZW50cygpIHtcbiAgICAgICAgICAgICRkb2N1bWVudC5vbignbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcbiAgICAgICAgICAgICRkb2N1bWVudC5vbignbW91c2V1cCcsIG1vdXNldXApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICh0aGlzRm9ybWF0ID09PSAncmdiYScpIHtcbiAgICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGUuYWRkQ2xhc3MoJ2FscGhhJyk7XG4gICAgICAgICAgICBzbGlkZXJBbHBoYSA9IGNvbG9ycGlja2VyVGVtcGxhdGUuZmluZCgnY29sb3JwaWNrZXItYWxwaGEnKTtcbiAgICAgICAgICAgIHNsaWRlckFscGhhXG4gICAgICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICBTbGlkZXIuc2V0QWxwaGEoZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgICAgbW91c2Vtb3ZlKGV2ZW50KTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbignbW91c2Vkb3duJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgIFNsaWRlci5zZXRBbHBoYShldmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICBiaW5kTW91c2VFdmVudHMoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbignbW91c2V1cCcsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICAgIGVtaXRFdmVudCgnY29sb3JwaWNrZXItc2VsZWN0ZWQtYWxwaGEnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzbGlkZXJIdWVcbiAgICAgICAgICAgICAgLm9uKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgU2xpZGVyLnNldEh1ZShldmVudCwgZml4ZWRQb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgbW91c2Vtb3ZlKGV2ZW50KTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIFNsaWRlci5zZXRIdWUoZXZlbnQsIGZpeGVkUG9zaXRpb24pO1xuICAgICAgICAgICAgICAgIGJpbmRNb3VzZUV2ZW50cygpO1xuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAub24oJ21vdXNldXAnLCBmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgZW1pdEV2ZW50KCdjb2xvcnBpY2tlci1zZWxlY3RlZC1odWUnKTtcbiAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBzbGlkZXJTYXR1cmF0aW9uXG4gICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIFNsaWRlci5zZXRTYXR1cmF0aW9uKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBtb3VzZW1vdmUoZXZlbnQpO1xuICAgICAgICAgICAgICAgIGlmIChhbmd1bGFyLmlzRGVmaW5lZChhdHRycy5jb2xvcnBpY2tlckNsb3NlT25TZWxlY3QpKSB7XG4gICAgICAgICAgICAgICAgICBoaWRlQ29sb3JwaWNrZXJUZW1wbGF0ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLm9uKCdtb3VzZWRvd24nLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgIFNsaWRlci5zZXRTYXR1cmF0aW9uKGV2ZW50LCBmaXhlZFBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICBiaW5kTW91c2VFdmVudHMoKTtcbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgLm9uKCdtb3VzZXVwJywgZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgIGVtaXRFdmVudCgnY29sb3JwaWNrZXItc2VsZWN0ZWQtc2F0dXJhdGlvbicpO1xuICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmIChmaXhlZFBvc2l0aW9uKSB7XG4gICAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLmFkZENsYXNzKCdjb2xvcnBpY2tlci1maXhlZC1wb3NpdGlvbicpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGUuYWRkQ2xhc3MoJ2NvbG9ycGlja2VyLXBvc2l0aW9uLScgKyBwb3NpdGlvbik7XG4gICAgICAgICAgaWYgKGlubGluZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlLmFkZENsYXNzKCdjb2xvcnBpY2tlci1pbmxpbmUnKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0YXJnZXQuYXBwZW5kKGNvbG9ycGlja2VyVGVtcGxhdGUpO1xuXG4gICAgICAgICAgaWYgKG5nTW9kZWwpIHtcbiAgICAgICAgICAgIG5nTW9kZWwuJHJlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZWxlbS52YWwobmdNb2RlbC4kdmlld1ZhbHVlKTtcblxuICAgICAgICAgICAgICB1cGRhdGUoKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZWxlbS5vbignYmx1ciBrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZWxlbS5vbignJGRlc3Ryb3knLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGUucmVtb3ZlKCk7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBmdW5jdGlvbiBwcmV2aWV3Q29sb3IoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb2xvcnBpY2tlclByZXZpZXcuY3NzKCdiYWNrZ3JvdW5kQ29sb3InLCBwaWNrZXJDb2xvclt0aGlzRm9ybWF0XSgpKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY29sb3JwaWNrZXJQcmV2aWV3LmNzcygnYmFja2dyb3VuZENvbG9yJywgcGlja2VyQ29sb3IudG9IZXgoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzbGlkZXJTYXR1cmF0aW9uLmNzcygnYmFja2dyb3VuZENvbG9yJywgcGlja2VyQ29sb3IudG9IZXgocGlja2VyQ29sb3IudmFsdWUuaCwgMSwgMSwgMSkpO1xuICAgICAgICAgICAgaWYgKHRoaXNGb3JtYXQgPT09ICdyZ2JhJykge1xuICAgICAgICAgICAgICBzbGlkZXJBbHBoYS5jc3MuYmFja2dyb3VuZENvbG9yID0gcGlja2VyQ29sb3IudG9IZXgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBtb3VzZW1vdmUoZXZlbnQpIHtcbiAgICAgICAgICAgIHZhciBcbiAgICAgICAgICAgICAgICBsZWZ0ID0gU2xpZGVyLmdldExlZnRQb3NpdGlvbihldmVudCksXG4gICAgICAgICAgICAgICAgdG9wID0gU2xpZGVyLmdldFRvcFBvc2l0aW9uKGV2ZW50KSxcbiAgICAgICAgICAgICAgICBzbGlkZXIgPSBTbGlkZXIuZ2V0U2xpZGVyKCk7XG5cbiAgICAgICAgICAgIFNsaWRlci5zZXRLbm9iKHRvcCwgbGVmdCk7XG5cbiAgICAgICAgICAgIGlmIChzbGlkZXIuY2FsbExlZnQpIHtcbiAgICAgICAgICAgICAgcGlja2VyQ29sb3Jbc2xpZGVyLmNhbGxMZWZ0XS5jYWxsKHBpY2tlckNvbG9yLCBsZWZ0IC8gMTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzbGlkZXIuY2FsbFRvcCkge1xuICAgICAgICAgICAgICBwaWNrZXJDb2xvcltzbGlkZXIuY2FsbFRvcF0uY2FsbChwaWNrZXJDb2xvciwgdG9wIC8gMTAwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHByZXZpZXdDb2xvcigpO1xuICAgICAgICAgICAgdmFyIG5ld0NvbG9yID0gcGlja2VyQ29sb3JbdGhpc0Zvcm1hdF0oKTtcbiAgICAgICAgICAgIGVsZW0udmFsKG5ld0NvbG9yKTtcbiAgICAgICAgICAgIGlmIChuZ01vZGVsKSB7XG4gICAgICAgICAgICAgICRzY29wZS4kYXBwbHkobmdNb2RlbC4kc2V0Vmlld1ZhbHVlKG5ld0NvbG9yKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAod2l0aElucHV0KSB7XG4gICAgICAgICAgICAgIHBpY2tlckNvbG9ySW5wdXQudmFsKG5ld0NvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBtb3VzZXVwKCkge1xuICAgICAgICAgICAgZW1pdEV2ZW50KCdjb2xvcnBpY2tlci1zZWxlY3RlZCcpO1xuICAgICAgICAgICAgJGRvY3VtZW50Lm9mZignbW91c2Vtb3ZlJywgbW91c2Vtb3ZlKTtcbiAgICAgICAgICAgICRkb2N1bWVudC5vZmYoJ21vdXNldXAnLCBtb3VzZXVwKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiB1cGRhdGUob21pdElubmVySW5wdXQpIHtcbiAgICAgICAgICAgIHBpY2tlckNvbG9yLnNldENvbG9yKGVsZW0udmFsKCkpO1xuICAgICAgICAgICAgaWYgKHdpdGhJbnB1dCAmJiAhb21pdElubmVySW5wdXQpIHtcbiAgICAgICAgICAgICAgcGlja2VyQ29sb3JJbnB1dC52YWwoZWxlbS52YWwoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwaWNrZXJDb2xvclBvaW50ZXJzLmVxKDApLmNzcyh7XG4gICAgICAgICAgICAgIGxlZnQ6IHBpY2tlckNvbG9yLnZhbHVlLnMgKiAxMDAgKyAncHgnLFxuICAgICAgICAgICAgICB0b3A6IDEwMCAtIHBpY2tlckNvbG9yLnZhbHVlLmIgKiAxMDAgKyAncHgnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBpY2tlckNvbG9yUG9pbnRlcnMuZXEoMSkuY3NzKCd0b3AnLCAxMDAgKiAoMSAtIHBpY2tlckNvbG9yLnZhbHVlLmgpICsgJ3B4Jyk7XG4gICAgICAgICAgICBwaWNrZXJDb2xvclBvaW50ZXJzLmVxKDIpLmNzcygndG9wJywgMTAwICogKDEgLSBwaWNrZXJDb2xvci52YWx1ZS5hKSArICdweCcpO1xuICAgICAgICAgICAgcHJldmlld0NvbG9yKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0Q29sb3JwaWNrZXJUZW1wbGF0ZVBvc2l0aW9uKCkge1xuICAgICAgICAgICAgdmFyXG4gICAgICAgICAgICAgICAgcG9zaXRpb25WYWx1ZSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbk9mZnNldCA9IEhlbHBlci5nZXRPZmZzZXQoZWxlbVswXSk7XG5cbiAgICAgICAgICAgIGlmKGFuZ3VsYXIuaXNEZWZpbmVkKGF0dHJzLmNvbG9ycGlja2VyUGFyZW50KSkge1xuICAgICAgICAgICAgICBwb3NpdGlvbk9mZnNldC5sZWZ0ID0gMDtcbiAgICAgICAgICAgICAgcG9zaXRpb25PZmZzZXQudG9wID0gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgICAgICAgICBwb3NpdGlvblZhbHVlID0gIHtcbiAgICAgICAgICAgICAgICAndG9wJzogcG9zaXRpb25PZmZzZXQudG9wIC0gMTQ3LFxuICAgICAgICAgICAgICAgICdsZWZ0JzogcG9zaXRpb25PZmZzZXQubGVmdFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwb3NpdGlvbiA9PT0gJ3JpZ2h0Jykge1xuICAgICAgICAgICAgICBwb3NpdGlvblZhbHVlID0ge1xuICAgICAgICAgICAgICAgICd0b3AnOiBwb3NpdGlvbk9mZnNldC50b3AsXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiBwb3NpdGlvbk9mZnNldC5sZWZ0ICsgMTI2XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnYm90dG9tJykge1xuICAgICAgICAgICAgICBwb3NpdGlvblZhbHVlID0ge1xuICAgICAgICAgICAgICAgICd0b3AnOiBwb3NpdGlvbk9mZnNldC50b3AgKyBlbGVtWzBdLm9mZnNldEhlaWdodCArIDIsXG4gICAgICAgICAgICAgICAgJ2xlZnQnOiBwb3NpdGlvbk9mZnNldC5sZWZ0XG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBvc2l0aW9uID09PSAnbGVmdCcpIHtcbiAgICAgICAgICAgICAgcG9zaXRpb25WYWx1ZSA9IHtcbiAgICAgICAgICAgICAgICAndG9wJzogcG9zaXRpb25PZmZzZXQudG9wLFxuICAgICAgICAgICAgICAgICdsZWZ0JzogcG9zaXRpb25PZmZzZXQubGVmdCAtIDE1MFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgJ3RvcCc6IHBvc2l0aW9uVmFsdWUudG9wICsgJ3B4JyxcbiAgICAgICAgICAgICAgJ2xlZnQnOiBwb3NpdGlvblZhbHVlLmxlZnQgKyAncHgnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIGRvY3VtZW50TW91c2Vkb3duSGFuZGxlcigpIHtcbiAgICAgICAgICAgIGhpZGVDb2xvcnBpY2tlclRlbXBsYXRlKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gc2hvd0NvbG9ycGlja2VyVGVtcGxhdGUoKSB7XG5cbiAgICAgICAgICAgIGlmICghY29sb3JwaWNrZXJUZW1wbGF0ZS5oYXNDbGFzcygnY29sb3JwaWNrZXItdmlzaWJsZScpKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZSgpO1xuICAgICAgICAgICAgICBjb2xvcnBpY2tlclRlbXBsYXRlXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCdjb2xvcnBpY2tlci12aXNpYmxlJylcbiAgICAgICAgICAgICAgICAuY3NzKGdldENvbG9ycGlja2VyVGVtcGxhdGVQb3NpdGlvbigpKTtcbiAgICAgICAgICAgICAgZW1pdEV2ZW50KCdjb2xvcnBpY2tlci1zaG93bicpO1xuXG4gICAgICAgICAgICAgIGlmIChpbmxpbmUgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgLy8gcmVnaXN0ZXIgZ2xvYmFsIG1vdXNlZG93biBldmVudCB0byBoaWRlIHRoZSBjb2xvcnBpY2tlclxuICAgICAgICAgICAgICAgICRkb2N1bWVudC5vbignbW91c2Vkb3duJywgZG9jdW1lbnRNb3VzZWRvd25IYW5kbGVyKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmIChhdHRycy5jb2xvcnBpY2tlcklzT3Blbikge1xuICAgICAgICAgICAgICAgICRzY29wZVthdHRycy5jb2xvcnBpY2tlcklzT3Blbl0gPSB0cnVlO1xuICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kZGlnZXN0KCk7IC8vdHJpZ2dlciB0aGUgd2F0Y2hlciB0byBmaXJlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKGlubGluZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGVsZW0ub24oJ2NsaWNrJywgc2hvd0NvbG9ycGlja2VyVGVtcGxhdGUpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzaG93Q29sb3JwaWNrZXJUZW1wbGF0ZSgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbG9ycGlja2VyVGVtcGxhdGUub24oJ21vdXNlZG93bicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZnVuY3Rpb24gZW1pdEV2ZW50KG5hbWUpIHtcbiAgICAgICAgICAgIGlmIChuZ01vZGVsKSB7XG4gICAgICAgICAgICAgICRzY29wZS4kZW1pdChuYW1lLCB7XG4gICAgICAgICAgICAgICAgbmFtZTogYXR0cnMubmdNb2RlbCxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbmdNb2RlbC4kbW9kZWxWYWx1ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiBoaWRlQ29sb3JwaWNrZXJUZW1wbGF0ZSgpIHtcbiAgICAgICAgICAgIGlmIChjb2xvcnBpY2tlclRlbXBsYXRlLmhhc0NsYXNzKCdjb2xvcnBpY2tlci12aXNpYmxlJykpIHtcbiAgICAgICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZS5yZW1vdmVDbGFzcygnY29sb3JwaWNrZXItdmlzaWJsZScpO1xuICAgICAgICAgICAgICBlbWl0RXZlbnQoJ2NvbG9ycGlja2VyLWNsb3NlZCcpO1xuICAgICAgICAgICAgICAvLyB1bnJlZ2lzdGVyIHRoZSBnbG9iYWwgbW91c2Vkb3duIGV2ZW50XG4gICAgICAgICAgICAgICRkb2N1bWVudC5vZmYoJ21vdXNlZG93bicsIGRvY3VtZW50TW91c2Vkb3duSGFuZGxlcik7XG5cbiAgICAgICAgICAgICAgaWYgKGF0dHJzLmNvbG9ycGlja2VySXNPcGVuKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlW2F0dHJzLmNvbG9ycGlja2VySXNPcGVuXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmICghJHNjb3BlLiQkcGhhc2UpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS4kZGlnZXN0KCk7IC8vdHJpZ2dlciB0aGUgd2F0Y2hlciB0byBmaXJlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgY29sb3JwaWNrZXJUZW1wbGF0ZS5maW5kKCdidXR0b24nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBoaWRlQ29sb3JwaWNrZXJUZW1wbGF0ZSgpO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGF0dHJzLmNvbG9ycGlja2VySXNPcGVuKSB7XG4gICAgICAgICAgICAkc2NvcGUuJHdhdGNoKGF0dHJzLmNvbG9ycGlja2VySXNPcGVuLCBmdW5jdGlvbihzaG91bGRCZU9wZW4pIHtcblxuICAgICAgICAgICAgICBpZiAoc2hvdWxkQmVPcGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgc2hvd0NvbG9ycGlja2VyVGVtcGxhdGUoKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChzaG91bGRCZU9wZW4gPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgaGlkZUNvbG9ycGlja2VyVGVtcGxhdGUoKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xuXG5pZih0eXBlb2YgVEVNUExBVEVTID09PSAndW5kZWZpbmVkJykge3ZhciBURU1QTEFURVMgPSB7fTt9XG5URU1QTEFURVNbJ2FsaWdubWVudC5odG1sJ10gPSBcIjxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cCBhbGlnbm1lbnRcXFwiPlxcblwiICtcbiAgICBcIiAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtIGJ0bi1hbGlnbm1lbnQgZHJvcGRvd24tdG9nZ2xlXFxcIlxcblwiICtcbiAgICBcIiAgICBkYXRhLXRvZ2dsZT1cXFwiZHJvcGRvd25cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImxlZnRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tbGVmdFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICA8c3BhbiBjbGFzcz1cXFwiY2FyZXRcXFwiPjwvc3Bhbj5cXG5cIiArXG4gICAgXCIgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwiZHJvcGRvd24tbWVudVxcXCIgcm9sZT1cXFwibWVudVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImJ0bi1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJhbGlnbm1lbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJsZWZ0XFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWFsaWduLWxlZnRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQ9XFxcImFsaWdubWVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImNlbnRlclxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1jZW50ZXJcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQ9XFxcImFsaWdubWVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcInJpZ2h0XFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWFsaWduLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJidG4gYnRuLWRlZmF1bHQgYnRuLXNtXFxcIiBkYXRhLXd5c2lodG1sNS1jb21tYW5kPVxcXCJhbGlnbm1lbnRcXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICBkYXRhLXd5c2lodG1sNS1jb21tYW5kLXZhbHVlPVxcXCJqdXN0aWZ5XFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWFsaWduLWp1c3RpZnlcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIjsgXG4vKiAgQ29weXJpZ2h0IMKpIDIwMTQgUmlzZSBWaXNpb24gSW5jb3Jwb3JhdGVkLlxuICogIFVzZSBvZiB0aGlzIHNvZnR3YXJlIGlzIGdvdmVybmVkIGJ5IHRoZSBHUEx2MyBsaWNlbnNlXG4gKiAgKHJlcHJvZHVjZWQgaW4gdGhlIExJQ0VOU0UgZmlsZSkuXG4gKi9cblxuLyogZ2xvYmFsIFRFTVBMQVRFUyAqL1xuOyhmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCwgVEVNUExBVEVTLCB1bmRlZmluZWQpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgdmFyIF9wbHVnaW5OYW1lID0gXCJhbGlnbm1lbnRcIjtcblxuICBmdW5jdGlvbiBQbHVnaW4oZWxlbWVudCwgb3B0aW9ucykge1xuICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCk7XG4gICAgdmFyICRidG5BbGlnbm1lbnQgPSBudWxsO1xuICAgIHZhciBkZWZhdWx0QWxpZ25tZW50ID0gXCJsZWZ0XCI7XG5cbiAgICBvcHRpb25zID0gJC5leHRlbmQoe30sIHsgXCJhbGlnblwiOiBkZWZhdWx0QWxpZ25tZW50IH0sIG9wdGlvbnMpO1xuXG4gICAgLypcbiAgICAgKiAgUHJpdmF0ZSBNZXRob2RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgICAvLyBHZXQgdGhlIEhUTUwgbWFya3VwIGZyb20gdGhlIHRlbXBsYXRlLlxuICAgICAgJGVsZW1lbnQuYXBwZW5kKFRFTVBMQVRFU1tcImFsaWdubWVudC5odG1sXCJdKTtcbiAgICAgICRidG5BbGlnbm1lbnQgPSAkZWxlbWVudC5maW5kKFwiLmJ0bi1hbGlnbm1lbnRcIik7XG5cbiAgICAgIHNldEFsaWdubWVudChvcHRpb25zLmFsaWduKTtcblxuICAgICAgJGVsZW1lbnQuZmluZChcIi5kcm9wZG93bi1tZW51IGJ1dHRvblwiKS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgYWxpZ25tZW50ID0gJCh0aGlzKS5kYXRhKFwid3lzaWh0bWw1LWNvbW1hbmQtdmFsdWVcIik7XG5cbiAgICAgICAgc2V0QWxpZ25tZW50KGFsaWdubWVudCk7XG4gICAgICAgICRlbGVtZW50LnRyaWdnZXIoXCJhbGlnbm1lbnRDaGFuZ2VkXCIsIGFsaWdubWVudCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKlxuICAgICAqICBQdWJsaWMgTWV0aG9kc1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldEFsaWdubWVudCgpIHtcbiAgICAgcmV0dXJuICRidG5BbGlnbm1lbnQuZGF0YShcInd5c2lodG1sNS1jb21tYW5kLXZhbHVlXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNldEFsaWdubWVudChhbGlnbm1lbnQpIHtcbiAgICAgIHZhciAkcHJpbWFyeUljb24gPSAkZWxlbWVudC5maW5kKFwiLmJ0bi1hbGlnbm1lbnQgLmZhXCIpO1xuICAgICAgdmFyIGN1cnJlbnRDbGFzcyA9ICRwcmltYXJ5SWNvbi5hdHRyKFwiY2xhc3NcIikubWF0Y2goL2ZhLWFsaWduLVthLXpdKy9nKTtcbiAgICAgIHZhciBuZXdDbGFzcyA9IFwiZmEtYWxpZ24tXCIgKyBhbGlnbm1lbnQ7XG5cbiAgICAgIC8vIFJlbW92ZSBjdXJyZW50IGFsaWdubWVudCBpY29uLlxuICAgICAgaWYgKGN1cnJlbnRDbGFzcyAmJiBjdXJyZW50Q2xhc3MubGVuZ3RoID4gMCkge1xuICAgICAgICAkcHJpbWFyeUljb24ucmVtb3ZlQ2xhc3MoY3VycmVudENsYXNzWzBdKTtcbiAgICAgIH1cblxuICAgICAgLy8gQWRkIG5ldyBhbGlnbm1lbnQgaWNvbi5cbiAgICAgICRwcmltYXJ5SWNvbi5hZGRDbGFzcyhuZXdDbGFzcyk7XG4gICAgICAkYnRuQWxpZ25tZW50LmRhdGEoXCJ3eXNpaHRtbDUtY29tbWFuZC12YWx1ZVwiLCBhbGlnbm1lbnQpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2V0KCkge1xuICAgICAgc2V0QWxpZ25tZW50KGRlZmF1bHRBbGlnbm1lbnQpO1xuICAgIH1cblxuICAgIF9pbml0KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgZ2V0QWxpZ25tZW50OiBnZXRBbGlnbm1lbnQsXG4gICAgICBzZXRBbGlnbm1lbnQ6IHNldEFsaWdubWVudCxcbiAgICAgIHJlc2V0OiAgICAgICAgcmVzZXRcbiAgICB9O1xuICB9XG5cbiAgLypcbiAgICogIEEgbGlnaHR3ZWlnaHQgcGx1Z2luIHdyYXBwZXIgYXJvdW5kIHRoZSBjb25zdHJ1Y3RvciB0aGF0IHByZXZlbnRzXG4gICAqICBtdWx0aXBsZSBpbnN0YW50aWF0aW9ucy5cbiAgICovXG4gICQuZm4uYWxpZ25tZW50ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoISQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIF9wbHVnaW5OYW1lKSkge1xuICAgICAgICAkLmRhdGEodGhpcywgXCJwbHVnaW5fXCIgKyBfcGx1Z2luTmFtZSwgbmV3IFBsdWdpbih0aGlzLCBvcHRpb25zKSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59KShqUXVlcnksIHdpbmRvdywgZG9jdW1lbnQsIFRFTVBMQVRFUyk7XG5cbi8qIGV4cG9ydGVkIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcgKi9cbnZhciBXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHID0ge1xuICBcImZhbWlsaWVzXCI6IFwiQW5kYWxlIE1vbm89YW5kYWxlIG1vbm8sbW9ub3NwYWNlO1wiICtcbiAgICAgIFwiQXJpYWw9YXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJBcmlhbCBCbGFjaz1hcmlhbCBibGFjayxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiQm9vayBBbnRpcXVhPWJvb2sgYW50aXF1YSxwYWxhdGlubyxzZXJpZjtcIiArXG4gICAgICBcIkNvbWljIFNhbnMgTVM9Y29taWMgc2FucyBtcyxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiQ291cmllciBOZXc9Y291cmllciBuZXcsY291cmllcixtb25vc3BhY2U7XCIgK1xuICAgICAgXCJHZW9yZ2lhPWdlb3JnaWEscGFsYXRpbm8sc2VyaWY7XCIgK1xuICAgICAgXCJIZWx2ZXRpY2E9aGVsdmV0aWNhLGFyaWFsLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJJbXBhY3Q9aW1wYWN0LHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJTeW1ib2w9c3ltYm9sO1wiICtcbiAgICAgIFwiVGFob21hPXRhaG9tYSxhcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIlRlcm1pbmFsPXRlcm1pbmFsLG1vbmFjbyxtb25vc3BhY2U7XCIgK1xuICAgICAgXCJUaW1lcyBOZXcgUm9tYW49dGltZXMgbmV3IHJvbWFuLHRpbWVzLHNlcmlmO1wiICtcbiAgICAgIFwiVHJlYnVjaGV0IE1TPXRyZWJ1Y2hldCBtcyxnZW5ldmEsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIlZlcmRhbmE9dmVyZGFuYSxnZW5ldmEsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIldlYmRpbmdzPXdlYmRpbmdzO1wiICtcbiAgICAgIFwiV2luZ2RpbmdzPXdpbmdkaW5ncyx6YXBmIGRpbmdiYXRzO1wiLFxuICBcInNpemVzXCI6IFwiOHB4IDlweCAxMHB4IDExcHggMTJweCAxNHB4IDE4cHggMjRweCAzMHB4IDM2cHggNDhweCA2MHB4IDcycHggOTZweFwiXG59O1xuXG4oZnVuY3Rpb24gKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi51cmwtZmllbGRcIiwgW1xuICAgIFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLFxuICAgIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnRvb2x0aXBcIlxuICBdKVxuICAgIC5kaXJlY3RpdmUoXCJ1cmxGaWVsZFwiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBcIiRsb2dcIiwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlLCAkbG9nKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHJlcXVpcmU6IFwiP25nTW9kZWxcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICB1cmw6IFwiPVwiLFxuICAgICAgICAgIGhpZGVMYWJlbDogXCJAXCIsXG4gICAgICAgICAgZmlsZVR5cGU6IFwiQFwiXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoXCJfYW5ndWxhci91cmwtZmllbGQvdXJsLWZpZWxkLmh0bWxcIiksXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmwpIHtcblxuICAgICAgICAgIGZ1bmN0aW9uIGhhc1ZhbGlkRXh0ZW5zaW9uKHVybCwgZmlsZVR5cGUpIHtcbiAgICAgICAgICAgIHZhciB0ZXN0VXJsID0gdXJsLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgIGV4dGVuc2lvbnM7XG5cbiAgICAgICAgICAgIHN3aXRjaChmaWxlVHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiaW1hZ2VcIjpcbiAgICAgICAgICAgICAgICBleHRlbnNpb25zID0gW1wiLmpwZ1wiLCBcIi5qcGVnXCIsIFwiLnBuZ1wiLCBcIi5ibXBcIiwgXCIuc3ZnXCIsIFwiLmdpZlwiXTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgICAgICAgICAgZXh0ZW5zaW9ucyA9IFtcIi53ZWJtXCIsIFwiLm1wNFwiLCBcIi5vZ3ZcIiwgXCIub2dnXCJdO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGV4dGVuc2lvbnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGV4dGVuc2lvbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKHRlc3RVcmwuaW5kZXhPZihleHRlbnNpb25zW2ldKSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgVVJMIHBvaW50cyB0byBhIHZhbGlkIGltYWdlIGZpbGUuXG4gICAgICAgICAgZnVuY3Rpb24gdGVzdEltYWdlKCkge1xuICAgICAgICAgICAgaWYgKChzY29wZS5maWxlVHlwZSAhPT0gXCJ1bmRlZmluZWRcIikgJiYgKHNjb3BlLnVybCAhPT0gXCJ1bmRlZmluZWRcIikpIHtcbiAgICAgICAgICAgICAgaWYgKHNjb3BlLmZpbGVUeXBlID09PSBcImltYWdlXCIpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAgICAgICAgIGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGltYWdlLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHNjb3BlLnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBzY29wZS5pbnZhbGlkVHlwZSA9IHNjb3BlLmZpbGVUeXBlO1xuICAgICAgICAgICAgICAgICAgc2NvcGUuJGFwcGx5KCk7XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGltYWdlLnNyYyA9IHNjb3BlLnVybDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHRlc3RVcmwodmFsdWUpIHtcbiAgICAgICAgICAgIHZhciB1cmxSZWdFeHAsXG4gICAgICAgICAgICAgIGlzVmFsaWQ7XG5cbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgRGlzY3Vzc2lvblxuICAgICAgICAgICAgIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMzc2ODQvaG93LXRvLXJlcGxhY2UtcGxhaW4tdXJscy13aXRoLWxpbmtzIzIxOTI1NDkxXG5cbiAgICAgICAgICAgICBVc2luZ1xuICAgICAgICAgICAgIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2RwZXJpbmkvNzI5Mjk0XG4gICAgICAgICAgICAgUmVhc29uaW5nXG4gICAgICAgICAgICAgaHR0cDovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXggKi9cblxuICAgICAgICAgICAgdXJsUmVnRXhwID0gL14oPzooPzpodHRwcz98ZnRwKTpcXC9cXC8pKD86XFxTKyg/OjpcXFMqKT9AKT8oPzooPyEoPzoxMHwxMjcpKD86XFwuXFxkezEsM30pezN9KSg/ISg/OjE2OVxcLjI1NHwxOTJcXC4xNjgpKD86XFwuXFxkezEsM30pezJ9KSg/ITE3MlxcLig/OjFbNi05XXwyXFxkfDNbMC0xXSkoPzpcXC5cXGR7MSwzfSl7Mn0pKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSl7Mn0oPzpcXC4oPzpbMS05XVxcZD98MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC00XSkpfCg/Oig/OlthLXpcXHUwMGExLVxcdWZmZmYwLTldKy0/KSpbYS16XFx1MDBhMS1cXHVmZmZmMC05XSspKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZjAtOV0rLT8pKlthLXpcXHUwMGExLVxcdWZmZmYwLTldKykqKD86XFwuKD86W2EtelxcdTAwYTEtXFx1ZmZmZl17Mix9KSkpKD86OlxcZHsyLDV9KT8oPzpcXC9bXlxcc10qKT8kL2k7IC8vIGpzaGludCBpZ25vcmU6bGluZVxuXG4gICAgICAgICAgICAvLyBBZGQgaHR0cDovLyBpZiBubyBwcm90b2NvbCBwYXJhbWV0ZXIgZXhpc3RzXG4gICAgICAgICAgICBpZiAodmFsdWUuaW5kZXhPZihcIjovL1wiKSA9PT0gLTEpIHtcbiAgICAgICAgICAgICAgdmFsdWUgPSBcImh0dHA6Ly9cIiArIHZhbHVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpc1ZhbGlkID0gdXJsUmVnRXhwLnRlc3QodmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAoaXNWYWxpZCAmJiB0eXBlb2Ygc2NvcGUuZmlsZVR5cGUgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgaXNWYWxpZCA9IGhhc1ZhbGlkRXh0ZW5zaW9uKHZhbHVlLCBzY29wZS5maWxlVHlwZSk7XG4gICAgICAgICAgICAgIGlmICghaXNWYWxpZCkge1xuICAgICAgICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gc2NvcGUuZmlsZVR5cGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gXCJ1cmxcIjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgdGVzdEltYWdlKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEJ5IGRlZmF1bHQgZW5mb3JjZSB2YWxpZGF0aW9uXG4gICAgICAgICAgc2NvcGUuZG9WYWxpZGF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAvLyBBIGZsYWcgdG8gc2V0IGlmIHRoZSB1c2VyIHR1cm5lZCBvZmYgdmFsaWRhdGlvblxuICAgICAgICAgIHNjb3BlLmZvcmNlZFZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgLy8gVmFsaWRhdGlvbiBzdGF0ZVxuICAgICAgICAgIHNjb3BlLnZhbGlkID0gdHJ1ZTtcblxuICAgICAgICAgIHNjb3BlLmludmFsaWRUeXBlID0gXCJ1cmxcIjtcblxuICAgICAgICAgIHNjb3BlLmFsbG93SW5pdEVtcHR5ID0gKHR5cGVvZiBhdHRycy5pbml0RW1wdHkgIT09IFwidW5kZWZpbmVkXCIpO1xuXG4gICAgICAgICAgc2NvcGUuYmx1ciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2NvcGUuJGVtaXQoXCJ1cmxGaWVsZEJsdXJcIik7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIHNjb3BlLiR3YXRjaChcInVybFwiLCBmdW5jdGlvbiAodXJsKSB7XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdXJsICE9PSBcInVuZGVmaW5lZFwiICYmIHVybCAhPT0gbnVsbCkge1xuXG4gICAgICAgICAgICAgIGlmICh1cmwgIT09IFwiXCIgJiYgc2NvcGUuYWxsb3dJbml0RW1wdHkpIHtcbiAgICAgICAgICAgICAgICAvLyBlbnN1cmUgYW4gZW1wdHkgXCJcIiB2YWx1ZSBub3cgZ2V0cyB2YWxpZGF0ZWRcbiAgICAgICAgICAgICAgICBzY29wZS5hbGxvd0luaXRFbXB0eSA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKHNjb3BlLmRvVmFsaWRhdGlvbiAmJiAhc2NvcGUuYWxsb3dJbml0RW1wdHkpIHtcbiAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRlc3RVcmwoc2NvcGUudXJsKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgc2NvcGUuJHdhdGNoKFwidmFsaWRcIiwgZnVuY3Rpb24gKHZhbGlkKSB7XG4gICAgICAgICAgICBpZiAoY3RybCkge1xuICAgICAgICAgICAgICAkbG9nLmluZm8oXCJDYWxsaW5nICRzZXRWYWxpZGl0eSgpIG9uIHBhcmVudCBjb250cm9sbGVyXCIpO1xuICAgICAgICAgICAgICBjdHJsLiRzZXRWYWxpZGl0eShcInZhbGlkXCIsIHZhbGlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHNjb3BlLiR3YXRjaChcImRvVmFsaWRhdGlvblwiLCBmdW5jdGlvbiAoZG9WYWxpZGF0aW9uKSB7XG4gICAgICAgICAgICBpZih0eXBlb2Ygc2NvcGUudXJsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgIGlmIChkb1ZhbGlkYXRpb24pIHtcbiAgICAgICAgICAgICAgICBzY29wZS5mb3JjZWRWYWxpZCA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzY29wZS5hbGxvd0luaXRFbXB0eSkge1xuICAgICAgICAgICAgICAgICAgc2NvcGUudmFsaWQgPSB0ZXN0VXJsKHNjb3BlLnVybCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjb3BlLmZvcmNlZFZhbGlkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBzY29wZS52YWxpZCA9IHRydWU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnVybC1maWVsZFwiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnVybC1maWVsZFwiLCBbXSk7IH1cbm1vZHVsZS5ydW4oW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24oJHRlbXBsYXRlQ2FjaGUpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG4gICR0ZW1wbGF0ZUNhY2hlLnB1dChcIl9hbmd1bGFyL3VybC1maWVsZC91cmwtZmllbGQuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCIgPlxcblwiICtcbiAgICBcIiAgPGxhYmVsIG5nLWlmPVxcXCIhaGlkZUxhYmVsXFxcIj57eyBcXFwidXJsLmxhYmVsXFxcIiB8IHRyYW5zbGF0ZSB9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICA8ZGl2PlxcblwiICtcbiAgICBcIiAgICA8aW5wdXQgbmFtZT1cXFwidXJsXFxcIiB0eXBlPVxcXCJ0ZXh0XFxcIiBuZy1tb2RlbD1cXFwidXJsXFxcIiBuZy1ibHVyPVxcXCJibHVyKClcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIHBsYWNlaG9sZGVyPVxcXCJodHRwOi8vXFxcIj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPHAgbmctaWY9XFxcIiF2YWxpZCAmJiBpbnZhbGlkVHlwZSA9PT0gJ3VybCdcXFwiIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3sgXFxcInVybC5lcnJvcnMudXJsXFxcIiB8IHRyYW5zbGF0ZSB9fTwvcD5cXG5cIiArXG4gICAgXCIgIDxwIG5nLWlmPVxcXCIhdmFsaWQgJiYgaW52YWxpZFR5cGUgPT09ICdpbWFnZSdcXFwiIGNsYXNzPVxcXCJ0ZXh0LWRhbmdlclxcXCI+e3sgXFxcInVybC5lcnJvcnMuaW1hZ2VcXFwiIHwgdHJhbnNsYXRlIH19PC9wPlxcblwiICtcbiAgICBcIiAgPHAgbmctaWY9XFxcIiF2YWxpZCAmJiBpbnZhbGlkVHlwZSA9PT0gJ3ZpZGVvJ1xcXCIgY2xhc3M9XFxcInRleHQtZGFuZ2VyXFxcIj57eyBcXFwidXJsLmVycm9ycy52aWRlb1xcXCIgfCB0cmFuc2xhdGUgfX08L3A+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjaGVja2JveFxcXCIgbmctc2hvdz1cXFwiZm9yY2VkVmFsaWQgfHwgIXZhbGlkXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGxhYmVsPlxcblwiICtcbiAgICBcIiAgICAgIDxpbnB1dCBuYW1lPVxcXCJ2YWxpZGF0ZS11cmxcXFwiIG5nLWNsaWNrPVxcXCJkb1ZhbGlkYXRpb24gPSAhZG9WYWxpZGF0aW9uXFxcIiB0eXBlPVxcXCJjaGVja2JveFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgdmFsdWU9XFxcInZhbGlkYXRlLXVybFxcXCI+IHt7XFxcInVybC52YWxpZGF0ZS5sYWJlbFxcXCIgfCB0cmFuc2xhdGV9fVxcblwiICtcbiAgICBcIiAgICA8L2xhYmVsPlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuLyogZ2xvYmFsIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcgKi9cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmZvbnQtc2V0dGluZ1wiLCBbXG4gICAgICBcImFuZ3VsYXJMb2FkXCIsXG4gICAgICBcInVpLnRpbnltY2VcIixcbiAgICAgIFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLFxuICAgICAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udXJsLWZpZWxkXCJcbiAgICBdKVxuICAgIC5kaXJlY3RpdmUoXCJmb250U2V0dGluZ1wiLCBbXCIkdGVtcGxhdGVDYWNoZVwiLCBcIiRsb2dcIiwgXCIkd2luZG93XCIsIFwiZ29vZ2xlRm9udExvYWRlclwiLFxuICAgIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSwgJGxvZywgJHdpbmRvdywgZ29vZ2xlRm9udExvYWRlcikge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiQUVcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBmb250RGF0YTogXCI9XCIsXG4gICAgICAgICAgcHJldmlld1RleHQ6IFwiQFwiLFxuICAgICAgICAgIHZlcnRpY2FsQWxpZ246IFwiQFwiXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoXCJfYW5ndWxhci9mb250LXNldHRpbmcvZm9udC1zZXR0aW5nLmh0bWxcIiksXG4gICAgICAgIHRyYW5zY2x1ZGU6IGZhbHNlLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbiAoJHNjb3BlLCBlbGVtZW50KSB7XG4gICAgICAgICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KSxcbiAgICAgICAgICAgICRjdXN0b21Gb250ID0gJGVsZW1lbnQuZmluZChcIi5jdXN0b20tZm9udFwiKSxcbiAgICAgICAgICAgICRjdXN0b21Gb250U2l6ZSA9ICRlbGVtZW50LmZpbmQoXCIuY3VzdG9tLWZvbnQtc2l6ZVwiKSxcbiAgICAgICAgICAgIF9pc0xvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgJHNjb3BlLmdvb2dsZUZvbnRMaXN0ID0gXCJcIjtcblxuICAgICAgICAgICRzY29wZS5kZWZhdWx0Rm9udCA9IHtcbiAgICAgICAgICAgIGZvbnQ6IHtcbiAgICAgICAgICAgICAgZmFtaWx5OiBcInZlcmRhbmEsZ2VuZXZhLHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgICAgdHlwZTogXCJzdGFuZGFyZFwiLFxuICAgICAgICAgICAgICB1cmw6IFwiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaXplOiBcIjI0cHhcIixcbiAgICAgICAgICAgIGN1c3RvbVNpemU6IFwiXCIsXG4gICAgICAgICAgICBhbGlnbjogXCJsZWZ0XCIsXG4gICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiLFxuICAgICAgICAgICAgYm9sZDogZmFsc2UsXG4gICAgICAgICAgICBpdGFsaWM6IGZhbHNlLFxuICAgICAgICAgICAgdW5kZXJsaW5lOiBmYWxzZSxcbiAgICAgICAgICAgIGZvcmVjb2xvcjogXCJibGFja1wiLFxuICAgICAgICAgICAgYmFja2NvbG9yOiBcInRyYW5zcGFyZW50XCJcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgLy8gTG9hZCBHb29nbGUgZm9udHMuXG4gICAgICAgICAgZ29vZ2xlRm9udExvYWRlci5nZXRGb250cygpLnRoZW4oZnVuY3Rpb24oZm9udHMpIHtcbiAgICAgICAgICAgICRzY29wZS5nb29nbGVGb250TGlzdCA9IGZvbnRzO1xuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgJHNjb3BlLmN1c3RvbUZvbnRTaXplID0gbnVsbDtcblxuICAgICAgICAgIC8vIEFwcGx5IGN1c3RvbSBmb250IHRvIHByZXZpZXcgdGV4dC5cbiAgICAgICAgICAkc2NvcGUuYXBwbHlDdXN0b21Gb250ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgZmFtaWx5ID0gZ2V0Q3VzdG9tRm9udEZhbWlseSgpO1xuXG4gICAgICAgICAgICBpZiAoZmFtaWx5ICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgIGxvYWRDdXN0b21Gb250KGZhbWlseSk7XG5cbiAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmZvbnQuZmFtaWx5ID0gZmFtaWx5O1xuICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuZm9udC50eXBlID0gXCJjdXN0b21cIjtcblxuICAgICAgICAgICAgICB1cGRhdGVQcmV2aWV3KCRzY29wZS5mb250RGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICRjdXN0b21Gb250Lm1vZGFsKFwiaGlkZVwiKTtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLmFwcGx5Q3VzdG9tRm9udFNpemUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRjdXN0b21Gb250U2l6ZS5tb2RhbChcImhpZGVcIik7XG5cbiAgICAgICAgICAgIGlmICgkc2NvcGUuY3VzdG9tRm9udFNpemUgIT09IG51bGwgJiYgJHNjb3BlLmN1c3RvbUZvbnRTaXplID49IDgpIHtcblxuICAgICAgICAgICAgICBpZiAoKCRzY29wZS5jdXN0b21Gb250U2l6ZSArIFwicHhcIikgIT09ICRzY29wZS5mb250RGF0YS5zaXplKSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLnNpemUgPSAkc2NvcGUuY3VzdG9tRm9udFNpemUgKyBcInB4XCI7XG5cbiAgICAgICAgICAgICAgICBpZiAoV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRy5zaXplcy5pbmRleE9mKCRzY29wZS5mb250RGF0YS5zaXplKSAhPT0gLTEgfHxcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5jdXN0b21TaXplID09PSAkc2NvcGUuZm9udERhdGEuc2l6ZSkge1xuICAgICAgICAgICAgICAgICAgLy8gdGVsbCBlZGl0b3IgdG8gc2VsZWN0IHRoaXMgc2l6ZVxuICAgICAgICAgICAgICAgICAgJHdpbmRvdy50aW55bWNlLmFjdGl2ZUVkaXRvci5leGVjQ29tbWFuZChcIkZvbnRTaXplXCIsIGZhbHNlLCAkc2NvcGUuZm9udERhdGEuc2l6ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gbmV3IGN1c3RvbSBmb250IHNpemUgdG8gYWRkXG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuY3VzdG9tU2l6ZSA9ICRzY29wZS5jdXN0b21Gb250U2l6ZSArIFwicHhcIjtcblxuICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHZhbHVlIG9mIGZvbnRfZm9ybWF0c1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLnRpbnltY2VPcHRpb25zLmZvbnRzaXplX2Zvcm1hdHMgPSBcIkN1c3RvbSBcIiArXG4gICAgICAgICAgICAgICAgICAgICgoJHNjb3BlLmZvbnREYXRhLmN1c3RvbVNpemUgIT09IFwiXCIpID8gJHNjb3BlLmZvbnREYXRhLmN1c3RvbVNpemUgKyBcIiBcIiA6IFwiXCIpICArXG4gICAgICAgICAgICAgICAgICAgIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcuc2l6ZXM7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVzZXQgbW9kYWwgaW5wdXQgc2l6ZSB2YWx1ZVxuICAgICAgICAgICAgJHNjb3BlLmN1c3RvbUZvbnRTaXplID0gbnVsbDtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLmRlZmF1bHRzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChvYmpbcHJvcF0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICB2YXIgd2F0Y2ggPSAkc2NvcGUuJHdhdGNoR3JvdXAoW1wiZm9udERhdGFcIixcImdvb2dsZUZvbnRMaXN0XCJdLCBmdW5jdGlvbihuZXdWYWx1ZXMpIHtcbiAgICAgICAgICAgIHZhciBmYW1pbHkgPSBudWxsO1xuICAgICAgICAgICAgdmFyIGZvbnREYXRhID0gbmV3VmFsdWVzWzBdO1xuICAgICAgICAgICAgdmFyIGdvb2dsZUZvbnRMaXN0ID0gbmV3VmFsdWVzWzFdO1xuICAgICAgICAgICAgaWYgKGZvbnREYXRhICYmIGdvb2dsZUZvbnRMaXN0KSB7XG4gICAgICAgICAgICAgICRzY29wZS5kZWZhdWx0cyhmb250RGF0YSwgJHNjb3BlLmRlZmF1bHRGb250KTtcblxuICAgICAgICAgICAgICAvLyBMb2FkIGN1c3RvbSBmb250LlxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZvbnREYXRhLmZvbnQudXJsKSB7XG4gICAgICAgICAgICAgICAgZmFtaWx5ID0gZ2V0Q3VzdG9tRm9udEZhbWlseSgpO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZhbWlseSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgbG9hZEN1c3RvbUZvbnQoZmFtaWx5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICB1cGRhdGVQcmV2aWV3KGZvbnREYXRhKTtcbiAgICAgICAgICAgICAgaW5pdFRpbnlNQ0UoKTtcbiAgICAgICAgICAgICAgd2F0Y2goKTtcblxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLnByZXZpZXdUZXh0KSB7XG4gICAgICAgICAgICAgICAgJHNjb3BlLiR3YXRjaChcImZvbnREYXRhXCIsIHVwZGF0ZVByZXZpZXcsIHRydWUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkc2NvcGUuJHdhdGNoKFwidGlueW1jZU9wdGlvbnMuZm9udHNpemVfZm9ybWF0c1wiLCBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIgJiYgIV9pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgLy8gbGV2ZXJhZ2UgdWktdGlueW1jZSB3b3JrYXJvdW5kIG9mIHJlZnJlc2hpbmcgZWRpdG9yXG4gICAgICAgICAgICAgICRzY29wZS4kYnJvYWRjYXN0KFwiJHRpbnltY2U6cmVmcmVzaFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIC8vIEluaXRpYWxpemUgVGlueU1DRS5cbiAgICAgICAgICBmdW5jdGlvbiBpbml0VGlueU1DRSgpIHtcbiAgICAgICAgICAgICRzY29wZS50aW55bWNlT3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgZm9udF9mb3JtYXRzOiBcIlVzZSBDdXN0b20gRm9udD1jdXN0b207XCIgKyBXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHLmZhbWlsaWVzICsgJHNjb3BlLmdvb2dsZUZvbnRMaXN0LFxuICAgICAgICAgICAgICBmb250c2l6ZV9mb3JtYXRzOiBcIkN1c3RvbSBcIiArXG4gICAgICAgICAgICAgICAgKCgkc2NvcGUuZm9udERhdGEuY3VzdG9tU2l6ZSAhPT0gXCJcIikgPyAkc2NvcGUuZm9udERhdGEuY3VzdG9tU2l6ZSArIFwiIFwiIDogXCJcIikgICtcbiAgICAgICAgICAgICAgICBXSURHRVRfU0VUVElOR1NfVUlfQ09ORklHLnNpemVzLFxuICAgICAgICAgICAgICBtZW51YmFyOiBmYWxzZSxcbiAgICAgICAgICAgICAgcGx1Z2luczogXCJ0ZXh0Y29sb3IgY29sb3JwaWNrZXJcIixcbiAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgIFdoZW4gdGVzdGluZyB0aGlzIHZpYSBsb2NhbCBzZXJ2ZXIsIENPUlMgd2lsbCBiZSByZXF1aXJlZC4gSGFuZHkgQ09SUyBDaHJvbWUgZXh0ZW5zaW9uIGNhbiBiZSBmb3VuZCBoZXJlXG4gICAgICAgICAgICAgICBodHRwczovL2Nocm9tZS5nb29nbGUuY29tL3dlYnN0b3JlL2RldGFpbC9hbGxvdy1jb250cm9sLWFsbG93LW9yaWdpL25sZmJtYm9qcGVhY2ZnaGtwYmpoZGRpaGxra2lsamJpP2hsPWVuXG4gICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICBza2luX3VybDogXCIvL3MzLmFtYXpvbmF3cy5jb20vcmlzZS1jb21tb24vc3R5bGVzL3RpbnltY2UvcmlzZVwiLFxuICAgICAgICAgICAgICBzdGF0dXNiYXI6IGZhbHNlLFxuICAgICAgICAgICAgICB0b29sYmFyOiBcImZvbnRzZWxlY3QgZm9udHNpemVzZWxlY3QgfCBhbGlnbmxlZnQgYWxpZ25jZW50ZXIgYWxpZ25yaWdodCBhbGlnbmp1c3RpZnlcIiArXG4gICAgICAgICAgICAgICgkc2NvcGUudmVydGljYWxBbGlnbiA/IFwiIGFsaWdudG9wIGFsaWdubWlkZGxlIGFsaWduYm90dG9tXCIgOiBcIlwiKSArXG4gICAgICAgICAgICAgIFwiIHwgZm9yZWNvbG9yIGJhY2tjb2xvciB8IGJvbGQgaXRhbGljIHVuZGVybGluZVwiLFxuICAgICAgICAgICAgICBzZXR1cDogZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS52ZXJ0aWNhbEFsaWduKSB7XG4gICAgICAgICAgICAgICAgICBhZGRWZXJ0aWNhbEFsaWduQnV0dG9ucyhlZGl0b3IpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGVkaXRvci5vbihcImluaXRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICBpbml0VG9vbGJhcihlZGl0b3IpO1xuICAgICAgICAgICAgICAgICAgX2lzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgZWRpdG9yLm9uKFwiRXhlY0NvbW1hbmRcIiwgZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgICAgICAgICAgaW5pdENvbW1hbmRzKGVkaXRvciwgYXJncyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGluaXRfaW5zdGFuY2VfY2FsbGJhY2s6IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgICAgIHZhciBvbGRBcHBseSA9IGVkaXRvci5mb3JtYXR0ZXIuYXBwbHksXG4gICAgICAgICAgICAgICAgICBvbGRSZW1vdmUgPSBlZGl0b3IuZm9ybWF0dGVyLnJlbW92ZTtcblxuICAgICAgICAgICAgICAgIC8vIFJlZmVyZW5jZSAtIGh0dHA6Ly9nb28uZ2wvNTVJaFdJXG4gICAgICAgICAgICAgICAgZWRpdG9yLmZvcm1hdHRlci5hcHBseSA9IGZ1bmN0aW9uIGFwcGx5KG5hbWUsIHZhcnMsIG5vZGUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0ge1xuICAgICAgICAgICAgICAgICAgICBjb21tYW5kOiBuYW1lLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogdmFycy52YWx1ZVxuICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgb2xkQXBwbHkobmFtZSwgdmFycywgbm9kZSk7XG4gICAgICAgICAgICAgICAgICBlZGl0b3IuZmlyZShcIkV4ZWNDb21tYW5kXCIsIGFyZ3MpO1xuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBlZGl0b3IuZm9ybWF0dGVyLnJlbW92ZSA9IGZ1bmN0aW9uIHJlbW92ZShuYW1lLCB2YXJzLCBub2RlKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IHtcbiAgICAgICAgICAgICAgICAgICAgY29tbWFuZDogbmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICh2YXJzICYmIHZhcnMudmFsdWUpID8gdmFycy52YWx1ZSA6IG51bGxcbiAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgIG9sZFJlbW92ZShuYW1lLCB2YXJzLCBub2RlKTtcbiAgICAgICAgICAgICAgICAgIGVkaXRvci5maXJlKFwiRXhlY0NvbW1hbmRcIiwgYXJncyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBJbml0aWFsaXplIFRpbnlNQ0UgdG9vbGJhci5cbiAgICAgICAgICBmdW5jdGlvbiBpbml0VG9vbGJhcihlZGl0b3IpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEpIHtcbiAgICAgICAgICAgICAgLy8gRm9udCBGYW1pbHlcbiAgICAgICAgICAgICAgaWYgKCgkc2NvcGUuZm9udERhdGEuZm9udC50eXBlID09PSBcImN1c3RvbVwiKSAmJiAkc2NvcGUuZm9udERhdGEuZm9udC51cmwpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJGb250TmFtZVwiLCBmYWxzZSwgXCJjdXN0b21cIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiRm9udE5hbWVcIiwgZmFsc2UsICRzY29wZS5mb250RGF0YS5mb250LmZhbWlseSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBGb250IFNpemVzXG4gICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIkZvbnRTaXplXCIsIGZhbHNlLCAkc2NvcGUuZm9udERhdGEuc2l6ZSk7XG5cbiAgICAgICAgICAgICAgLy8gQWxpZ25tZW50XG4gICAgICAgICAgICAgIHN3aXRjaCgkc2NvcGUuZm9udERhdGEuYWxpZ24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiSnVzdGlmeUxlZnRcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNlbnRlclwiOlxuICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiSnVzdGlmeUNlbnRlclwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIkp1c3RpZnlSaWdodFwiLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwianVzdGlmeVwiOlxuICAgICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwiSnVzdGlmeUZ1bGxcIiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgLy8gVmVydGljYWwgQWxpZ25tZW50XG4gICAgICAgICAgICAgIGlmICgkc2NvcGUudmVydGljYWxBbGlnbikge1xuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIm1jZVRvZ2dsZVZlcnRpY2FsXCIsIGZhbHNlLCAkc2NvcGUuZm9udERhdGEudmVydGljYWxBbGlnbik7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBDb2xvcnNcbiAgICAgICAgICAgICAgJGVsZW1lbnQuZmluZChcIi5tY2UtY29sb3JidXR0b25bYXJpYS1sYWJlbD0nVGV4dCBjb2xvciddIHNwYW5cIikuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCAkc2NvcGUuZm9udERhdGEuZm9yZWNvbG9yKTtcbiAgICAgICAgICAgICAgJGVsZW1lbnQuZmluZChcIi5tY2UtY29sb3JidXR0b25bYXJpYS1sYWJlbD0nQmFja2dyb3VuZCBjb2xvciddIHNwYW5cIikuY3NzKFwiYmFja2dyb3VuZC1jb2xvclwiLCAkc2NvcGUuZm9udERhdGEuYmFja2NvbG9yKTtcblxuICAgICAgICAgICAgICAvLyBGb250IFN0eWxlXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuYm9sZCkge1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nQm9sZCddXCIpKTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuaXRhbGljKSB7XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdJdGFsaWMnXVwiKSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZvbnREYXRhLnVuZGVybGluZSkge1xuICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nVW5kZXJsaW5lJ11cIikpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gSGFuZGxlIHRvb2xiYXIgaW50ZXJhY3Rpb25zLlxuICAgICAgICAgIGZ1bmN0aW9uIGluaXRDb21tYW5kcyhlZGl0b3IsIGFyZ3MpIHtcbiAgICAgICAgICAgIHN3aXRjaChhcmdzLmNvbW1hbmQpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIkZvbnROYW1lXCI6XG4gICAgICAgICAgICAgICAgaWYgKF9pc0xvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJncy52YWx1ZSA9PT0gXCJjdXN0b21cIikge1xuICAgICAgICAgICAgICAgICAgJGN1c3RvbUZvbnQubW9kYWwoXCJzaG93XCIpO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmZvbnQuZmFtaWx5ID0gYXJncy52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5mb250LnR5cGUgPSBnZXRGb250VHlwZShhcmdzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIFwiRm9udFNpemVcIjpcbiAgICAgICAgICAgICAgICBpZiAoX2lzTG9hZGluZykge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcIkN1c3RvbVwiKSB7XG4gICAgICAgICAgICAgICAgICAkY3VzdG9tRm9udFNpemUubW9kYWwoXCJzaG93XCIpO1xuXG4gICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLnNpemUgPSBhcmdzLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJKdXN0aWZ5TGVmdFwiOlxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5hbGlnbiA9IFwibGVmdFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJKdXN0aWZ5Q2VudGVyXCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmFsaWduID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIFwiSnVzdGlmeVJpZ2h0XCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmFsaWduID0gXCJyaWdodFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJKdXN0aWZ5RnVsbFwiOlxuICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5hbGlnbiA9IFwianVzdGlmeVwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJtY2VUb2dnbGVWZXJ0aWNhbFwiOlxuICAgICAgICAgICAgICAgIGlmIChhcmdzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVWZXJ0aWNhbEJ1dHRvbnMoYXJncy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICBpZiAoJHNjb3BlLmZvbnREYXRhLnZlcnRpY2FsQWxpZ24gIT09IGFyZ3MudmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdG9nZ2xlVmVydGljYWxCdXR0b25zKCRzY29wZS5mb250RGF0YS52ZXJ0aWNhbEFsaWduKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdG9nZ2xlVmVydGljYWxCdXR0b25zKCRzY29wZS5kZWZhdWx0Rm9udC52ZXJ0aWNhbEFsaWduKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEudmVydGljYWxBbGlnbiA9IChhcmdzLnZhbHVlKSA/IGFyZ3MudmFsdWUgOiAkc2NvcGUuZGVmYXVsdEZvbnQudmVydGljYWxBbGlnbjtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJmb3JlY29sb3JcIjpcbiAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuZm9yZWNvbG9yID0gKGFyZ3MudmFsdWUpID8gYXJncy52YWx1ZSA6ICRzY29wZS5kZWZhdWx0Rm9udC5mb3JlY29sb3I7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSBcImhpbGl0ZWNvbG9yXCI6XG4gICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLmJhY2tjb2xvciA9IChhcmdzLnZhbHVlKSA/IGFyZ3MudmFsdWUgOiAkc2NvcGUuZGVmYXVsdEZvbnQuYmFja2NvbG9yO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJtY2VUb2dnbGVGb3JtYXRcIjpcbiAgICAgICAgICAgICAgICBpZiAoYXJncy52YWx1ZSA9PT0gXCJib2xkXCIpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5mb250RGF0YS5ib2xkID0gISRzY29wZS5mb250RGF0YS5ib2xkO1xuICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdCb2xkJ11cIikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmdzLnZhbHVlID09PSBcIml0YWxpY1wiKSB7XG4gICAgICAgICAgICAgICAgICAkc2NvcGUuZm9udERhdGEuaXRhbGljID0gISRzY29wZS5mb250RGF0YS5pdGFsaWM7XG4gICAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0l0YWxpYyddXCIpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYXJncy52YWx1ZSA9PT0gXCJ1bmRlcmxpbmVcIikge1xuICAgICAgICAgICAgICAgICAgJHNjb3BlLmZvbnREYXRhLnVuZGVybGluZSA9ICEkc2NvcGUuZm9udERhdGEudW5kZXJsaW5lO1xuICAgICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdVbmRlcmxpbmUnXVwiKSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHVwZGF0ZVByZXZpZXcoJHNjb3BlLmZvbnREYXRhKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBmdW5jdGlvbiB0b2dnbGVCdXR0b24oJGJ0bikge1xuICAgICAgICAgICAgJGJ0bi50b2dnbGVDbGFzcyhcIm1jZS1hY3RpdmVcIik7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gU3R5bGUgdGhlIHByZXZpZXcgdGV4dC5cbiAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVQcmV2aWV3KGZvbnREYXRhKSB7XG4gICAgICAgICAgICB2YXIgJHRleHRDb250YWluZXIgPSAkZWxlbWVudC5maW5kKFwiLnRleHQtY29udGFpbmVyXCIpLFxuICAgICAgICAgICAgICAkdGV4dCA9ICRlbGVtZW50LmZpbmQoXCIudGV4dFwiKTtcblxuICAgICAgICAgICAgaWYgKCRzY29wZS5wcmV2aWV3VGV4dCAmJiBmb250RGF0YSkge1xuICAgICAgICAgICAgICAkdGV4dC5jc3MoXCJmb250RmFtaWx5XCIsIGZvbnREYXRhLmZvbnQuZmFtaWx5KTtcbiAgICAgICAgICAgICAgJHRleHQuY3NzKFwiZm9udFNpemVcIiwgZm9udERhdGEuc2l6ZSk7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImZvbnRXZWlnaHRcIiwgZm9udERhdGEuYm9sZCA/IFwiYm9sZFwiIDogXCJub3JtYWxcIik7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImZvbnRTdHlsZVwiLCBmb250RGF0YS5pdGFsaWMgPyBcIml0YWxpY1wiIDogXCJub3JtYWxcIik7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcInRleHREZWNvcmF0aW9uXCIsIGZvbnREYXRhLnVuZGVybGluZSA/IFwidW5kZXJsaW5lXCIgOiBcIm5vbmVcIik7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImNvbG9yXCIsIGZvbnREYXRhLmZvcmVjb2xvcik7XG4gICAgICAgICAgICAgICR0ZXh0LmNzcyhcImJhY2tncm91bmRDb2xvclwiLCBmb250RGF0YS5iYWNrY29sb3IpO1xuICAgICAgICAgICAgICAkdGV4dENvbnRhaW5lci5jc3MoXCJ0ZXh0QWxpZ25cIiwgZm9udERhdGEuYWxpZ24pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIERldGVybWluZSB3aGF0IHR5cGUgb2YgZm9udCB0aGlzIGlzIChzdGFuZGFyZCBvciBnb29nbGUpLlxuICAgICAgICAgIGZ1bmN0aW9uIGdldEZvbnRUeXBlKGZhbWlseSkge1xuICAgICAgICAgICAgaWYgKFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcuZmFtaWxpZXMuaW5kZXhPZihmYW1pbHkpICE9PSAtMSkge1xuICAgICAgICAgICAgICByZXR1cm4gXCJzdGFuZGFyZFwiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoJHNjb3BlLmdvb2dsZUZvbnRMaXN0LmluZGV4T2YoZmFtaWx5KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiZ29vZ2xlXCI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBcImN1c3RvbVwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIEV4dHJhY3QgZm9udCBuYW1lIGZyb20gZm9udCBVUkwuXG4gICAgICAgICAgZnVuY3Rpb24gZ2V0Q3VzdG9tRm9udEZhbWlseSgpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuZm9udERhdGEuZm9udC51cmwpIHtcbiAgICAgICAgICAgICAgcmV0dXJuICRzY29wZS5mb250RGF0YS5mb250LnVybC5zcGxpdChcIi9cIikucG9wKCkuc3BsaXQoXCIuXCIpWzBdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBMb2FkIGEgY3VzdG9tIGZvbnQuXG4gICAgICAgICAgZnVuY3Rpb24gbG9hZEN1c3RvbUZvbnQoZmFtaWx5KSB7XG4gICAgICAgICAgICB2YXIgc2hlZXQgPSBudWxsLFxuICAgICAgICAgICAgICB1cmwgPSAkLnRyaW0oJHNjb3BlLmZvbnREYXRhLmZvbnQudXJsKSxcbiAgICAgICAgICAgICAgcnVsZSA9IFwiZm9udC1mYW1pbHk6IFwiICsgZmFtaWx5ICsgXCI7IFwiICsgXCJzcmM6IHVybCgnXCIgKyB1cmwgKyBcIicpO1wiO1xuXG4gICAgICAgICAgICBzaGVldCA9IGRvY3VtZW50LnN0eWxlU2hlZXRzWzBdO1xuXG4gICAgICAgICAgICBpZiAoc2hlZXQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgc2hlZXQuYWRkUnVsZShcIkBmb250LWZhY2VcIiwgcnVsZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgZnVuY3Rpb24gYWRkVmVydGljYWxBbGlnbkJ1dHRvbnMoZWRpdG9yKSB7XG4gICAgICAgICAgICBlZGl0b3IuYWRkQnV0dG9uKFwiYWxpZ250b3BcIiwge1xuICAgICAgICAgICAgICBpbWFnZTogXCIvL3MzLmFtYXpvbmF3cy5jb20vUmlzZS1JbWFnZXMvSWNvbnMvYWxpZ24tdG9wLnN2Z1wiLFxuICAgICAgICAgICAgICB0b29sdGlwOiBcIkFsaWduIFRvcFwiLFxuICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmV4ZWNDb21tYW5kKFwibWNlVG9nZ2xlVmVydGljYWxcIiwgZmFsc2UsIFwidG9wXCIpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZWRpdG9yLmFkZEJ1dHRvbihcImFsaWdubWlkZGxlXCIsIHtcbiAgICAgICAgICAgICAgaW1hZ2U6IFwiLy9zMy5hbWF6b25hd3MuY29tL1Jpc2UtSW1hZ2VzL0ljb25zL2FsaWduLXZlcnRpY2FsLW1pZGRsZS5zdmdcIixcbiAgICAgICAgICAgICAgdG9vbHRpcDogXCJBbGlnbiBNaWRkbGVcIixcbiAgICAgICAgICAgICAgb25jbGljazogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5leGVjQ29tbWFuZChcIm1jZVRvZ2dsZVZlcnRpY2FsXCIsIGZhbHNlLCBcIm1pZGRsZVwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGVkaXRvci5hZGRCdXR0b24oXCJhbGlnbmJvdHRvbVwiLCB7XG4gICAgICAgICAgICAgIGltYWdlOiBcIi8vczMuYW1hem9uYXdzLmNvbS9SaXNlLUltYWdlcy9JY29ucy9hbGlnbi1ib3R0b20uc3ZnXCIsXG4gICAgICAgICAgICAgIHRvb2x0aXA6IFwiQWxpZ24gQm90dG9tXCIsXG4gICAgICAgICAgICAgIG9uY2xpY2s6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZXhlY0NvbW1hbmQoXCJtY2VUb2dnbGVWZXJ0aWNhbFwiLCBmYWxzZSwgXCJib3R0b21cIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlZGl0b3IuYWRkQ29tbWFuZChcIm1jZVRvZ2dsZVZlcnRpY2FsXCIsIGZ1bmN0aW9uICgpIHt9KTtcblxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHRvZ2dsZVZlcnRpY2FsQnV0dG9ucyh2YWx1ZSkge1xuICAgICAgICAgICAgc3dpdGNoKHZhbHVlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b3BcIjpcbiAgICAgICAgICAgICAgICB0b2dnbGVCdXR0b24oJGVsZW1lbnQuZmluZChcIi5tY2UtYnRuW2FyaWEtbGFiZWw9J0FsaWduIFRvcCddXCIpKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcIm1pZGRsZVwiOlxuICAgICAgICAgICAgICAgIHRvZ2dsZUJ1dHRvbigkZWxlbWVudC5maW5kKFwiLm1jZS1idG5bYXJpYS1sYWJlbD0nQWxpZ24gTWlkZGxlJ11cIikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlIFwiYm90dG9tXCI6XG4gICAgICAgICAgICAgICAgdG9nZ2xlQnV0dG9uKCRlbGVtZW50LmZpbmQoXCIubWNlLWJ0blthcmlhLWxhYmVsPSdBbGlnbiBCb3R0b20nXVwiKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmZvbnQtc2V0dGluZ1wiKVxuICAgIC5mYWN0b3J5KFwiZ29vZ2xlRm9udExvYWRlclwiLCBbXCIkaHR0cFwiLCBcImFuZ3VsYXJMb2FkXCIsIGZ1bmN0aW9uKCRodHRwLCBhbmd1bGFyTG9hZCkge1xuXG4gICAgdmFyIGZvbnRzQXBpID0gXCJodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS93ZWJmb250cy92MS93ZWJmb250cz9rZXk9QUl6YVN5Qlh4VktfSU9WN0xOUU11VlZvX2w3WnZONTNlak44NnpZXCIsXG4gICAgICBmb250QmFzZVVybCA9IFwiLy9mb250cy5nb29nbGVhcGlzLmNvbS9jc3M/ZmFtaWx5PVwiLFxuICAgICAgZXhjbHVkZSA9IFtcIkJ1ZGFcIiwgXCJDb2RhIENhcHRpb25cIiwgXCJPcGVuIFNhbnMgQ29uZGVuc2VkXCIsIFwiVW5pZnJha3R1ckNvb2tcIiwgXCJNb2xsZVwiXSxcbiAgICAgIGZhbGxiYWNrID0gXCIsc2Fucy1zZXJpZjtcIixcbiAgICAgIGZhY3RvcnkgPSB7fTtcblxuICAgIGZhY3RvcnkuZ2V0Rm9udHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiAkaHR0cC5nZXQoZm9udHNBcGksIHsgY2FjaGU6IHRydWUgfSlcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICB2YXIgZmFtaWx5ID0gXCJcIiwgZm9udHMgPSBcIlwiLCBzcGFjZXMgPSBmYWxzZTtcblxuICAgICAgICAgIGlmIChyZXNwb25zZS5kYXRhICYmIHJlc3BvbnNlLmRhdGEuaXRlbXMpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UuZGF0YS5pdGVtcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICBmYW1pbHkgPSByZXNwb25zZS5kYXRhLml0ZW1zW2ldLmZhbWlseTtcblxuICAgICAgICAgICAgICBpZiAoZXhjbHVkZS5pbmRleE9mKGZhbWlseSkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgYW5ndWxhckxvYWQubG9hZENTUyhmb250QmFzZVVybCArIGZhbWlseSkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIC8vIEZvbnQgbG9hZGVkLlxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIHNwYWNlcyBpbiBmYW1pbHkgbmFtZVxuICAgICAgICAgICAgICAgIGlmICgvXFxzLy50ZXN0KGZhbWlseSkpIHtcbiAgICAgICAgICAgICAgICAgIHNwYWNlcyA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHNwYWNlcykge1xuICAgICAgICAgICAgICAgICAgLy8gd3JhcCBmYW1pbHkgbmFtZSBpbiBzaW5nbGUgcXVvdGVzXG4gICAgICAgICAgICAgICAgICBmb250cyArPSBmYW1pbHkgKyBcIj0nXCIgKyBmYW1pbHkgKyBcIidcIiArIGZhbGxiYWNrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPVwiICsgZmFtaWx5ICsgZmFsbGJhY2s7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZm9udHM7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvZm9udC1zZXR0aW5nL2ZvbnQtc2V0dGluZy5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJmb250LXNldHRpbmdcXFwiPlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IG5nLWNsYXNzPVxcXCJ7J2Zvcm0tZ3JvdXAnOiAhcHJldmlld1RleHR9XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDx0ZXh0YXJlYSB1aS10aW55bWNlPVxcXCJ0aW55bWNlT3B0aW9uc1xcXCIgbmctbW9kZWw9XFxcInRpbnltY2VNb2RlbFxcXCIgbmctaWY9XFxcInRpbnltY2VPcHRpb25zXFxcIj48L3RleHRhcmVhPlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPGRpdiBjbGFzcz1cXFwicm93XFxcIiBuZy1pZj1cXFwicHJldmlld1RleHRcXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMTJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInRleHQtY29udGFpbmVyIGZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcInRleHRcXFwiPnt7cHJldmlld1RleHR9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgIDwhLS0gQ3VzdG9tIEZvbnQgLS0+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjdXN0b20tZm9udCBtb2RhbFxcXCIgdGFiaW5kZXg9XFxcIi0xXFxcIiByb2xlPVxcXCJkaWFsb2dcXFwiIGFyaWEtaGlkZGVuPVxcXCJ0cnVlXFxcIiBkYXRhLWJhY2tkcm9wPVxcXCJmYWxzZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWRpYWxvZ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtY29udGVudFxcXCI+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1oZWFkZXJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNsb3NlXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtdGltZXMgaGFsZi10b3BcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxoMiBjbGFzcz1cXFwibW9kYWwtdGl0bGVcXFwiPnt7XFxcImZvbnQtc2V0dGluZy5jdXN0b20tZm9udFxcXCIgfCB0cmFuc2xhdGV9fTwvaDI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDxmb3JtIHJvbGU9XFxcImZvcm1cXFwiIG5hbWU9XFxcImN1c3RvbUZvbnRGb3JtXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtYm9keVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPHVybC1maWVsZCB1cmw9XFxcImZvbnREYXRhLmZvbnQudXJsXFxcIiBuZy1tb2RlbD1cXFwiY3VzdG9tRm9udFxcXCIgaW5pdC1lbXB0eT48L3VybC1maWVsZD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJzZWxlY3QgYnRuIGJ0bi1wcmltYXJ5IGJ0bi1maXhlZC13aWR0aFxcXCIgbmctY2xpY2s9XFxcImFwcGx5Q3VzdG9tRm9udCgpXFxcIiBuZy1kaXNhYmxlZD1cXFwiY3VzdG9tRm9udEZvcm0uJGludmFsaWRcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPHNwYW4+e3tcXFwiY29tbW9uLnNlbGVjdFxcXCIgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS13aGl0ZSBmYS1jaGVjayBpY29uLXJpZ2h0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJjYW5jZWwgYnRuIGJ0bi1kZWZhdWx0IGJ0bi1maXhlZC13aWR0aFxcXCIgZGF0YS1kaXNtaXNzPVxcXCJtb2RhbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8c3Bhbj57e1xcXCJjb21tb24uY2FuY2VsXFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLXRpbWVzIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICA8L2Zvcm0+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICA8IS0tIEN1c3RvbSBGb250IFNpemUgLS0+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjdXN0b20tZm9udC1zaXplIG1vZGFsXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiIHJvbGU9XFxcImRpYWxvZ1xcXCIgYXJpYS1oaWRkZW49XFxcInRydWVcXFwiIGRhdGEtYmFja2Ryb3A9XFxcImZhbHNlXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwibW9kYWwtZGlhbG9nXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1jb250ZW50XFxcIj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWhlYWRlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiY2xvc2VcXFwiIGRhdGEtZGlzbWlzcz1cXFwibW9kYWxcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDxpIGNsYXNzPVxcXCJmYSBmYS10aW1lcyBoYWxmLXRvcFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGgyIGNsYXNzPVxcXCJtb2RhbC10aXRsZVxcXCI+e3tcXFwiZm9udC1zZXR0aW5nLmN1c3RvbS1mb250LXNpemVcXFwiIHwgdHJhbnNsYXRlfX08L2gyPlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8Zm9ybSByb2xlPVxcXCJmb3JtXFxcIiBuYW1lPVxcXCJjdXN0b21Gb250U2l6ZUZvcm1cXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJtb2RhbC1ib2R5XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJyb3dcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLW1kLTNcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgbmctbW9kZWw9XFxcImN1c3RvbUZvbnRTaXplXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiAvPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVxcXCJpbnB1dC1ncm91cC1hZGRvblxcXCI+e3snY29tbW9uLnVuaXRzLnBpeGVscycgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgIDxkaXYgY2xhc3M9XFxcIm1vZGFsLWZvb3RlclxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVxcXCJidXR0b25cXFwiIGNsYXNzPVxcXCJzZWxlY3QgYnRuIGJ0bi1wcmltYXJ5IGJ0bi1maXhlZC13aWR0aFxcXCIgbmctY2xpY2s9XFxcImFwcGx5Q3VzdG9tRm9udFNpemUoKVxcXCIgbmctZGlzYWJsZWQ9XFxcImN1c3RvbUZvbnRTaXplRm9ybS4kaW52YWxpZFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8c3Bhbj57e1xcXCJjb21tb24uc2VsZWN0XFxcIiB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLXdoaXRlIGZhLWNoZWNrIGljb24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImNhbmNlbCBidG4gYnRuLWRlZmF1bHQgYnRuLWZpeGVkLXdpZHRoXFxcIiBkYXRhLWRpc21pc3M9XFxcIm1vZGFsXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxzcGFuPnt7XFxcImNvbW1vbi5jYW5jZWxcXFwiIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtd2hpdGUgZmEtdGltZXMgaWNvbi1yaWdodFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZm9ybT5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCI8L2Rpdj5cXG5cIiArXG4gICAgXCJcIik7XG59XSk7XG59KSgpO1xuXG4vKipcbiAqIEJpbmRzIGEgVGlueU1DRSB3aWRnZXQgdG8gPHRleHRhcmVhPiBlbGVtZW50cy5cbiAqL1xuYW5ndWxhci5tb2R1bGUoJ3VpLnRpbnltY2UnLCBbXSlcbiAgLnZhbHVlKCd1aVRpbnltY2VDb25maWcnLCB7fSlcbiAgLmRpcmVjdGl2ZSgndWlUaW55bWNlJywgWyckcm9vdFNjb3BlJywgJyRjb21waWxlJywgJyR0aW1lb3V0JywgJyR3aW5kb3cnLCAnJHNjZScsICd1aVRpbnltY2VDb25maWcnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCAkY29tcGlsZSwgJHRpbWVvdXQsICR3aW5kb3csICRzY2UsIHVpVGlueW1jZUNvbmZpZykge1xuICAgIHVpVGlueW1jZUNvbmZpZyA9IHVpVGlueW1jZUNvbmZpZyB8fCB7fTtcbiAgICB2YXIgZ2VuZXJhdGVkSWRzID0gMDtcbiAgICB2YXIgSURfQVRUUiA9ICd1aS10aW55bWNlJztcbiAgICBpZiAodWlUaW55bWNlQ29uZmlnLmJhc2VVcmwpIHtcbiAgICAgIHRpbnltY2UuYmFzZVVSTCA9IHVpVGlueW1jZUNvbmZpZy5iYXNlVXJsO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICByZXF1aXJlOiBbJ25nTW9kZWwnLCAnXj9mb3JtJ10sXG4gICAgICBsaW5rOiBmdW5jdGlvbihzY29wZSwgZWxlbWVudCwgYXR0cnMsIGN0cmxzKSB7XG4gICAgICAgIGlmICghJHdpbmRvdy50aW55bWNlKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5nTW9kZWwgPSBjdHJsc1swXSxcbiAgICAgICAgICBmb3JtID0gY3RybHNbMV0gfHwgbnVsbDtcblxuICAgICAgICB2YXIgZXhwcmVzc2lvbiwgb3B0aW9ucyA9IHt9LCB0aW55SW5zdGFuY2UsXG4gICAgICAgICAgdXBkYXRlVmlldyA9IGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBlZGl0b3IuZ2V0Q29udGVudCh7Zm9ybWF0OiBvcHRpb25zLmZvcm1hdH0pLnRyaW0oKTtcbiAgICAgICAgICAgIGNvbnRlbnQgPSAkc2NlLnRydXN0QXNIdG1sKGNvbnRlbnQpO1xuXG4gICAgICAgICAgICBuZ01vZGVsLiRzZXRWaWV3VmFsdWUoY29udGVudCk7XG4gICAgICAgICAgICBpZiAoISRyb290U2NvcGUuJCRwaGFzZSkge1xuICAgICAgICAgICAgICBzY29wZS4kYXBwbHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgIGZ1bmN0aW9uIHRvZ2dsZURpc2FibGUoZGlzYWJsZWQpIHtcbiAgICAgICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGVuc3VyZUluc3RhbmNlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aW55SW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgdGlueUluc3RhbmNlLmdldEJvZHkoKS5zZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScsIGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZW5zdXJlSW5zdGFuY2UoKTtcblxuICAgICAgICAgICAgaWYgKHRpbnlJbnN0YW5jZSAmJiAhdGlueUluc3RhbmNlLnNldHRpbmdzLnJlYWRvbmx5KSB7XG4gICAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5nZXRCb2R5KCkuc2V0QXR0cmlidXRlKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBnZW5lcmF0ZSBhbiBJRFxuICAgICAgICBhdHRycy4kc2V0KCdpZCcsIElEX0FUVFIgKyAnLScgKyBnZW5lcmF0ZWRJZHMrKyk7XG5cbiAgICAgICAgZXhwcmVzc2lvbiA9IHt9O1xuXG4gICAgICAgIGFuZ3VsYXIuZXh0ZW5kKGV4cHJlc3Npb24sIHNjb3BlLiRldmFsKGF0dHJzLnVpVGlueW1jZSkpO1xuXG4gICAgICAgIHZhciBzZXR1cE9wdGlvbnMgPSB7XG4gICAgICAgICAgLy8gVXBkYXRlIG1vZGVsIHdoZW4gY2FsbGluZyBzZXRDb250ZW50XG4gICAgICAgICAgLy8gKHN1Y2ggYXMgZnJvbSB0aGUgc291cmNlIGVkaXRvciBwb3B1cClcbiAgICAgICAgICBzZXR1cDogZnVuY3Rpb24oZWQpIHtcbiAgICAgICAgICAgIGVkLm9uKCdpbml0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIG5nTW9kZWwuJHJlbmRlcigpO1xuICAgICAgICAgICAgICBuZ01vZGVsLiRzZXRQcmlzdGluZSgpO1xuICAgICAgICAgICAgICBpZiAoZm9ybSkge1xuICAgICAgICAgICAgICAgIGZvcm0uJHNldFByaXN0aW5lKCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgbW9kZWwgb24gYnV0dG9uIGNsaWNrXG4gICAgICAgICAgICBlZC5vbignRXhlY0NvbW1hbmQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZWQuc2F2ZSgpO1xuICAgICAgICAgICAgICB1cGRhdGVWaWV3KGVkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgbW9kZWwgb24gY2hhbmdlXG4gICAgICAgICAgICBlZC5vbignY2hhbmdlIE5vZGVDaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZWQuc2F2ZSgpO1xuICAgICAgICAgICAgICB1cGRhdGVWaWV3KGVkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlZC5vbignYmx1cicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBlbGVtZW50WzBdLmJsdXIoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBVcGRhdGUgbW9kZWwgd2hlbiBhbiBvYmplY3QgaGFzIGJlZW4gcmVzaXplZCAodGFibGUsIGltYWdlKVxuICAgICAgICAgICAgZWQub24oJ09iamVjdFJlc2l6ZWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgZWQuc2F2ZSgpO1xuICAgICAgICAgICAgICB1cGRhdGVWaWV3KGVkKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBlZC5vbigncmVtb3ZlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlKCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKGV4cHJlc3Npb24uc2V0dXApIHtcbiAgICAgICAgICAgICAgZXhwcmVzc2lvbi5zZXR1cChlZCwge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXc6IHVwZGF0ZVZpZXdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSxcbiAgICAgICAgICBmb3JtYXQ6IGV4cHJlc3Npb24uZm9ybWF0IHx8ICdodG1sJyxcbiAgICAgICAgICBzZWxlY3RvcjogJyMnICsgYXR0cnMuaWRcbiAgICAgICAgfTtcbiAgICAgICAgLy8gZXh0ZW5kIG9wdGlvbnMgd2l0aCBpbml0aWFsIHVpVGlueW1jZUNvbmZpZyBhbmRcbiAgICAgICAgLy8gb3B0aW9ucyBmcm9tIGRpcmVjdGl2ZSBhdHRyaWJ1dGUgdmFsdWVcbiAgICAgICAgYW5ndWxhci5leHRlbmQob3B0aW9ucywgdWlUaW55bWNlQ29uZmlnLCBleHByZXNzaW9uLCBzZXR1cE9wdGlvbnMpO1xuICAgICAgICAvLyBXcmFwcGVkIGluICR0aW1lb3V0IGR1ZSB0byAkdGlueW1jZTpyZWZyZXNoIGltcGxlbWVudGF0aW9uLCByZXF1aXJlc1xuICAgICAgICAvLyBlbGVtZW50IHRvIGJlIHByZXNlbnQgaW4gRE9NIGJlZm9yZSBpbnN0YW50aWF0aW5nIGVkaXRvciB3aGVuXG4gICAgICAgIC8vIHJlLXJlbmRlcmluZyBkaXJlY3RpdmVcbiAgICAgICAgJHRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuYmFzZVVSTCl7XG4gICAgICAgICAgICB0aW55bWNlLmJhc2VVUkwgPSBvcHRpb25zLmJhc2VVUkw7ICAgICAgICAgICAgXG4gICAgICAgICAgfVxuICAgICAgICAgIHRpbnltY2UuaW5pdChvcHRpb25zKTtcbiAgICAgICAgICB0b2dnbGVEaXNhYmxlKHNjb3BlLiRldmFsKGF0dHJzLm5nRGlzYWJsZWQpKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbmdNb2RlbC4kZm9ybWF0dGVycy51bnNoaWZ0KGZ1bmN0aW9uKG1vZGVsVmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gbW9kZWxWYWx1ZSA/ICRzY2UudHJ1c3RBc0h0bWwobW9kZWxWYWx1ZSkgOiAnJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbmdNb2RlbC4kcGFyc2Vycy51bnNoaWZ0KGZ1bmN0aW9uKHZpZXdWYWx1ZSkge1xuICAgICAgICAgIHJldHVybiB2aWV3VmFsdWUgPyAkc2NlLmdldFRydXN0ZWRIdG1sKHZpZXdWYWx1ZSkgOiAnJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbmdNb2RlbC4kcmVuZGVyID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZW5zdXJlSW5zdGFuY2UoKTtcblxuICAgICAgICAgIHZhciB2aWV3VmFsdWUgPSBuZ01vZGVsLiR2aWV3VmFsdWUgP1xuICAgICAgICAgICAgJHNjZS5nZXRUcnVzdGVkSHRtbChuZ01vZGVsLiR2aWV3VmFsdWUpIDogJyc7XG5cbiAgICAgICAgICAvLyBpbnN0YW5jZS5nZXREb2MoKSBjaGVjayBpcyBhIGd1YXJkIGFnYWluc3QgbnVsbCB2YWx1ZVxuICAgICAgICAgIC8vIHdoZW4gZGVzdHJ1Y3Rpb24gJiByZWNyZWF0aW9uIG9mIGluc3RhbmNlcyBoYXBwZW5cbiAgICAgICAgICBpZiAodGlueUluc3RhbmNlICYmXG4gICAgICAgICAgICB0aW55SW5zdGFuY2UuZ2V0RG9jKClcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZS5zZXRDb250ZW50KHZpZXdWYWx1ZSk7XG4gICAgICAgICAgICAvLyBUcmlnZ2VyaW5nIGNoYW5nZSBldmVudCBkdWUgdG8gVGlueU1DRSBub3QgZmlyaW5nIGV2ZW50ICZcbiAgICAgICAgICAgIC8vIGJlY29taW5nIG91dCBvZiBzeW5jIGZvciBjaGFuZ2UgY2FsbGJhY2tzXG4gICAgICAgICAgICB0aW55SW5zdGFuY2UuZmlyZSgnY2hhbmdlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdkaXNhYmxlZCcsIHRvZ2dsZURpc2FibGUpO1xuXG4gICAgICAgIC8vIFRoaXMgYmxvY2sgaXMgYmVjYXVzZSBvZiBUaW55TUNFIG5vdCBwbGF5aW5nIHdlbGwgd2l0aCByZW1vdmFsIGFuZFxuICAgICAgICAvLyByZWNyZWF0aW9uIG9mIGluc3RhbmNlcywgcmVxdWlyaW5nIGluc3RhbmNlcyB0byBoYXZlIGRpZmZlcmVudFxuICAgICAgICAvLyBzZWxlY3RvcnMgaW4gb3JkZXIgdG8gcmVuZGVyIG5ldyBpbnN0YW5jZXMgcHJvcGVybHlcbiAgICAgICAgc2NvcGUuJG9uKCckdGlueW1jZTpyZWZyZXNoJywgZnVuY3Rpb24oZSwgaWQpIHtcbiAgICAgICAgICB2YXIgZWlkID0gYXR0cnMuaWQ7XG4gICAgICAgICAgaWYgKGFuZ3VsYXIuaXNVbmRlZmluZWQoaWQpIHx8IGlkID09PSBlaWQpIHtcbiAgICAgICAgICAgIHZhciBwYXJlbnRFbGVtZW50ID0gZWxlbWVudC5wYXJlbnQoKTtcbiAgICAgICAgICAgIHZhciBjbG9uZWRFbGVtZW50ID0gZWxlbWVudC5jbG9uZSgpO1xuICAgICAgICAgICAgY2xvbmVkRWxlbWVudC5yZW1vdmVBdHRyKCdpZCcpO1xuICAgICAgICAgICAgY2xvbmVkRWxlbWVudC5yZW1vdmVBdHRyKCdzdHlsZScpO1xuICAgICAgICAgICAgY2xvbmVkRWxlbWVudC5yZW1vdmVBdHRyKCdhcmlhLWhpZGRlbicpO1xuICAgICAgICAgICAgdGlueW1jZS5leGVjQ29tbWFuZCgnbWNlUmVtb3ZlRWRpdG9yJywgZmFsc2UsIGVpZCk7XG4gICAgICAgICAgICBwYXJlbnRFbGVtZW50LmFwcGVuZCgkY29tcGlsZShjbG9uZWRFbGVtZW50KShzY29wZSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2NvcGUuJG9uKCckZGVzdHJveScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGVuc3VyZUluc3RhbmNlKCk7XG5cbiAgICAgICAgICBpZiAodGlueUluc3RhbmNlKSB7XG4gICAgICAgICAgICB0aW55SW5zdGFuY2UucmVtb3ZlKCk7XG4gICAgICAgICAgICB0aW55SW5zdGFuY2UgPSBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZnVuY3Rpb24gZW5zdXJlSW5zdGFuY2UoKSB7XG4gICAgICAgICAgaWYgKCF0aW55SW5zdGFuY2UpIHtcbiAgICAgICAgICAgIHRpbnlJbnN0YW5jZSA9IHRpbnltY2UuZ2V0KGF0dHJzLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XSk7XG5cbmlmKHR5cGVvZiBURU1QTEFURVMgPT09ICd1bmRlZmluZWQnKSB7dmFyIFRFTVBMQVRFUyA9IHt9O31cblRFTVBMQVRFU1snYWxpZ25tZW50Lmh0bWwnXSA9IFwiPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwIGFsaWdubWVudFxcXCI+XFxuXCIgK1xuICAgIFwiICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc20gYnRuLWFsaWdubWVudCBkcm9wZG93bi10b2dnbGVcXFwiXFxuXCIgK1xuICAgIFwiICAgIGRhdGEtdG9nZ2xlPVxcXCJkcm9wZG93blxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwibGVmdFxcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxpIGNsYXNzPVxcXCJmYSBmYS1hbGlnbi1sZWZ0XFxcIj48L2k+XFxuXCIgK1xuICAgIFwiICAgIDxzcGFuIGNsYXNzPVxcXCJjYXJldFxcXCI+PC9zcGFuPlxcblwiICtcbiAgICBcIiAgPC9idXR0b24+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJkcm9wZG93bi1tZW51XFxcIiByb2xlPVxcXCJtZW51XFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiYnRuLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQ9XFxcImFsaWdubWVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImxlZnRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tbGVmdFxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwiY2VudGVyXFxcIiB0YWJpbmRleD1cXFwiLTFcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGkgY2xhc3M9XFxcImZhIGZhLWFsaWduLWNlbnRlclxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICAgIDxidXR0b24gdHlwZT1cXFwiYnV0dG9uXFxcIiBjbGFzcz1cXFwiYnRuIGJ0bi1kZWZhdWx0IGJ0bi1zbVxcXCIgZGF0YS13eXNpaHRtbDUtY29tbWFuZD1cXFwiYWxpZ25tZW50XFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgZGF0YS13eXNpaHRtbDUtY29tbWFuZC12YWx1ZT1cXFwicmlnaHRcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tcmlnaHRcXFwiPjwvaT5cXG5cIiArXG4gICAgXCIgICAgICA8L2J1dHRvbj5cXG5cIiArXG4gICAgXCIgICAgICA8YnV0dG9uIHR5cGU9XFxcImJ1dHRvblxcXCIgY2xhc3M9XFxcImJ0biBidG4tZGVmYXVsdCBidG4tc21cXFwiIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQ9XFxcImFsaWdubWVudFxcXCJcXG5cIiArXG4gICAgXCIgICAgICAgIGRhdGEtd3lzaWh0bWw1LWNvbW1hbmQtdmFsdWU9XFxcImp1c3RpZnlcXFwiIHRhYmluZGV4PVxcXCItMVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aSBjbGFzcz1cXFwiZmEgZmEtYWxpZ24tanVzdGlmeVxcXCI+PC9pPlxcblwiICtcbiAgICBcIiAgICAgIDwvYnV0dG9uPlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiOyBcbi8qICBDb3B5cmlnaHQgwqkgMjAxNCBSaXNlIFZpc2lvbiBJbmNvcnBvcmF0ZWQuXG4gKiAgVXNlIG9mIHRoaXMgc29mdHdhcmUgaXMgZ292ZXJuZWQgYnkgdGhlIEdQTHYzIGxpY2Vuc2VcbiAqICAocmVwcm9kdWNlZCBpbiB0aGUgTElDRU5TRSBmaWxlKS5cbiAqL1xuXG4vKiBnbG9iYWwgVEVNUExBVEVTICovXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50LCBURU1QTEFURVMsIHVuZGVmaW5lZCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgX3BsdWdpbk5hbWUgPSBcImFsaWdubWVudFwiO1xuXG4gIGZ1bmN0aW9uIFBsdWdpbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdmFyICRlbGVtZW50ID0gJChlbGVtZW50KTtcbiAgICB2YXIgJGJ0bkFsaWdubWVudCA9IG51bGw7XG4gICAgdmFyIGRlZmF1bHRBbGlnbm1lbnQgPSBcImxlZnRcIjtcblxuICAgIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgeyBcImFsaWduXCI6IGRlZmF1bHRBbGlnbm1lbnQgfSwgb3B0aW9ucyk7XG5cbiAgICAvKlxuICAgICAqICBQcml2YXRlIE1ldGhvZHNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBfaW5pdCgpIHtcbiAgICAgIC8vIEdldCB0aGUgSFRNTCBtYXJrdXAgZnJvbSB0aGUgdGVtcGxhdGUuXG4gICAgICAkZWxlbWVudC5hcHBlbmQoVEVNUExBVEVTW1wiYWxpZ25tZW50Lmh0bWxcIl0pO1xuICAgICAgJGJ0bkFsaWdubWVudCA9ICRlbGVtZW50LmZpbmQoXCIuYnRuLWFsaWdubWVudFwiKTtcblxuICAgICAgc2V0QWxpZ25tZW50KG9wdGlvbnMuYWxpZ24pO1xuXG4gICAgICAkZWxlbWVudC5maW5kKFwiLmRyb3Bkb3duLW1lbnUgYnV0dG9uXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhbGlnbm1lbnQgPSAkKHRoaXMpLmRhdGEoXCJ3eXNpaHRtbDUtY29tbWFuZC12YWx1ZVwiKTtcblxuICAgICAgICBzZXRBbGlnbm1lbnQoYWxpZ25tZW50KTtcbiAgICAgICAgJGVsZW1lbnQudHJpZ2dlcihcImFsaWdubWVudENoYW5nZWRcIiwgYWxpZ25tZW50KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qXG4gICAgICogIFB1YmxpYyBNZXRob2RzXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxpZ25tZW50KCkge1xuICAgICByZXR1cm4gJGJ0bkFsaWdubWVudC5kYXRhKFwid3lzaWh0bWw1LWNvbW1hbmQtdmFsdWVcIik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc2V0QWxpZ25tZW50KGFsaWdubWVudCkge1xuICAgICAgdmFyICRwcmltYXJ5SWNvbiA9ICRlbGVtZW50LmZpbmQoXCIuYnRuLWFsaWdubWVudCAuZmFcIik7XG4gICAgICB2YXIgY3VycmVudENsYXNzID0gJHByaW1hcnlJY29uLmF0dHIoXCJjbGFzc1wiKS5tYXRjaCgvZmEtYWxpZ24tW2Etel0rL2cpO1xuICAgICAgdmFyIG5ld0NsYXNzID0gXCJmYS1hbGlnbi1cIiArIGFsaWdubWVudDtcblxuICAgICAgLy8gUmVtb3ZlIGN1cnJlbnQgYWxpZ25tZW50IGljb24uXG4gICAgICBpZiAoY3VycmVudENsYXNzICYmIGN1cnJlbnRDbGFzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICRwcmltYXJ5SWNvbi5yZW1vdmVDbGFzcyhjdXJyZW50Q2xhc3NbMF0pO1xuICAgICAgfVxuXG4gICAgICAvLyBBZGQgbmV3IGFsaWdubWVudCBpY29uLlxuICAgICAgJHByaW1hcnlJY29uLmFkZENsYXNzKG5ld0NsYXNzKTtcbiAgICAgICRidG5BbGlnbm1lbnQuZGF0YShcInd5c2lodG1sNS1jb21tYW5kLXZhbHVlXCIsIGFsaWdubWVudCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzZXQoKSB7XG4gICAgICBzZXRBbGlnbm1lbnQoZGVmYXVsdEFsaWdubWVudCk7XG4gICAgfVxuXG4gICAgX2luaXQoKTtcblxuICAgIHJldHVybiB7XG4gICAgICBnZXRBbGlnbm1lbnQ6IGdldEFsaWdubWVudCxcbiAgICAgIHNldEFsaWdubWVudDogc2V0QWxpZ25tZW50LFxuICAgICAgcmVzZXQ6ICAgICAgICByZXNldFxuICAgIH07XG4gIH1cblxuICAvKlxuICAgKiAgQSBsaWdodHdlaWdodCBwbHVnaW4gd3JhcHBlciBhcm91bmQgdGhlIGNvbnN0cnVjdG9yIHRoYXQgcHJldmVudHNcbiAgICogIG11bHRpcGxlIGluc3RhbnRpYXRpb25zLlxuICAgKi9cbiAgJC5mbi5hbGlnbm1lbnQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIGlmICghJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgX3BsdWdpbk5hbWUpKSB7XG4gICAgICAgICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIF9wbHVnaW5OYW1lLCBuZXcgUGx1Z2luKHRoaXMsIG9wdGlvbnMpKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCwgVEVNUExBVEVTKTtcblxuLyogZXhwb3J0ZWQgV0lER0VUX1NFVFRJTkdTX1VJX0NPTkZJRyAqL1xudmFyIFdJREdFVF9TRVRUSU5HU19VSV9DT05GSUcgPSB7XG4gIFwiZmFtaWxpZXNcIjogXCJBbmRhbGUgTW9ubz1hbmRhbGUgbW9ubyxtb25vc3BhY2U7XCIgK1xuICAgICAgXCJBcmlhbD1hcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkFyaWFsIEJsYWNrPWFyaWFsIGJsYWNrLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJCb29rIEFudGlxdWE9Ym9vayBhbnRpcXVhLHBhbGF0aW5vLHNlcmlmO1wiICtcbiAgICAgIFwiQ29taWMgU2FucyBNUz1jb21pYyBzYW5zIG1zLHNhbnMtc2VyaWY7XCIgK1xuICAgICAgXCJDb3VyaWVyIE5ldz1jb3VyaWVyIG5ldyxjb3VyaWVyLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIkdlb3JnaWE9Z2VvcmdpYSxwYWxhdGlubyxzZXJpZjtcIiArXG4gICAgICBcIkhlbHZldGljYT1oZWx2ZXRpY2EsYXJpYWwsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIkltcGFjdD1pbXBhY3Qsc2Fucy1zZXJpZjtcIiArXG4gICAgICBcIlN5bWJvbD1zeW1ib2w7XCIgK1xuICAgICAgXCJUYWhvbWE9dGFob21hLGFyaWFsLGhlbHZldGljYSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVGVybWluYWw9dGVybWluYWwsbW9uYWNvLG1vbm9zcGFjZTtcIiArXG4gICAgICBcIlRpbWVzIE5ldyBSb21hbj10aW1lcyBuZXcgcm9tYW4sdGltZXMsc2VyaWY7XCIgK1xuICAgICAgXCJUcmVidWNoZXQgTVM9dHJlYnVjaGV0IG1zLGdlbmV2YSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiVmVyZGFuYT12ZXJkYW5hLGdlbmV2YSxzYW5zLXNlcmlmO1wiICtcbiAgICAgIFwiV2ViZGluZ3M9d2ViZGluZ3M7XCIgK1xuICAgICAgXCJXaW5nZGluZ3M9d2luZ2RpbmdzLHphcGYgZGluZ2JhdHM7XCIsXG4gIFwic2l6ZXNcIjogXCI4cHggOXB4IDEwcHggMTFweCAxMnB4IDE0cHggMThweCAyNHB4IDMwcHggMzZweCA0OHB4IDYwcHggNzJweCA5NnB4XCJcbn07XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmFsaWdubWVudFwiLCBbXSlcbiAgICAuZGlyZWN0aXZlKFwiYWxpZ25tZW50XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJlc3RyaWN0OiBcIkVcIixcbiAgICAgICAgc2NvcGU6IHtcbiAgICAgICAgICBhbGlnbjogXCI9XCJcbiAgICAgICAgfSxcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uIChzY29wZSwgZWxlbWVudCkge1xuICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQoZWxlbWVudCk7XG5cbiAgICAgICAgICBzY29wZS4kd2F0Y2goXCJhbGlnblwiLCBmdW5jdGlvbihhbGlnbikge1xuICAgICAgICAgICAgaWYgKGFsaWduKSB7XG4gICAgICAgICAgICAgIGlmICgkZWxlbWVudC5kYXRhKFwicGx1Z2luX2FsaWdubWVudFwiKSkge1xuICAgICAgICAgICAgICAgICRlbGVtZW50LmRhdGEoXCJwbHVnaW5fYWxpZ25tZW50XCIpLnNldEFsaWdubWVudChhbGlnbik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgJGVsZW1lbnQuYWxpZ25tZW50KHsgYWxpZ246IGFsaWduIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICAkZWxlbWVudC5vbihcImFsaWdubWVudENoYW5nZWRcIiwgZnVuY3Rpb24oZXZlbnQsIGFsaWdubWVudCkge1xuICAgICAgICAgICAgc2NvcGUuJGFwcGx5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBzY29wZS5hbGlnbiA9IGFsaWdubWVudDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xufSgpKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uY29sdW1uLXNldHRpbmdcIiwgW1wicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLCBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5mb250LXNldHRpbmdcIl0pXG4gICAgLmRpcmVjdGl2ZShcImNvbHVtblNldHRpbmdcIiwgW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgY29sdW1uOiBcIj1cIixcbiAgICAgICAgICBleHBhbmQ6IFwiPVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoXCJfYW5ndWxhci9jb2x1bW4tc2V0dGluZy9jb2x1bW4tc2V0dGluZy5odG1sXCIpLFxuICAgICAgICB0cmFuc2NsdWRlOiBmYWxzZSxcbiAgICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlKSB7XG4gICAgICAgICAgdmFyIGRlZmF1bHRTZXR0aW5ncyA9IHtcbiAgICAgICAgICAgIGZvbnRTdHlsZToge1xuICAgICAgICAgICAgICBmb250OiB7XG4gICAgICAgICAgICAgICAgXCJmYW1pbHlcIjpcInZlcmRhbmEsZ2VuZXZhLHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgICAgICBcInR5cGVcIjpcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICAgICAgXCJ1cmxcIjpcIlwiXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHNpemU6IFwiMThweFwiLFxuICAgICAgICAgICAgICBjdXN0b21TaXplOiBcIlwiLFxuICAgICAgICAgICAgICBhbGlnbjogXCJsZWZ0XCIsXG4gICAgICAgICAgICAgIGJvbGQ6IGZhbHNlLFxuICAgICAgICAgICAgICBpdGFsaWM6IGZhbHNlLFxuICAgICAgICAgICAgICB1bmRlcmxpbmU6IGZhbHNlLFxuICAgICAgICAgICAgICBmb3JlY29sb3I6IFwiYmxhY2tcIixcbiAgICAgICAgICAgICAgYmFja2NvbG9yOiBcInRyYW5zcGFyZW50XCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBoZWFkZXJUZXh0OiBcIlwiLFxuICAgICAgICAgICAgd2lkdGg6IDEwMCxcbiAgICAgICAgICAgIGNvbG9yQ29uZGl0aW9uOiBcIm5vbmVcIlxuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuZGVmYXVsdHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDEsIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcblxuICAgICAgICAgICAgICAgICAgaWYgKG9ialtwcm9wXSA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgICRzY29wZS4kd2F0Y2goXCJjb2x1bW4ubnVtZXJpY1wiLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiB2YWx1ZSAhPT0gXCJcIikge1xuICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICBkZWZhdWx0U2V0dGluZ3MudHlwZSA9IFwiaW50XCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZGVmYXVsdFNldHRpbmdzLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZGVmYXVsdFNldHRpbmdzLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAkc2NvcGUuZGVmYXVsdHMoJHNjb3BlLmNvbHVtbiwgZGVmYXVsdFNldHRpbmdzKTtcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgICRzY29wZS5yZW1vdmUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICRzY29wZS4kcGFyZW50LnJlbW92ZSgkc2NvcGUuY29sdW1uKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1dKTtcbn0oKSk7XG5cbihmdW5jdGlvbihtb2R1bGUpIHtcbnRyeSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmNvbHVtbi1zZXR0aW5nXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uY29sdW1uLXNldHRpbmdcIiwgW10pOyB9XG5tb2R1bGUucnVuKFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuICAkdGVtcGxhdGVDYWNoZS5wdXQoXCJfYW5ndWxhci9jb2x1bW4tc2V0dGluZy9jb2x1bW4tc2V0dGluZy5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJwYW5lbCBwYW5lbC1kZWZhdWx0XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbGxhcHNlLXBhbmVsIHBhbmVsLWhlYWRpbmdcXFwiPlxcblwiICtcbiAgICBcIiAgICA8YSBocmVmPVxcXCJcXFwiIG9uZHJhZ3N0YXJ0PVxcXCJyZXR1cm4gZmFsc2U7XFxcIlxcblwiICtcbiAgICBcIiAgICBuZy1jbGFzcz1cXFwieydwYW5lbC1oZWFkaW5nJzp0cnVlLCBjb2xsYXBzZWQ6IWNvbGxhcHNlfVxcXCIgbmctY2xpY2s9XFxcImNvbGxhcHNlPSFjb2xsYXBzZVxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgIHt7Y29sdW1uLm5hbWUgfCB0cmFuc2xhdGV9fVxcblwiICtcbiAgICBcIiAgICA8L2E+XFxuXCIgK1xuICAgIFwiICAgIDxhIGhyZWY9XFxcIlxcXCIgb25kcmFnc3RhcnQ9XFxcInJldHVybiBmYWxzZTtcXFwiIGNsYXNzPVxcXCJmYSBmYS1taW51cy1jaXJjbGUgZmEtbGcgcmVtb3ZlLWNvbHVtbi1idXR0b25cXFwiIG5nLWNsaWNrPVxcXCJyZW1vdmUoKVxcXCI+PC9hPlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IG5nLWNsYXNzPVxcXCJ7J3BhbmVsLWNvbGxhcHNlJzp0cnVlLCBjb2xsYXBzZTp0cnVlLCBpbjpjb2xsYXBzZX1cXFwiPlxcblwiICtcbiAgICBcIiAgICA8ZGl2IGNsYXNzPVxcXCJwYW5lbC1ib2R5XFxcIj5cXG5cIiArXG4gICAgXCJcXG5cIiArXG4gICAgXCIgICAgICA8IS0tIE51bWVyaWMgZGF0YSBjb2x1bW4gLS0+XFxuXCIgK1xuICAgIFwiICAgICAgPGRpdiBjbGFzcz1cXFwiY2hlY2tib3hcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPGxhYmVsPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIG5nLW1vZGVsPVxcXCJjb2x1bW4ubnVtZXJpY1xcXCI+e3snY29sdW1uLm51bWVyaWMnIHwgdHJhbnNsYXRlfX1cXG5cIiArXG4gICAgXCIgICAgICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwidGV4dC1kYW5nZXJcXFwiIHN0eWxlPVxcXCJmbG9hdDpyaWdodFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIHt7J2NvbHVtbi5ub3RlJyB8IHRyYW5zbGF0ZX19XFxuXCIgK1xuICAgIFwiICAgICAgICA8L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgPGZvbnQtc2V0dGluZyBmb250LWRhdGE9XFxcImNvbHVtbi5mb250U3R5bGVcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDwvZm9udC1zZXR0aW5nPlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8IS0tIEhlYWRlciBUZXh0IC0tPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTYgY29sLXhzLTEyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiY29sdW1uLWhlYWRlci10ZXh0XFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIHt7J2NvbHVtbi5oZWFkZXItdGV4dC5sYWJlbCcgfCB0cmFuc2xhdGV9fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcInRleHRcXFwiIG5nLW1vZGVsPVxcXCJjb2x1bW4uaGVhZGVyVGV4dFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8IS0tIFdpZHRoIC0tPlxcblwiICtcbiAgICBcIiAgICAgICAgPGRpdiBjbGFzcz1cXFwiY29sLXNtLTMgY29sLXhzLTEyXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGxhYmVsIGZvcj1cXFwiY29sdW1uLXdpZHRoXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIHt7J2NvbHVtbi53aWR0aCcgfCB0cmFuc2xhdGV9fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgbmctbW9kZWw9XFxcImNvbHVtbi53aWR0aFxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7J2NvbW1vbi51bml0cy5waXhlbHMnIHwgdHJhbnNsYXRlfX08L3NwYW4+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICAgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICAgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiXFxuXCIgK1xuICAgIFwiICAgICAgICA8IS0tIENvbG9yIENvbmRpdGlvbnMgLS0+XFxuXCIgK1xuICAgIFwiICAgICAgICA8ZGl2IGNsYXNzPVxcXCJjb2wtc20tMyBjb2wteHMtMTJcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgICA8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8bGFiZWwgZm9yPVxcXCJjb2x1bW4tY29sb3ItY29uZGl0aW9uXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgICAge3snY29sdW1uLmNvbG9yLWNvbmRpdGlvbi5sYWJlbCcgfCB0cmFuc2xhdGV9fVxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICA8c2VsZWN0IGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJjb2x1bW4uY29sb3JDb25kaXRpb25cXFwiXFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICBuZy1kaXNhYmxlZD1cXFwiIWNvbHVtbi5udW1lcmljXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIm5vbmVcXFwiPnt7J2NvbHVtbi5jb2xvci1jb25kaXRpb24ubm9uZScgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiY2hhbmdlLXVwXFxcIj57eydjb2x1bW4uY29sb3ItY29uZGl0aW9uLmNoYW5nZS11cCcgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiY2hhbmdlLWRvd25cXFwiPnt7J2NvbHVtbi5jb2xvci1jb25kaXRpb24uY2hhbmdlLWRvd24nIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcInZhbHVlLXBvc2l0aXZlXFxcIj57eydjb2x1bW4uY29sb3ItY29uZGl0aW9uLnZhbHVlLXBvc2l0aXZlJyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJ2YWx1ZS1uZWdhdGl2ZVxcXCI+e3snY29sdW1uLmNvbG9yLWNvbmRpdGlvbi52YWx1ZS1uZWdhdGl2ZScgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgICAgIDwvc2VsZWN0PlxcblwiICtcbiAgICBcIiAgICAgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbihmdW5jdGlvbiAoKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmNvbHVtbi1zZWxlY3RvclwiLCBbXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uY29sdW1uLXNldHRpbmdcIixcbiAgICAgICAgICBcInJpc2V2aXNpb24uY29tbW9uLmkxOG5cIl0pXG4gICAgLmRpcmVjdGl2ZShcImNvbHVtblNlbGVjdG9yXCIsIFtcIiR0ZW1wbGF0ZUNhY2hlXCIsIGZ1bmN0aW9uICgkdGVtcGxhdGVDYWNoZSkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6IFwiRVwiLFxuICAgICAgICByZXF1aXJlOiBcIj9uZ01vZGVsXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgY29sdW1uczogXCI9XCIsXG4gICAgICAgICAgY29sdW1uTmFtZXM6IFwiPVwiXG4gICAgICAgIH0sXG4gICAgICAgIHRlbXBsYXRlOiAkdGVtcGxhdGVDYWNoZS5nZXQoXCJfYW5ndWxhci9jb2x1bW4tc2VsZWN0b3IvY29sdW1uLXNlbGVjdG9yLmh0bWxcIiksXG4gICAgICAgIHRyYW5zY2x1ZGU6IGZhbHNlLFxuICAgICAgICBsaW5rOiBmdW5jdGlvbigkc2NvcGUsIGVsbSwgYXR0cnMsIGN0cmwpIHtcbiAgICAgICAgICB2YXIgY29sdW1uc1dhdGNoZXIgPSAkc2NvcGUuJHdhdGNoKFwiY29sdW1uc1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuY29sdW1ucyAmJiAkc2NvcGUuY29sdW1uTmFtZXMpIHtcbiAgICAgICAgICAgICAgdXBkYXRlQ29sdW1ucygpO1xuICAgICAgICAgICAgICBzZXRWYWxpZGl0eSgpO1xuXG4gICAgICAgICAgICAgIC8vIERlc3Ryb3kgd2F0Y2hcbiAgICAgICAgICAgICAgY29sdW1uc1dhdGNoZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIHZhciBjb2x1bW5OYW1lc1dhdGNoZXIgPSAkc2NvcGUuJHdhdGNoKFwiY29sdW1uTmFtZXNcIiwgZnVuY3Rpb24oY29sdW1uTmFtZXMpIHtcbiAgICAgICAgICAgIGlmICgkc2NvcGUuY29sdW1ucyAmJiBjb2x1bW5OYW1lcyAmJiBjb2x1bW5OYW1lcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgIHVwZGF0ZUNvbHVtbnMoKTtcblxuICAgICAgICAgICAgICAvLyBEZXN0cm95IHdhdGNoXG4gICAgICAgICAgICAgIGNvbHVtbk5hbWVzV2F0Y2hlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgJHNjb3BlLnNob3cgPSBmdW5jdGlvbih2KXtyZXR1cm4gIXYuc2hvdzt9O1xuXG4gICAgICAgICAgJHNjb3BlLmFkZENvbHVtbiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygkc2NvcGUuc2VsZWN0ZWRDb2x1bW4pO1xuICAgICAgICAgICAgJHNjb3BlLmFkZCgkc2NvcGUuc2VsZWN0ZWRDb2x1bW4pO1xuICAgICAgICAgICAgJHNjb3BlLnNlbGVjdGVkQ29sdW1uID0gbnVsbDtcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLmFkZCA9IGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgY29sdW1uLnNob3cgPSB0cnVlO1xuICAgICAgICAgICAgJHNjb3BlLmNvbHVtbnMucHVzaChjb2x1bW4pO1xuXG4gICAgICAgICAgICBzZXRWYWxpZGl0eSgpO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUucmVtb3ZlID0gZnVuY3Rpb24gKGNvbHVtbikge1xuICAgICAgICAgICAgaWYgKGNvbHVtbikge1xuICAgICAgICAgICAgICByZW1vdmVDb2x1bW4oJHNjb3BlLmNvbHVtbnMsIGNvbHVtbi5pZCk7XG5cbiAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAkc2NvcGUuY29sdW1uTmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBpZiAoY29sdW1uLmlkID09PSAkc2NvcGUuY29sdW1uTmFtZXNbaV0uaWQpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5OYW1lc1tpXS5zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICBzZXRWYWxpZGl0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG5cbiAgICAgICAgICBmdW5jdGlvbiByZW1vdmVDb2x1bW4oY29sdW1uc0xpc3QsIGlkKSB7XG4gICAgICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY29sdW1uc0xpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgaWYgKGNvbHVtbnNMaXN0W2ldLmlkID09PSBpZCkge1xuICAgICAgICAgICAgICAgIGNvbHVtbnNMaXN0LnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHNldFZhbGlkaXR5KCkge1xuICAgICAgICAgICAgaWYgKGN0cmwpIHtcbiAgICAgICAgICAgICAgY3RybC4kc2V0VmFsaWRpdHkoXCJyZXF1aXJlZFwiLCAkc2NvcGUuY29sdW1ucy5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGZ1bmN0aW9uIHVwZGF0ZUNvbHVtbnMoKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8ICRzY29wZS5jb2x1bW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgJHNjb3BlLmNvbHVtbk5hbWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCRzY29wZS5jb2x1bW5zW2ldLmlkID09PSAkc2NvcGUuY29sdW1uTmFtZXNbal0uaWQpIHtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5zW2ldLnR5cGUgPSAkc2NvcGUuY29sdW1uTmFtZXNbal0udHlwZTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5zW2ldLm5hbWUgPSAkc2NvcGUuY29sdW1uTmFtZXNbal0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICRzY29wZS5jb2x1bW5OYW1lc1tqXS5zaG93ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfV0pO1xufSgpKTtcblxuKGZ1bmN0aW9uKG1vZHVsZSkge1xudHJ5IHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uY29sdW1uLXNlbGVjdG9yXCIpOyB9XG5jYXRjaChlcnIpIHsgbW9kdWxlID0gYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uY29sdW1uLXNlbGVjdG9yXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvY29sdW1uLXNlbGVjdG9yL2NvbHVtbi1zZWxlY3Rvci5odG1sXCIsXG4gICAgXCI8ZGl2IGNsYXNzPVxcXCJzZWN0aW9uXFxcIj5cXG5cIiArXG4gICAgXCJcdDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xuICAgIFwiXHRcdDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCJjb2x1bW5zXFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3snY29sdW1uLnNlbGVjdC10aXRsZScgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiXHRcdCAgICA8c2VsZWN0IGlkPVxcXCJjb2x1bW4tc2VsZWN0b3JcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIG5nLW1vZGVsPVxcXCJzZWxlY3RlZENvbHVtblxcXCJcXG5cIiArXG4gICAgXCJcdFx0XHRcdG5nLW9wdGlvbnM9XFxcImNvbHVtbi5uYW1lIHwgdHJhbnNsYXRlIGZvciBjb2x1bW4gaW4gY29sdW1uTmFtZXMgfCBmaWx0ZXI6c2hvdyB0cmFjayBieSBjb2x1bW4uaWRcXFwiXFxuXCIgK1xuICAgIFwiXHRcdFx0XHRuZy1jaGFuZ2U9XFxcImFkZENvbHVtbigpXFxcIj48L3NlbGVjdD5cXG5cIiArXG4gICAgXCJcdFx0XHQ8L2Rpdj5cXG5cIiArXG4gICAgXCJcdFx0PC9kaXY+XFxuXCIgK1xuICAgIFwiXHQ8L2Rpdj5cXG5cIiArXG4gICAgXCJcdDxkaXYgY2xhc3M9XFxcInJvd1xcXCI+XFxuXCIgK1xuICAgIFwiXHRcdDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMlxcXCI+XFxuXCIgK1xuICAgIFwiXHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwtZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIlx0XHRcdFx0PGNvbHVtbi1zZXR0aW5nIGNvbHVtbj1cXFwiY29sdW1uXFxcIiBuZy1yZXBlYXQ9XFxcImNvbHVtbiBpbiBjb2x1bW5zXFxcIj48L2NvbHVtbi1zZXR0aW5nPlxcblwiICtcbiAgICBcIlx0XHRcdDwvZGl2PlxcblwiICtcbiAgICBcIlx0PC9kaXY+XFxuXCIgK1xuICAgIFwiPC9kaXY+XFxuXCIgK1xuICAgIFwiXCIpO1xufV0pO1xufSkoKTtcblxuKGZ1bmN0aW9uICgpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uc2Nyb2xsLXNldHRpbmdcIixcbiAgICBbXCJyaXNldmlzaW9uLmNvbW1vbi5pMThuXCIsIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnRvb2x0aXBcIl0pXG4gICAgLmRpcmVjdGl2ZShcInNjcm9sbFNldHRpbmdcIiwgW1wiJHRlbXBsYXRlQ2FjaGVcIiwgZnVuY3Rpb24gKCR0ZW1wbGF0ZUNhY2hlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICByZXN0cmljdDogXCJFXCIsXG4gICAgICAgIHNjb3BlOiB7XG4gICAgICAgICAgc2Nyb2xsOiBcIj1cIlxuICAgICAgICB9LFxuICAgICAgICB0ZW1wbGF0ZTogJHRlbXBsYXRlQ2FjaGUuZ2V0KFwiX2FuZ3VsYXIvc2Nyb2xsLXNldHRpbmcvc2Nyb2xsLXNldHRpbmcuaHRtbFwiKSxcbiAgICAgICAgdHJhbnNjbHVkZTogZmFsc2UsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKCRzY29wZSkge1xuICAgICAgICAgICRzY29wZS5kZWZhdWx0U2V0dGluZyA9IHtcbiAgICAgICAgICAgIGJ5OiBcIm5vbmVcIixcbiAgICAgICAgICAgIGRpcmVjdGlvbjogXCJ1cFwiLFxuICAgICAgICAgICAgc3BlZWQ6IFwibWVkaXVtXCIsXG4gICAgICAgICAgICBwYXVzZTogNSxcbiAgICAgICAgICAgIHB1ZDogMTBcbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgJHNjb3BlLmRlZmF1bHRzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGkgPSAxLCBsZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChvYmpbcHJvcF0gPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgIH07XG5cbiAgICAgICAgICAkc2NvcGUuJHdhdGNoKFwic2Nyb2xsXCIsIGZ1bmN0aW9uKHNjcm9sbCkge1xuICAgICAgICAgICAgJHNjb3BlLmRlZmF1bHRzKHNjcm9sbCwgJHNjb3BlLmRlZmF1bHRTZXR0aW5nKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XSk7XG59KCkpO1xuXG4oZnVuY3Rpb24obW9kdWxlKSB7XG50cnkgeyBtb2R1bGUgPSBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5zY3JvbGwtc2V0dGluZ1wiKTsgfVxuY2F0Y2goZXJyKSB7IG1vZHVsZSA9IGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnNjcm9sbC1zZXR0aW5nXCIsIFtdKTsgfVxubW9kdWxlLnJ1bihbXCIkdGVtcGxhdGVDYWNoZVwiLCBmdW5jdGlvbigkdGVtcGxhdGVDYWNoZSkge1xuICBcInVzZSBzdHJpY3RcIjtcbiAgJHRlbXBsYXRlQ2FjaGUucHV0KFwiX2FuZ3VsYXIvc2Nyb2xsLXNldHRpbmcvc2Nyb2xsLXNldHRpbmcuaHRtbFwiLFxuICAgIFwiPGRpdiBjbGFzcz1cXFwicm93XFxcIj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0yXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e1xcXCJzY3JvbGwuaGVhZGluZ1xcXCIgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPHNlbGVjdCBpZD1cXFwic2Nyb2xsLWJ5XFxcIiBuZy1tb2RlbD1cXFwic2Nyb2xsLmJ5XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIm5vbmVcXFwiPnt7J3Njcm9sbC5ieS5ub25lJyB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJjb250aW51b3VzXFxcIj57eydzY3JvbGwuYnkuY29udGludW91cycgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwicGFnZVxcXCI+e3snc2Nyb2xsLmJ5LnBhZ2UnIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3NlbGVjdD5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0yXFxcIiBuZy1zaG93PVxcXCJzY3JvbGwuYnkgIT0gJ25vbmUnXFxcIj5cXG5cIiArXG4gICAgXCIgICAgPGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgPGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e1xcXCJ0cmFuc2l0aW9uLmRpcmVjdGlvbi5sYWJlbFxcXCIgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPHNlbGVjdCBpZD1cXFwic2Nyb2xsLWRpcmVjdGlvblxcXCIgbmFtZT1cXFwic2Nyb2xsLWRpcmVjdGlvblxcXCIgbmctbW9kZWw9XFxcInNjcm9sbC5kaXJlY3Rpb25cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwidXBcXFwiPnt7XFxcInRyYW5zaXRpb24uZGlyZWN0aW9uLnVwXFxcIiB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgICA8b3B0aW9uIHZhbHVlPVxcXCJsZWZ0XFxcIj57e1xcXCJ0cmFuc2l0aW9uLmRpcmVjdGlvbi5sZWZ0XFxcIiB8IHRyYW5zbGF0ZX19PC9vcHRpb24+XFxuXCIgK1xuICAgIFwiICAgICAgPC9zZWxlY3Q+XFxuXCIgK1xuICAgIFwiICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8ZGl2IGNsYXNzPVxcXCJjb2wtbWQtMlxcXCIgbmctc2hvdz1cXFwic2Nyb2xsLmJ5ICE9ICdub25lJ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3snc2Nyb2xsLnNwZWVkLmxhYmVsJyB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICA8c2VsZWN0IGlkPVxcXCJzY3JvbGwtc3BlZWRcXFwiIG5nLW1vZGVsPVxcXCJzY3JvbGwuc3BlZWRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwic2xvd1xcXCI+e3snc2Nyb2xsLnNwZWVkLnNsb3cnIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICAgIDxvcHRpb24gdmFsdWU9XFxcIm1lZGl1bVxcXCI+e3snc2Nyb2xsLnNwZWVkLm1lZGl1bScgfCB0cmFuc2xhdGV9fTwvb3B0aW9uPlxcblwiICtcbiAgICBcIiAgICAgICAgPG9wdGlvbiB2YWx1ZT1cXFwiZmFzdFxcXCI+e3snc2Nyb2xsLnNwZWVkLmZhc3QnIHwgdHJhbnNsYXRlfX08L29wdGlvbj5cXG5cIiArXG4gICAgXCIgICAgICA8L3NlbGVjdD5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0yXFxcIiBuZy1zaG93PVxcXCJzY3JvbGwuYnkgIT0gJ25vbmUnICYmIHNjcm9sbC5kaXJlY3Rpb24gPT0gJ3VwJ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3snc2Nyb2xsLnBhdXNlLmxhYmVsJyB8IHRyYW5zbGF0ZX19PC9sYWJlbD5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgaWQ9XFxcInNjcm9sbC1wYXVzZVxcXCIgdHlwZT1cXFwibnVtYmVyXFxcIiBuZy1tb2RlbD1cXFwic2Nyb2xsLnBhdXNlXFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIiAvPlxcblwiICtcbiAgICBcIiAgICAgICAgPHNwYW4gY2xhc3M9XFxcImlucHV0LWdyb3VwLWFkZG9uXFxcIj57eydjb21tb24udW5pdHMuc2Vjb25kcycgfCB0cmFuc2xhdGV9fTwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgICAgPC9kaXY+XFxuXCIgK1xuICAgIFwiICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDxkaXYgY2xhc3M9XFxcImNvbC1tZC0yXFxcIiBuZy1zaG93PVxcXCJzY3JvbGwuYnkgIT0gJ25vbmUnICYmIHNjcm9sbC5kaXJlY3Rpb24gPT0gJ3VwJ1xcXCI+XFxuXCIgK1xuICAgIFwiICAgIDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblwiICtcbiAgICBcIiAgICAgIDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3snc2Nyb2xsLnB1ZC5sYWJlbCcgfCB0cmFuc2xhdGV9fTwvbGFiZWw+XFxuXCIgK1xuICAgIFwiICAgICAgPHNwYW4gcG9wb3Zlcj1cXFwie3snc2Nyb2xsLnB1ZC50b29sdGlwJyB8IHRyYW5zbGF0ZX19XFxcIiBwb3BvdmVyLXRyaWdnZXI9XFxcImNsaWNrXFxcIlxcblwiICtcbiAgICBcIiAgICAgICAgcG9wb3Zlci1wbGFjZW1lbnQ9XFxcInJpZ2h0XFxcIiBydi10b29sdGlwPjwvc3Bhbj5cXG5cIiArXG4gICAgXCIgICAgICA8ZGl2IGNsYXNzPVxcXCJpbnB1dC1ncm91cFxcXCI+XFxuXCIgK1xuICAgIFwiICAgICAgICA8aW5wdXQgaWQ9XFxcInNjcm9sbC1wdWRcXFwiIHR5cGU9XFxcIm51bWJlclxcXCIgbmctbW9kZWw9XFxcInNjcm9sbC5wdWRcXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiIC8+XFxuXCIgK1xuICAgIFwiICAgICAgICA8c3BhbiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPnt7J2NvbW1vbi51bml0cy5zZWNvbmRzJyB8IHRyYW5zbGF0ZX19PC9zcGFuPlxcblwiICtcbiAgICBcIiAgICAgIDwvZGl2PlxcblwiICtcbiAgICBcIiAgICA8L2Rpdj5cXG5cIiArXG4gICAgXCIgIDwvZGl2PlxcblwiICtcbiAgICBcIjwvZGl2PlxcblwiICtcbiAgICBcIlwiKTtcbn1dKTtcbn0pKCk7XG5cbi8qIGV4cG9ydGVkIGNvbmZpZyAqL1xuaWYgKHR5cGVvZiBhbmd1bGFyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi5jb21tb24uaTE4bi5jb25maWdcIiwgW10pXG4gICAgLmNvbnN0YW50KFwiTE9DQUxFU19QUkVGSVhcIiwgXCJsb2NhbGVzL3RyYW5zbGF0aW9uX1wiKVxuICAgIC5jb25zdGFudChcIkxPQ0FMRVNfU1VGSVhcIiwgXCIuanNvblwiKTtcbn1cblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5nb29nbGVTcHJlYWRzaGVldC5zZXR0aW5nc1wiLCBbXG4gIFwicmlzZXZpc2lvbi5jb21tb24uaTE4blwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi50b29sdGlwXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLndpZGdldC1idXR0b24tdG9vbGJhclwiLFxuICBcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vbi5jb2x1bW4tc2VsZWN0b3JcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24uZm9udC1zZXR0aW5nXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnNjcm9sbC1zZXR0aW5nXCIsXG4gIFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLmdvb2dsZS1kcml2ZS1waWNrZXJcIixcbiAgXCJyaXNldmlzaW9uLndpZGdldC5jb21tb24udmlzdWFsaXphdGlvblwiLFxuICBcImNvbG9ycGlja2VyLm1vZHVsZVwiXG5dKTtcblxuXG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIsIFtdKTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5jb21tb25cIilcbiAgLmNvbnRyb2xsZXIoXCJzZXR0aW5nc0NvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwic2V0dGluZ3NTYXZlclwiLCBcInNldHRpbmdzR2V0dGVyXCIsIFwic2V0dGluZ3NDbG9zZXJcIixcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCBzZXR0aW5nc1NhdmVyLCBzZXR0aW5nc0dldHRlciwgc2V0dGluZ3NDbG9zZXIpIHtcblxuICAgICRzY29wZS5zZXR0aW5ncyA9IHsgcGFyYW1zOiB7fSwgYWRkaXRpb25hbFBhcmFtczoge319O1xuICAgICRzY29wZS5hbGVydHMgPSBbXTtcblxuICAgICRzY29wZS5nZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgZGVmYXVsdFZhbCkge1xuICAgICAgdmFyIHZhbCA9ICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zW25hbWVdO1xuICAgICAgaWYoYW5ndWxhci5pc1VuZGVmaW5lZCh2YWwpKSB7XG4gICAgICAgIHJldHVybiBkZWZhdWx0VmFsO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgICB9XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW0gPSBmdW5jdGlvbiAobmFtZSwgdmFsKSB7XG4gICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtc1tuYW1lXSA9IHZhbDtcbiAgICB9O1xuXG4gICAgJHNjb3BlLmxvYWRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKCkge1xuICAgICAgc2V0dGluZ3NHZXR0ZXIuZ2V0QWRkaXRpb25hbFBhcmFtcygpLnRoZW4oZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgPSBhZGRpdGlvbmFsUGFyYW1zO1xuICAgICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImxvYWRBZGRpdGlvbmFsUGFyYW1zXCIsIGFkZGl0aW9uYWxQYXJhbXMpO1xuICAgICAgfSxcbiAgICAgIGZ1bmN0aW9uIChlcnIpIHthbGVydCAoZXJyKTsgfSk7XG4gICAgfTtcblxuICAgICRzY29wZS5zZXRBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKG5hbWUsIHZhbCkge1xuICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXNbbmFtZV0gPSB2YWw7XG4gICAgfTtcblxuICAgICRzY29wZS5zYXZlU2V0dGluZ3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvL2NsZWFyIG91dCBwcmV2aW91cyBhbGVydHMsIGlmIGFueVxuICAgICAgJHNjb3BlLmFsZXJ0cyA9IFtdO1xuXG4gICAgICAkc2NvcGUuJGJyb2FkY2FzdChcImNvbGxlY3RBZGRpdGlvbmFsUGFyYW1zXCIpO1xuXG4gICAgICBzZXR0aW5nc1NhdmVyLnNhdmVTZXR0aW5ncygkc2NvcGUuc2V0dGluZ3MpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86IHBlcmhhcHMgc2hvdyBzb21lIGluZGljYXRvciBpbiBVST9cbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgJHNjb3BlLmFsZXJ0cyA9IGVyci5hbGVydHM7XG4gICAgICB9KTtcblxuICAgIH07XG5cbiAgICAkc2NvcGUuY2xvc2VTZXR0aW5ncyA9IGZ1bmN0aW9uKCkge1xuICAgICAgc2V0dGluZ3NDbG9zZXIuY2xvc2VTZXR0aW5ncygpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAvL1RPRE86XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICRzY29wZS5hbGVydHMgPSBlcnIuYWxlcnRzO1xuICAgICAgfSk7XG5cbiAgICB9O1xuXG4gICAgJHNjb3BlLnNldHRpbmdzLnBhcmFtcyA9IHNldHRpbmdzR2V0dGVyLmdldFBhcmFtcygpO1xuICAgICRzY29wZS5sb2FkQWRkaXRpb25hbFBhcmFtcygpO1xuICB9XSlcblxuICAuZGlyZWN0aXZlKFwic2Nyb2xsT25BbGVydHNcIiwgZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJlc3RyaWN0OiBcIkFcIiwgLy9yZXN0cmljdHMgdG8gYXR0cmlidXRlc1xuICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgbGluazogZnVuY3Rpb24oJHNjb3BlLCAkZWxtKSB7XG4gICAgICAgICRzY29wZS4kd2F0Y2hDb2xsZWN0aW9uKFwiYWxlcnRzXCIsIGZ1bmN0aW9uIChuZXdBbGVydHMsIG9sZEFsZXJ0cykge1xuICAgICAgICAgIGlmKG5ld0FsZXJ0cy5sZW5ndGggPiAwICYmIG9sZEFsZXJ0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICQoXCJib2R5XCIpLmFuaW1hdGUoe3Njcm9sbFRvcDogJGVsbS5vZmZzZXQoKS50b3B9LCBcImZhc3RcIik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xufSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5jb25zdGFudChcIlNUT1JBR0VfRklMRV9VUkxfQkFTRVwiLCBcInN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vcmlzZW1lZGlhbGlicmFyeS1cIilcbiAgLmNvbnN0YW50KFwiU1RPUkFHRV9GT0xERVJfVVJMX0JBU0VcIiwgXCJnb29nbGVhcGlzLmNvbS9zdG9yYWdlL1wiKVxuICAuZmFjdG9yeShcImNvbW1vblNldHRpbmdzXCIsIFtcIiRsb2dcIiwgXCJTVE9SQUdFX0ZJTEVfVVJMX0JBU0VcIiwgXCJTVE9SQUdFX0ZPTERFUl9VUkxfQkFTRVwiLFxuICAgIGZ1bmN0aW9uICgkbG9nLCBTVE9SQUdFX0ZJTEVfVVJMX0JBU0UsIFNUT1JBR0VfRk9MREVSX1VSTF9CQVNFKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHtcbiAgICAgIGdldFN0b3JhZ2VVcmxEYXRhOiBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIHZhciBzdG9yYWdlID0ge30sXG4gICAgICAgICAgc3RyLCBhcnIsIHBhcmFtcywgcGFpcjtcblxuICAgICAgICBmdW5jdGlvbiBnZXRTdG9yYWdlVHlwZShzdG9yYWdlVXJsKSB7XG4gICAgICAgICAgaWYgKHN0b3JhZ2VVcmwuaW5kZXhPZihTVE9SQUdFX0ZJTEVfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZmlsZVwiO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChzdG9yYWdlVXJsLmluZGV4T2YoU1RPUkFHRV9GT0xERVJfVVJMX0JBU0UpICE9PSAtMSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiZm9sZGVyXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBnZXRDb21wYW55SWQoc3RvcmFnZVVybCkge1xuICAgICAgICAgIHZhciBwID0gc3RvcmFnZVVybC5zcGxpdChcInJpc2VtZWRpYWxpYnJhcnktXCIpO1xuXG4gICAgICAgICAgcmV0dXJuIHBbMV0uc2xpY2UoMCwgcFsxXS5pbmRleE9mKFwiL1wiKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZ2V0U3RvcmFnZVR5cGUodXJsKSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgICBzdHIgPSB1cmwuc3BsaXQoU1RPUkFHRV9GSUxFX1VSTF9CQVNFKVsxXTtcbiAgICAgICAgICBzdHIgPSBkZWNvZGVVUklDb21wb25lbnQoc3RyLnNsaWNlKHN0ci5pbmRleE9mKFwiL1wiKSArIDEpKTtcbiAgICAgICAgICBhcnIgPSBzdHIuc3BsaXQoXCIvXCIpO1xuXG4gICAgICAgICAgc3RvcmFnZS5jb21wYW55SWQgPSBnZXRDb21wYW55SWQodXJsKTtcbiAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gYXJyLnBvcCgpO1xuICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gYXJyLmxlbmd0aCA+IDAgPyBhcnIuam9pbihcIi9cIikgOiBcIlwiO1xuXG4gICAgICAgICAgaWYgKHN0b3JhZ2UuZm9sZGVyICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAvLyBhZGQgZW5kaW5nIFwiL1wiIHRvIHRoZSBmb2xkZXIgcGF0aFxuICAgICAgICAgICAgc3RvcmFnZS5mb2xkZXIgKz0gXCIvXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdldFN0b3JhZ2VUeXBlKHVybCkgPT09IFwiZm9sZGVyXCIpIHtcbiAgICAgICAgICBwYXJhbXMgPSB1cmwuc3BsaXQoXCI/XCIpO1xuXG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYXJhbXNbaV0uc3BsaXQoXCI9XCIpO1xuXG4gICAgICAgICAgICBpZiAocGFpclswXSA9PT0gXCJwcmVmaXhcIiAmJiB0eXBlb2YgcGFpclsxXSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBwYWlyWzFdICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuY29tcGFueUlkID0gZ2V0Q29tcGFueUlkKHVybCk7XG4gICAgICAgICAgICAgIHN0b3JhZ2UuZm9sZGVyID0gZGVjb2RlVVJJQ29tcG9uZW50KHBhaXJbMV0pO1xuICAgICAgICAgICAgICBzdG9yYWdlLmZpbGVOYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0b3JhZ2U7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5mYWN0b3J5KFwiZ2FkZ2V0c0FwaVwiLCBbXCIkd2luZG93XCIsIGZ1bmN0aW9uICgkd2luZG93KSB7XG4gICAgcmV0dXJuICR3aW5kb3cuZ2FkZ2V0cztcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImdvb2dsZUZvbnRMb2FkZXJcIiwgW1wiJGh0dHBcIiwgXCJhbmd1bGFyTG9hZFwiLCBmdW5jdGlvbiAoJGh0dHAsIGFuZ3VsYXJMb2FkKSB7XG5cbiAgICB2YXIgZmFjdG9yeSA9IHt9LFxuICAgICAgYWxsRm9udHMgPSBbXTtcblxuICAgIGZhY3RvcnkuZ2V0R29vZ2xlRm9udHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChhbGxGb250cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgLy8gR2V0IGxpc3Qgb2YgR29vZ2xlIGZvbnRzIHNvcnRlZCBhbHBoYWJldGljYWxseS5cbiAgICAgICAgcmV0dXJuICRodHRwLmdldChcImh0dHBzOi8vd3d3Lmdvb2dsZWFwaXMuY29tL3dlYmZvbnRzL3YxL3dlYmZvbnRzP2tleT1BSXphU3lCWHhWS19JT1Y3TE5RTXVWVm9fbDdadk41M2VqTjg2elkmc29ydD1hbHBoYVwiLCB7IGNhY2hlOiB0cnVlIH0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24ocmVzcCkge1xuICAgICAgICAgICAgdmFyIGl0ZW0gPSBudWxsO1xuXG4gICAgICAgICAgICBpZiAocmVzcC5kYXRhICYmIHJlc3AuZGF0YS5pdGVtcykge1xuICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gcmVzcC5kYXRhLml0ZW1zLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IHJlc3AuZGF0YS5pdGVtc1tpXTtcblxuICAgICAgICAgICAgICAgIC8vIERvbid0IHJldHVybiB0aG9zZSBmb250cyB0aGF0IGhhdmUgYSBzdWJzZXQgb2YgXCJraG1lclwiLlxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnN1YnNldHMgJiYgKGl0ZW0uc3Vic2V0cy5sZW5ndGggPT09IDEpICYmXG4gICAgICAgICAgICAgICAgICAoaXRlbS5zdWJzZXRzWzBdLnRvTG93ZXJDYXNlKCkgPT09IFwia2htZXJcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYWxsRm9udHMucHVzaChpdGVtLmZhbWlseSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICByZXR1cm4gbG9hZEZvbnRzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGxvYWRGb250cygpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvKiBGaWx0ZXIgbGlzdCBvZiBmb250cyB0byBvbmx5IHJldHVybiB0aG9zZSB0aGF0IGFyZSBHb29nbGUgZm9udHMuICovXG4gICAgZmFjdG9yeS5nZXRGb250c1VzZWQgPSBmdW5jdGlvbihmYW1pbHlMaXN0KSB7XG4gICAgICB2YXIgZm9udHNVc2VkID0gW107XG5cbiAgICAgIGFuZ3VsYXIuZm9yRWFjaChhbGxGb250cywgZnVuY3Rpb24gKGZhbWlseSkge1xuICAgICAgICBpZiAoZmFtaWx5TGlzdC5pbmRleE9mKGZhbWlseSkgIT09IC0xKSB7XG4gICAgICAgICAgZm9udHNVc2VkLnB1c2goZmFtaWx5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBmb250c1VzZWQ7XG4gICAgfTtcblxuICAgIC8qIExvYWQgdGhlIEdvb2dsZSBmb250cy4gKi9cbiAgICBmdW5jdGlvbiBsb2FkRm9udHMoKSB7XG4gICAgICB2YXIgZmFtaWx5ID0gXCJcIixcbiAgICAgICAgZm9udHMgPSBcIlwiLFxuICAgICAgICB1cmwgPSBcIlwiLFxuICAgICAgICB1cmxzID0gW10sXG4gICAgICAgIHNwYWNlcyA9IGZhbHNlLFxuICAgICAgICBmYWxsYmFjayA9IFwiLHNhbnMtc2VyaWY7XCIsXG4gICAgICAgIGZvbnRCYXNlVXJsID0gXCIvL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2Nzcz9mYW1pbHk9XCIsXG4gICAgICAgIGV4Y2x1ZGUgPSBbXCJCdWRhXCIsIFwiQ29kYSBDYXB0aW9uXCIsIFwiT3BlbiBTYW5zIENvbmRlbnNlZFwiLCBcIlVuaWZyYWt0dXJDb29rXCIsIFwiTW9sbGVcIl07XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsRm9udHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgZmFtaWx5ID0gYWxsRm9udHNbaV07XG5cbiAgICAgICAgaWYgKGV4Y2x1ZGUuaW5kZXhPZihmYW1pbHkpID09PSAtMSkge1xuICAgICAgICAgIHVybCA9IGZvbnRCYXNlVXJsICsgZmFtaWx5O1xuXG4gICAgICAgICAgYW5ndWxhckxvYWQubG9hZENTUyh1cmwpO1xuICAgICAgICAgIHVybHMucHVzaCh1cmwpO1xuXG4gICAgICAgICAgLy8gY2hlY2sgZm9yIHNwYWNlcyBpbiBmYW1pbHkgbmFtZVxuICAgICAgICAgIGlmICgvXFxzLy50ZXN0KGZhbWlseSkpIHtcbiAgICAgICAgICAgIHNwYWNlcyA9IHRydWU7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKHNwYWNlcykge1xuICAgICAgICAgICAgLy8gd3JhcCBmYW1pbHkgbmFtZSBpbiBzaW5nbGUgcXVvdGVzXG4gICAgICAgICAgICBmb250cyArPSBmYW1pbHkgKyBcIj0nXCIgKyBmYW1pbHkgKyBcIidcIiArIGZhbGxiYWNrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvbnRzICs9IGZhbWlseSArIFwiPVwiICsgZmFtaWx5ICsgZmFsbGJhY2s7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IGZvbnRzOiBmb250cywgdXJsczogdXJscyB9O1xuICAgIH1cblxuICAgIHJldHVybiBmYWN0b3J5O1xuICB9XSk7XG5cbmFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uXCIpXG4gIC5zZXJ2aWNlKFwiaTE4bkxvYWRlclwiLCBbXCIkd2luZG93XCIsIFwiJHFcIiwgZnVuY3Rpb24gKCR3aW5kb3csICRxKSB7XG4gICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICR3aW5kb3cuaTE4bi5pbml0KHsgXG4gICAgICBmYWxsYmFja0xuZzogXCJlblwiLFxuICAgICAgcmVzR2V0UGF0aDogXCJsb2NhbGVzL19fbnNfX19fX2xuZ19fLmpzb25cIlxuICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5pMThuKTtcbiAgICB9KTtcblxuICAgIHRoaXMuZ2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgfTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuZmFjdG9yeShcImltYWdlVmFsaWRhdG9yXCIsIFtcIiRxXCIsIGZ1bmN0aW9uICgkcSkge1xuICAgIHZhciBmYWN0b3J5ID0ge1xuICAgICAgLy8gVmVyaWZ5IHRoYXQgVVJMIGlzIGEgdmFsaWQgaW1hZ2UgZmlsZS5cbiAgICAgIGlzSW1hZ2U6IGZ1bmN0aW9uKHNyYykge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpLFxuICAgICAgICAgIGltYWdlID0gbmV3IEltYWdlKCk7XG5cbiAgICAgICAgaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgfTtcblxuICAgICAgICBpbWFnZS5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShmYWxzZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgaW1hZ2Uuc3JjID0gc3JjO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZmFjdG9yeTtcbiAgfV0pO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0LmNvbW1vblwiKVxuICAuc2VydmljZShcInNldHRpbmdzU2F2ZXJcIiwgW1wiJHFcIiwgXCIkbG9nXCIsIFwiZ2FkZ2V0c0FwaVwiLCBcInNldHRpbmdzUGFyc2VyXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSwgc2V0dGluZ3NQYXJzZXIpIHtcblxuICAgIHRoaXMuc2F2ZVNldHRpbmdzID0gZnVuY3Rpb24gKHNldHRpbmdzLCB2YWxpZGF0b3IpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgYWxlcnRzID0gW10sIHN0ciA9IFwiXCI7XG5cbiAgICAgIHNldHRpbmdzID0gcHJvY2Vzc1NldHRpbmdzKHNldHRpbmdzKTtcblxuICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICBhbGVydHMgPSB2YWxpZGF0b3Ioc2V0dGluZ3MpO1xuICAgICAgfVxuXG4gICAgICBpZihhbGVydHMubGVuZ3RoID4gMCkge1xuICAgICAgICAkbG9nLmRlYnVnKFwiVmFsaWRhdGlvbiBmYWlsZWQuXCIsIGFsZXJ0cyk7XG4gICAgICAgIGRlZmVycmVkLnJlamVjdCh7YWxlcnRzOiBhbGVydHN9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHNldHRpbmdzLnBhcmFtcy5oYXNPd25Qcm9wZXJ0eShcImxheW91dFVSTFwiKSkge1xuICAgICAgICAvLyBlbnN1cmUgdGhlIHVybCBpcyB0aGUgc3RhcnQgb2YgdGhlIHN0cmluZ1xuICAgICAgICBzdHIgKz0gc2V0dGluZ3MucGFyYW1zLmxheW91dFVSTCArIFwiP1wiO1xuICAgICAgICAvLyBkZWxldGUgdGhpcyBwcm9wZXJ0eSBzbyBpdHMgbm90IGluY2x1ZGVkIGJlbG93IGluIGVuY29kZVBhcmFtcyBjYWxsXG4gICAgICAgIGRlbGV0ZSBzZXR0aW5ncy5wYXJhbXMubGF5b3V0VVJMO1xuICAgICAgfVxuXG4gICAgICBzdHIgKz0gc2V0dGluZ3NQYXJzZXIuZW5jb2RlUGFyYW1zKHNldHRpbmdzLnBhcmFtcyk7XG5cbiAgICAgIHZhciBhZGRpdGlvbmFsUGFyYW1zU3RyID1cbiAgICAgICAgc2V0dGluZ3NQYXJzZXIuZW5jb2RlQWRkaXRpb25hbFBhcmFtcyhzZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zKTtcblxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX3NhdmVTZXR0aW5nc1wiLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICRsb2cuZGVidWcoXCJlbmNvZGVkIHNldHRpbmdzXCIsIEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICAkbG9nLmRlYnVnKFwiU2V0dGluZ3Mgc2F2ZWQuIFwiLCBzZXR0aW5ncyk7XG5cbiAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfSwge1xuICAgICAgICBwYXJhbXM6IHN0cixcbiAgICAgICAgYWRkaXRpb25hbFBhcmFtczogYWRkaXRpb25hbFBhcmFtc1N0clxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgICAgIHZhciBuZXdTZXR0aW5ncyA9IGFuZ3VsYXIuY29weShzZXR0aW5ncyk7XG5cbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMuaWQ7XG4gICAgICBkZWxldGUgbmV3U2V0dGluZ3MucGFyYW1zLmNvbXBhbnlJZDtcbiAgICAgIGRlbGV0ZSBuZXdTZXR0aW5ncy5wYXJhbXMucnNXO1xuICAgICAgZGVsZXRlIG5ld1NldHRpbmdzLnBhcmFtcy5yc0g7XG5cbiAgICAgIHJldHVybiBuZXdTZXR0aW5ncztcbiAgICB9XG5cbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0dldHRlclwiLCBbXCIkcVwiLCBcImdhZGdldHNBcGlcIiwgXCIkbG9nXCIsIFwic2V0dGluZ3NQYXJzZXJcIiwgXCIkd2luZG93XCIsIFwiZGVmYXVsdFNldHRpbmdzXCIsXG4gICAgZnVuY3Rpb24gKCRxLCBnYWRnZXRzQXBpLCAkbG9nLCBzZXR0aW5nc1BhcnNlciwgJHdpbmRvdywgZGVmYXVsdFNldHRpbmdzKSB7XG5cbiAgICAgIHRoaXMuZ2V0QWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcbiAgICAgICAgdmFyIGRlZmF1bHRBZGRpdGlvbmFsUGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMgfHwge307XG5cbiAgICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2dldEFkZGl0aW9uYWxQYXJhbXNcIiwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHNldHRpbmdzUGFyc2VyLnBhcnNlQWRkaXRpb25hbFBhcmFtcyhyZXN1bHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHt9O1xuICAgICAgICAgIH1cblxuICAgICAgICAgICRsb2cuZGVidWcoXCJnZXRBZGRpdGlvbmFsUGFyYW1zIHJldHVybnMgXCIsIHJlc3VsdCk7XG4gICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZSgkLmV4dGVuZCh0cnVlLCBkZWZhdWx0QWRkaXRpb25hbFBhcmFtcywgcmVzdWx0KSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgICAgfTtcblxuICAgICAgdGhpcy5nZXRQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBkZWZhdWx0UGFyYW1zID0gZGVmYXVsdFNldHRpbmdzLnBhcmFtcyB8fCB7fTtcbiAgICAgICAgcmV0dXJuIGFuZ3VsYXIuZXh0ZW5kKGRlZmF1bHRQYXJhbXMsXG4gICAgICAgICAgc2V0dGluZ3NQYXJzZXIucGFyc2VQYXJhbXMoJHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpKTtcbiAgICAgIH07XG4gIH1dKVxuXG4gIC5zZXJ2aWNlKFwic2V0dGluZ3NQYXJzZXJcIiwgW2Z1bmN0aW9uICgpIHtcbiAgICB0aGlzLnBhcnNlQWRkaXRpb25hbFBhcmFtcyA9IGZ1bmN0aW9uIChhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICBpZihhZGRpdGlvbmFsUGFyYW1zU3RyKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGFkZGl0aW9uYWxQYXJhbXNTdHIpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVBZGRpdGlvbmFsUGFyYW1zID0gZnVuY3Rpb24gKGFkZGl0aW9uYWxQYXJhbXMpIHtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhZGRpdGlvbmFsUGFyYW1zKTtcbiAgICB9O1xuXG4gICAgdGhpcy5lbmNvZGVQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zKSB7XG4gICAgICB2YXIgc3RyID0gW107XG4gICAgICBmb3IodmFyIHAgaW4gcGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgaWYgKHR5cGVvZiBwYXJhbXNbcF0gPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgIHZhbHVlID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zW3BdKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZSA9IHBhcmFtc1twXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RyLnB1c2goXCJ1cF9cIiArIGVuY29kZVVSSUNvbXBvbmVudChwKSArIFwiPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHN0ci5qb2luKFwiJlwiKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gc3RyaXBQcmVmaXgobmFtZSkge1xuICAgICAgaWYobmFtZS5pbmRleE9mKFwidXBfXCIpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBuYW1lLnNsaWNlKDMpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMucGFyc2VQYXJhbXMgPSBmdW5jdGlvbiAocGFyYW1zU3RyKSB7XG4gICAgICAvL2dldCByaWQgb2YgcHJlY2VlZGluZyBcIj9cIlxuICAgICAgaWYocGFyYW1zU3RyWzBdID09PSBcIj9cIikge1xuICAgICAgICBwYXJhbXNTdHIgPSBwYXJhbXNTdHIuc2xpY2UoMSk7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICB2YXIgdmFycyA9IHBhcmFtc1N0ci5zcGxpdChcIiZcIik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KFwiPVwiKTtcbiAgICAgICAgdmFyIG5hbWUgPSBzdHJpcFByZWZpeChkZWNvZGVVUklDb21wb25lbnQocGFpclswXSkpO1xuICAgICAgICAvL3NhdmUgc2V0dGluZ3Mgb25seSBpZiBpdCBoYXMgdXBfIHByZWZpeC4gSWdub3JlIG90aGVyd2lzZVxuICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBKU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChwYWlyWzFdKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXN1bHRbbmFtZV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnNlcnZpY2UoXCJzZXR0aW5nc0Nsb3NlclwiLCBbXCIkcVwiLCBcIiRsb2dcIiwgXCJnYWRnZXRzQXBpXCIsXG4gIGZ1bmN0aW9uICgkcSwgJGxvZywgZ2FkZ2V0c0FwaSkge1xuXG4gICAgdGhpcy5jbG9zZVNldHRpbmdzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIGRlZmVycmVkID0gJHEuZGVmZXIoKTtcblxuICAgICAgZ2FkZ2V0c0FwaS5ycGMuY2FsbChcIlwiLCBcInJzY21kX2Nsb3NlU2V0dGluZ3NcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKHRydWUpO1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBkZWZlcnJlZC5wcm9taXNlO1xuICAgIH07XG5cbiAgfV0pXG5cbiAgLnZhbHVlKFwiZGVmYXVsdFNldHRpbmdzXCIsIHt9KTtcblxuKGZ1bmN0aW9uIChhbmd1bGFyKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIGFuZ3VsYXIubW9kdWxlKFwicmlzZXZpc2lvbi53aWRnZXQuY29tbW9uLnZpc3VhbGl6YXRpb25cIiwgW10pXG4gICAgLmZhY3RvcnkoXCJ2aXN1YWxpemF0aW9uQXBpXCIsIFtcIiRxXCIsIFwiJHdpbmRvd1wiLCBmdW5jdGlvbiAoJHEsICR3aW5kb3cpIHtcbiAgICAgIHZhciBkZWZlcnJlZCA9ICRxLmRlZmVyKCk7XG4gICAgICB2YXIgcHJvbWlzZTtcblxuICAgICAgdmFyIGZhY3RvcnkgPSB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbWlzZSA9IGRlZmVycmVkLnByb21pc2U7XG4gICAgICAgICAgICBpZiAoISR3aW5kb3cuZ29vZ2xlLnZpc3VhbGl6YXRpb24pIHtcbiAgICAgICAgICAgICAgJHdpbmRvdy5nb29nbGUuc2V0T25Mb2FkQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgIGRlZmVycmVkLnJlc29sdmUoJHdpbmRvdy5nb29nbGUudmlzdWFsaXphdGlvbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmV0dXJuIGZhY3Rvcnk7XG5cbiAgICB9XSk7XG5cbn0pKGFuZ3VsYXIpO1xuXG5hbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0Lmdvb2dsZVNwcmVhZHNoZWV0LnNldHRpbmdzXCIpXG4gIC5jb250cm9sbGVyKFwic3ByZWFkc2hlZXRTZXR0aW5nc0NvbnRyb2xsZXJcIiwgW1wiJHNjb3BlXCIsIFwiJHdpbmRvd1wiLCBcIiRsb2dcIiwgXCJnb29nbGVTaGVldFwiLCBcImNvbHVtbnNcIixcbiAgICBmdW5jdGlvbiAoJHNjb3BlLCAkd2luZG93LCAkbG9nLCBnb29nbGVTaGVldCwgY29sdW1ucykge1xuXG4gICAgICAkc2NvcGUuc2hvd1ByZXZpZXcgPSBmYWxzZTtcbiAgICAgICRzY29wZS5zaGVldHMgPSBbXTtcbiAgICAgICRzY29wZS5jdXJyZW50U2hlZXQgPSBudWxsO1xuICAgICAgJHNjb3BlLmNvbHVtbnMgPSBbXTtcblxuICAgICAgJHNjb3BlLmdldENvbHVtbnMgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgIGNvbHVtbnMuZ2V0Q29sdW1ucyh1cmwpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGNvbHVtbnMpIHtcbiAgICAgICAgICAgIGlmIChjb2x1bW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgJHNjb3BlLmNvbHVtbnMgPSBjb2x1bW5zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4obnVsbCwgJGxvZy5lcnJvcik7XG4gICAgICB9O1xuXG4gICAgICBmdW5jdGlvbiBnZXRXb3JrU2hlZXRzKGZpbGVJZCkge1xuICAgICAgICBnb29nbGVTaGVldC5nZXRXb3JrU2hlZXRzKGZpbGVJZClcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAoc2hlZXRzKSB7XG4gICAgICAgICAgICAkbG9nLmRlYnVnKFwiV29ya3NoZWV0c1wiLCBzaGVldHMpO1xuICAgICAgICAgICAgJHNjb3BlLnB1Ymxpc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAkc2NvcGUuc2hlZXRzID0gc2hlZXRzO1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRTaGVldCA9IHNoZWV0c1skc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC50YWJJZCAtIDFdO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4obnVsbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgJHNjb3BlLnB1Ymxpc2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgJHNjb3BlLnNoZWV0cyA9IFtdO1xuICAgICAgICAgICAgJHNjb3BlLmN1cnJlbnRTaGVldCA9IG51bGw7XG4gICAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC50YWJJZCA9IDE7XG4gICAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgICRzY29wZS4kd2F0Y2goXCJjdXJyZW50U2hlZXRcIiwgZnVuY3Rpb24gKGN1cnJlbnRTaGVldCkge1xuICAgICAgICBpZiAoY3VycmVudFNoZWV0KSB7XG4gICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQudGFiSWQgPSBjdXJyZW50U2hlZXQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUucHVibGlzaGVkID0gdHJ1ZTtcblxuICAgICAgJHNjb3BlLiR3YXRjaChcInNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuZmlsZUlkXCIsIGZ1bmN0aW9uIChmaWxlSWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBmaWxlSWQgPT09IFwidW5kZWZpbmVkXCIgfHwgIWZpbGVJZCkge1xuICAgICAgICAgICRzY29wZS5zZXR0aW5nc0Zvcm0uJHNldFZhbGlkaXR5KFwiZmlsZUlkXCIsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkc2NvcGUuc2hvd1ByZXZpZXcgPSB0cnVlO1xuICAgICAgICAgICRzY29wZS5zZXR0aW5nc0Zvcm0uJHNldFZhbGlkaXR5KFwiZmlsZUlkXCIsIHRydWUpO1xuXG4gICAgICAgICAgaWYgKCRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnNlbGVjdGlvbiA9PT0gXCJrZXlcIikge1xuICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQudXJsID1cbiAgICAgICAgICAgICAgXCJodHRwczovL2RvY3MuZ29vZ2xlLmNvbS9zcHJlYWRzaGVldHMvZC9cIiArIGZpbGVJZCArIFwiL2VkaXQjZ2lkPTBcIjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBnZXRXb3JrU2hlZXRzKGZpbGVJZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuJHdhdGNoKFwic2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC51cmxcIiwgZnVuY3Rpb24gKG5ld1VybCwgb2xkVXJsKSB7XG4gICAgICAgIGlmICh0eXBlb2YgbmV3VXJsICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaWYgKG5ld1VybCAhPT0gb2xkVXJsKSB7XG4gICAgICAgICAgICAkc2NvcGUuY29sdW1ucyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIG9sZFVybCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBvbGRVcmwgIT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgLy8gV2lkZ2V0IHNldHRpbmdzIGhhdmUgYWxyZWFkeSBnb25lIHRocm91Z2ggaW5pdGlhbGl6YXRpb24uIFNhZmUgdG8gcmVzZXQgY29sdW1ucyBhcnJheS5cbiAgICAgICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuZm9ybWF0LmNvbHVtbnMgPSBbXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG5ld1VybCAhPT0gXCJcIikge1xuICAgICAgICAgICAgICAkc2NvcGUuZ2V0Q29sdW1ucyhuZXdVcmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgICRzY29wZS4kd2F0Y2goXCJwdWJsaXNoZWRcIiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwidW5kZWZpbmVkXCIgJiYgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQgJiZcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgJiZcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgIT09IFwiXCIpIHtcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3NGb3JtLiRzZXRWYWxpZGl0eShcImZpbGVJZFwiLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAkc2NvcGUuJG9uKFwicGlja2VkXCIsIGZ1bmN0aW9uIChldmVudCwgZGF0YSkge1xuICAgICAgICAkc2NvcGUuc2hvd1ByZXZpZXcgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5zZWxlY3Rpb24gPSBcImRyaXZlXCI7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmRvY05hbWUgPSBkYXRhWzBdLm5hbWU7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnVybCA9IGVuY29kZVVSSShkYXRhWzBdLnVybCk7XG4gICAgICAgICRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmZpbGVJZCA9IGRhdGFbMF0uaWQ7XG4gICAgICB9KTtcblxuICAgICAgJHNjb3BlLnNldFNlbGVjdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAkc2NvcGUuc2hvd1ByZXZpZXcgPSB0cnVlO1xuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5zZWxlY3Rpb24gPSBcImtleVwiO1xuICAgICAgfTtcblxuICAgICAgJHNjb3BlLnByZXZpZXdGaWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAkd2luZG93Lm9wZW4oJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQudXJsLCBcIl9ibGFua1wiKTtcbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5yZXRyeUZpbGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICgkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgJiZcbiAgICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgIT09IFwiXCIpIHtcbiAgICAgICAgICAkc2NvcGUucHVibGlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICBnZXRXb3JrU2hlZXRzKCRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LmZpbGVJZCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgICRzY29wZS5jbGVhclNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJHNjb3BlLnB1Ymxpc2hlZCA9IHRydWU7XG5cbiAgICAgICAgaWYgKCRzY29wZS5zZXR0aW5ncy5hZGRpdGlvbmFsUGFyYW1zLnNwcmVhZHNoZWV0LnNlbGVjdGlvbiA9PT0gXCJkcml2ZVwiKSB7XG4gICAgICAgICAgJHNjb3BlLnNldHRpbmdzLmFkZGl0aW9uYWxQYXJhbXMuc3ByZWFkc2hlZXQuZG9jTmFtZSA9IFwiXCI7XG4gICAgICAgIH1cblxuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC51cmwgPSBcIlwiO1xuICAgICAgICAkc2NvcGUuc2V0dGluZ3MuYWRkaXRpb25hbFBhcmFtcy5zcHJlYWRzaGVldC5maWxlSWQgPSBcIlwiO1xuICAgICAgfTtcblxuICAgIH1dKVxuICAudmFsdWUoXCJkZWZhdWx0U2V0dGluZ3NcIiwge1xuICAgIHBhcmFtczoge30sXG4gICAgYWRkaXRpb25hbFBhcmFtczoge1xuICAgICAgZm9ybWF0OiB7XG4gICAgICAgIGJvZHk6IHtcbiAgICAgICAgICBmb250U3R5bGU6e1xuICAgICAgICAgICAgZm9udDp7XG4gICAgICAgICAgICAgIGZhbWlseTpcInRhaG9tYSxhcmlhbCxoZWx2ZXRpY2Esc2Fucy1zZXJpZlwiLFxuICAgICAgICAgICAgICB0eXBlOlwic3RhbmRhcmRcIixcbiAgICAgICAgICAgICAgdXJsOlwiXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaXplOlwiMThweFwiLFxuICAgICAgICAgICAgY3VzdG9tU2l6ZTpcIlwiLFxuICAgICAgICAgICAgYWxpZ246XCJsZWZ0XCIsXG4gICAgICAgICAgICB2ZXJ0aWNhbEFsaWduOiBcIm1pZGRsZVwiLFxuICAgICAgICAgICAgYm9sZDpmYWxzZSxcbiAgICAgICAgICAgIGl0YWxpYzpmYWxzZSxcbiAgICAgICAgICAgIHVuZGVybGluZTpmYWxzZSxcbiAgICAgICAgICAgIGZvcmVjb2xvcjpcImJsYWNrXCIsXG4gICAgICAgICAgICBiYWNrY29sb3I6XCJ0cmFuc3BhcmVudFwiXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb2x1bW5zOiBbXSxcbiAgICAgICAgZXZlblJvd0NvbG9yOiBcInJnYmEoMjU1LCAyNTUsIDI1NSwgMClcIixcbiAgICAgICAgaGVhZGVyOiB7XG4gICAgICAgICAgZm9udFN0eWxlOntcbiAgICAgICAgICAgIGZvbnQ6e1xuICAgICAgICAgICAgICBmYW1pbHk6XCJ0YWhvbWEsYXJpYWwsaGVsdmV0aWNhLHNhbnMtc2VyaWZcIixcbiAgICAgICAgICAgICAgdHlwZTpcInN0YW5kYXJkXCIsXG4gICAgICAgICAgICAgIHVybDpcIlwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2l6ZTpcIjE4cHhcIixcbiAgICAgICAgICAgIGN1c3RvbVNpemU6XCJcIixcbiAgICAgICAgICAgIGFsaWduOlwibGVmdFwiLFxuICAgICAgICAgICAgdmVydGljYWxBbGlnbjogXCJtaWRkbGVcIixcbiAgICAgICAgICAgIGJvbGQ6ZmFsc2UsXG4gICAgICAgICAgICBpdGFsaWM6ZmFsc2UsXG4gICAgICAgICAgICB1bmRlcmxpbmU6ZmFsc2UsXG4gICAgICAgICAgICBmb3JlY29sb3I6XCJibGFja1wiLFxuICAgICAgICAgICAgYmFja2NvbG9yOlwidHJhbnNwYXJlbnRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb2RkUm93Q29sb3I6IFwicmdiYSgyNTUsIDI1NSwgMjU1LCAwKVwiLFxuICAgICAgICByb3dIZWlnaHQ6IDUwLFxuICAgICAgICBzZXBhcmF0b3I6IHtcbiAgICAgICAgICBjb2xvcjogXCJyZ2JhKDIzOCwyMzgsMjM4LCAxKVwiLFxuICAgICAgICAgIHNob3dDb2x1bW46IHRydWUsXG4gICAgICAgICAgc2hvd1JvdzogdHJ1ZSxcbiAgICAgICAgICBzaXplOiAxXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzY3JvbGw6IHt9LFxuICAgICAgc3ByZWFkc2hlZXQ6IHtcbiAgICAgICAgc2VsZWN0aW9uOiBcImRyaXZlXCIsXG4gICAgICAgIGRvY05hbWU6IFwiXCIsXG4gICAgICAgIHVybDogXCJcIixcbiAgICAgICAgZmlsZUlkOiBcIlwiLFxuICAgICAgICBjZWxsczogXCJzaGVldFwiLFxuICAgICAgICByYW5nZToge1xuICAgICAgICAgIHN0YXJ0Q2VsbDogXCJcIixcbiAgICAgICAgICBlbmRDZWxsOiBcIlwiXG4gICAgICAgIH0sXG4gICAgICAgIHRhYklkOiAxLFxuICAgICAgICBoYXNIZWFkZXI6IGZhbHNlLFxuICAgICAgICByZWZyZXNoOiA1XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuYW5ndWxhci5tb2R1bGUoXCJyaXNldmlzaW9uLndpZGdldC5nb29nbGVTcHJlYWRzaGVldC5zZXR0aW5nc1wiKVxuICAuY29uc3RhbnQoXCJTUFJFQURTSEVFVF9BUElfV09SS1NIRUVUU1wiLCBcImh0dHBzOi8vc3ByZWFkc2hlZXRzLmdvb2dsZS5jb20vZmVlZHMvd29ya3NoZWV0cy9cIilcbiAgLmNvbnN0YW50KFwiU1BSRUFEU0hFRVRfQVBJX1NVRkZJWFwiLCBcIi9wdWJsaWMvYmFzaWNcIilcblxuICAuZmFjdG9yeShcImdvb2dsZVNoZWV0XCIsIFtcIiRodHRwXCIsIFwiJGxvZ1wiLCBcIlNQUkVBRFNIRUVUX0FQSV9XT1JLU0hFRVRTXCIsIFwiU1BSRUFEU0hFRVRfQVBJX1NVRkZJWFwiLFxuICAgIGZ1bmN0aW9uICgkaHR0cCwgJGxvZywgU1BSRUFEU0hFRVRfQVBJX1dPUktTSEVFVFMsIFNQUkVBRFNIRUVUX0FQSV9TVUZGSVgpIHtcblxuICAgICAgdmFyIGZhY3RvcnkgPSB7fSxcbiAgICAgICAgZmlsdGVyU2hlZXRzID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICB2YXIgb3B0aW9uLCBzaGVldHM7XG5cbiAgICAgICAgICBzaGVldHMgPSBkYXRhLmZlZWQuZW50cnkubWFwKGZ1bmN0aW9uICh2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgICAgIG9wdGlvbiA9IHt9O1xuXG4gICAgICAgICAgICAvLyBXb3Jrc2hlZXQgdGFiIG5hbWVcbiAgICAgICAgICAgIG9wdGlvbi5sYWJlbCA9IHZhbHVlLnRpdGxlLiR0O1xuXG4gICAgICAgICAgICAvLyBXb3Jrc2hlZXQgdGFiIG51bWJlclxuICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gKGluZGV4ICsgMSk7XG5cbiAgICAgICAgICAgIHJldHVybiBvcHRpb247XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICByZXR1cm4gc2hlZXRzO1xuICAgICAgICB9O1xuXG4gICAgICBmYWN0b3J5LmdldFdvcmtTaGVldHMgPSBmdW5jdGlvbihmaWxlSWQpIHtcbiAgICAgICAgdmFyIGFwaSA9IFNQUkVBRFNIRUVUX0FQSV9XT1JLU0hFRVRTICsgZmlsZUlkICsgU1BSRUFEU0hFRVRfQVBJX1NVRkZJWDtcblxuICAgICAgICByZXR1cm4gJGh0dHAuZ2V0KGVuY29kZVVSSShhcGkgKyBcIj9hbHQ9anNvblwiKSlcbiAgICAgICAgICAudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJTaGVldHMoZGF0YSk7XG4gICAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gZmFjdG9yeTtcblxuICAgIH1dKTtcblxuKGZ1bmN0aW9uKCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICBhbmd1bGFyLm1vZHVsZShcInJpc2V2aXNpb24ud2lkZ2V0Lmdvb2dsZVNwcmVhZHNoZWV0LnNldHRpbmdzXCIpXG4gICAgLmZhY3RvcnkoXCJjb2x1bW5zXCIsIFtcInZpc3VhbGl6YXRpb25BcGlcIiwgXCIkcVwiLCBmdW5jdGlvbiAodmlzdWFsaXphdGlvbkFwaSwgJHEpIHtcblxuICAgICAgdmFyIGZhY3RvcnkgPSB7fTtcblxuICAgICAgZnVuY3Rpb24gY29uZmlndXJlQ29sdW1ucyhyZXNwb25zZSkge1xuICAgICAgICB2YXIgZGF0YVRhYmxlID0gcmVzcG9uc2UuZ2V0RGF0YVRhYmxlKCksXG4gICAgICAgICAgY29sdW1uTmFtZXMgPSBbXSxcbiAgICAgICAgICBjb2x1bW5JbmRleGVzID0gW10sXG4gICAgICAgICAgY2VsbFZhbHVlLCBjb2x1bW5MYWJlbCwgY29sdW1uSWQsIGksIGo7XG5cbiAgICAgICAgLy8gTmFycm93IGRvd24gYWN0dWFsIGNvbHVtbnMgYmVpbmcgdXNlZC5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGRhdGFUYWJsZS5nZXROdW1iZXJPZkNvbHVtbnMoKTsgaSsrKSB7XG4gICAgICAgICAgZm9yIChqID0gMDsgaiA8IGRhdGFUYWJsZS5nZXROdW1iZXJPZlJvd3MoKTsgaisrKSB7XG4gICAgICAgICAgICBjZWxsVmFsdWUgPSBkYXRhVGFibGUuZ2V0VmFsdWUoaiwgaSk7XG5cbiAgICAgICAgICAgIGlmIChjZWxsVmFsdWUgJiYgY2VsbFZhbHVlICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgIGNvbHVtbkluZGV4ZXMucHVzaChpKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ29uZmlndXJlIHRoZSBjb2x1bW4gb2JqZWN0cyBhbmQgcG9wdWxhdGUgY29sdW1uTmFtZXMgYXJyYXkuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBjb2x1bW5JbmRleGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgY29sdW1uTGFiZWwgPSBkYXRhVGFibGUuZ2V0Q29sdW1uTGFiZWwoY29sdW1uSW5kZXhlc1tpXSk7XG5cbiAgICAgICAgICBpZiAoY29sdW1uTGFiZWwgPT09IFwiXCIpIHtcbiAgICAgICAgICAgIC8vIFRoZXJlJ3Mgbm8gaGVhZGVyIHJvdyBvciB0aGUgY29sdW1uIGlzIHVudGl0bGVkLiBVc2UgdGhlIGNvbHVtbiBpZCBpbnN0ZWFkIChlZy4gQSkuXG4gICAgICAgICAgICBjb2x1bW5MYWJlbCA9IGRhdGFUYWJsZS5nZXRDb2x1bW5JZChjb2x1bW5JbmRleGVzW2ldKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICAvLyBDcmVhdGUgYW4gaWQgdGhhdCBjYW4gYmUgcmVmZXJlbmNlZCBhZ2FpbiB3aGVuIHJlc3RvcmluZyBzYXZlZCB3aWRnZXQgc2V0dGluZ3MuXG4gICAgICAgICAgY29sdW1uSWQgPSBkYXRhVGFibGUuZ2V0Q29sdW1uSWQoY29sdW1uSW5kZXhlc1tpXSkgKyBcIl9cIiArIGRhdGFUYWJsZS5nZXRDb2x1bW5UeXBlKGNvbHVtbkluZGV4ZXNbaV0pICtcbiAgICAgICAgICAgIFwiX1wiICsgY29sdW1uTGFiZWw7XG5cbiAgICAgICAgICBjb2x1bW5OYW1lcy5wdXNoKHtcbiAgICAgICAgICAgIGlkOiBjb2x1bW5JZCxcbiAgICAgICAgICAgIG5hbWU6IGNvbHVtbkxhYmVsLFxuICAgICAgICAgICAgdHlwZTogZGF0YVRhYmxlLmdldENvbHVtblR5cGUoY29sdW1uSW5kZXhlc1tpXSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2x1bW5OYW1lcztcbiAgICAgIH1cblxuICAgICAgZmFjdG9yeS5nZXRDb2x1bW5zID0gZnVuY3Rpb24gKHVybCkge1xuICAgICAgICB2YXIgZGVmZXJyZWQgPSAkcS5kZWZlcigpO1xuXG4gICAgICAgIHZpc3VhbGl6YXRpb25BcGkuZ2V0KCkudGhlbihmdW5jdGlvbiAodml6KSB7XG4gICAgICAgICAgdmFyIHF1ZXJ5ID0gbmV3IHZpei5RdWVyeSh1cmwpO1xuXG4gICAgICAgICAgLy8gT25seSBuZWVkIHRoZSBmaXJzdCByb3cuXG4gICAgICAgICAgcXVlcnkuc2V0UXVlcnkoXCJzZWxlY3QgKiBsaW1pdCAxXCIpO1xuICAgICAgICAgIHF1ZXJ5LnNldFRpbWVvdXQoMzApO1xuXG4gICAgICAgICAgcXVlcnkuc2VuZChmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KFwiTm8gcmVzcG9uc2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5pc0Vycm9yKCkpIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVqZWN0KHJlc3BvbnNlLmdldE1lc3NhZ2UoKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShjb25maWd1cmVDb2x1bW5zKHJlc3BvbnNlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGRlZmVycmVkLnByb21pc2U7XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gZmFjdG9yeTtcbiAgICB9XSk7XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
